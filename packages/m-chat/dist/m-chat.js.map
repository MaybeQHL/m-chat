{"version":3,"file":"m-chat.js","sources":["../../../node_modules/.pnpm/mitt@3.0.0/node_modules/mitt/dist/mitt.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/utils/validate.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/utils/basic.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/utils/props.mjs","../../../node_modules/.pnpm/@vant+use@1.4.3/node_modules/@vant/use/dist/index.esm.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/utils/dom.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/utils/format.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/utils/deep-assign.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/locale/lang/zh-CN.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/locale/index.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/utils/create.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/utils/constant.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/utils/interceptor.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/utils/with-install.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/composables/on-popup-reopen.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/composables/use-expose.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/composables/use-route.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/badge/Badge.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/badge/index.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/composables/use-global-z-index.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/config-provider/ConfigProvider.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/icon/Icon.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/icon/index.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/loading/Loading.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/loading/index.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/button/Button.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/button/index.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/popup/shared.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/composables/use-touch.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/composables/use-lock-scroll.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/composables/use-lazy-render.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/overlay/Overlay.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/overlay/index.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/popup/Popup.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/popup/index.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/utils/mount-component.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/toast/lock-click.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/toast/Toast.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/toast/function-call.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/image/Image.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/image/index.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/swipe/Swipe.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/swipe/index.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/swipe-item/SwipeItem.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/swipe-item/index.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/image-preview/ImagePreviewItem.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/image-preview/ImagePreview.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/image-preview/function-call.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/pull-refresh/PullRefresh.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/pull-refresh/index.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/uploader/utils.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/uploader/UploaderPreviewItem.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/uploader/Uploader.mjs","../../../node_modules/.pnpm/vant@3.6.3_vue@3.2.39/node_modules/vant/es/uploader/index.mjs","../../../node_modules/.pnpm/lottie-web@5.9.6/node_modules/lottie-web/build/player/lottie.js","../src/components/VueLottie.vue","../src/assets/svg/video.svg","../src/utils/events.const.ts","../src/utils/EventCenter.ts","../src/utils/common.ts","../src/enum.ts","../src/components/SvgIcon.vue","../src/assets/svg/location.svg","../src/components/Messages.vue","../src/assets/svg/keyboard.svg","../src/assets/svg/voice.svg","../src/assets/svg/close.svg","../../../node_modules/.pnpm/@amap+amap-jsapi-loader@1.0.1/node_modules/@amap/amap-jsapi-loader/dist/index.js","../src/components/Map.vue","../src/components/Comment.vue","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_freeGlobal.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_root.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Symbol.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getRawTag.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_objectToString.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetTag.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObject.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isFunction.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_coreJsData.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isMasked.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_toSource.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsNative.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getValue.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getNative.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_defineProperty.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseAssignValue.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/eq.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_assignValue.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copyObject.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/identity.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_apply.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_overRest.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/constant.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseSetToString.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_shortOut.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setToString.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseRest.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isLength.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArrayLike.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isIndex.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isIterateeCall.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_createAssigner.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseTimes.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObjectLike.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsArguments.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArguments.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArray.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/stubFalse.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isBuffer.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsTypedArray.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseUnary.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nodeUtil.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isTypedArray.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayLikeKeys.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isPrototype.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeKeysIn.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseKeysIn.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/keysIn.js","../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/assignIn.js","../src/components/MChat.vue","../src/with-install.ts","../src/index.ts"],"sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import { inBrowser } from \"./basic.mjs\";\nconst isDef = (val) => val !== void 0 && val !== null;\nconst isFunction = (val) => typeof val === \"function\";\nconst isObject = (val) => val !== null && typeof val === \"object\";\nconst isPromise = (val) => isObject(val) && isFunction(val.then) && isFunction(val.catch);\nconst isDate = (val) => Object.prototype.toString.call(val) === \"[object Date]\" && !Number.isNaN(val.getTime());\nfunction isMobile(value) {\n  value = value.replace(/[^-|\\d]/g, \"\");\n  return /^((\\+86)|(86))?(1)\\d{10}$/.test(value) || /^0[0-9-]{10,13}$/.test(value);\n}\nconst isNumeric = (val) => typeof val === \"number\" || /^\\d+(\\.\\d+)?$/.test(val);\nconst isIOS = () => inBrowser ? /ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()) : false;\nexport {\n  isDate,\n  isDef,\n  isFunction,\n  isIOS,\n  isMobile,\n  isNumeric,\n  isObject,\n  isPromise\n};\n","import { isObject } from \"./validate.mjs\";\nfunction noop() {\n}\nconst extend = Object.assign;\nconst inBrowser = typeof window !== \"undefined\";\nfunction get(object, path) {\n  const keys = path.split(\".\");\n  let result = object;\n  keys.forEach((key) => {\n    var _a;\n    result = isObject(result) ? (_a = result[key]) != null ? _a : \"\" : \"\";\n  });\n  return result;\n}\nfunction pick(obj, keys, ignoreUndefined) {\n  return keys.reduce((ret, key) => {\n    if (!ignoreUndefined || obj[key] !== void 0) {\n      ret[key] = obj[key];\n    }\n    return ret;\n  }, {});\n}\nconst toArray = (item) => Array.isArray(item) ? item : [item];\nexport {\n  extend,\n  get,\n  inBrowser,\n  noop,\n  pick,\n  toArray\n};\n","const unknownProp = null;\nconst numericProp = [Number, String];\nconst truthProp = {\n  type: Boolean,\n  default: true\n};\nconst makeRequiredProp = (type) => ({\n  type,\n  required: true\n});\nconst makeArrayProp = () => ({\n  type: Array,\n  default: () => []\n});\nconst makeNumberProp = (defaultVal) => ({\n  type: Number,\n  default: defaultVal\n});\nconst makeNumericProp = (defaultVal) => ({\n  type: numericProp,\n  default: defaultVal\n});\nconst makeStringProp = (defaultVal) => ({\n  type: String,\n  default: defaultVal\n});\nexport {\n  makeArrayProp,\n  makeNumberProp,\n  makeNumericProp,\n  makeRequiredProp,\n  makeStringProp,\n  numericProp,\n  truthProp,\n  unknownProp\n};\n","// src/utils.ts\nvar inBrowser = typeof window !== \"undefined\";\nvar supportsPassive = true;\nfunction raf(fn) {\n  return inBrowser ? requestAnimationFrame(fn) : -1;\n}\nfunction cancelRaf(id) {\n  if (inBrowser) {\n    cancelAnimationFrame(id);\n  }\n}\nfunction doubleRaf(fn) {\n  raf(() => raf(fn));\n}\n\n// src/useRect/index.ts\nimport { unref } from \"vue\";\nvar isWindow = (val) => val === window;\nvar makeDOMRect = (width2, height2) => ({\n  top: 0,\n  left: 0,\n  right: width2,\n  bottom: height2,\n  width: width2,\n  height: height2\n});\nvar useRect = (elementOrRef) => {\n  const element = unref(elementOrRef);\n  if (isWindow(element)) {\n    const width2 = element.innerWidth;\n    const height2 = element.innerHeight;\n    return makeDOMRect(width2, height2);\n  }\n  if (element == null ? void 0 : element.getBoundingClientRect) {\n    return element.getBoundingClientRect();\n  }\n  return makeDOMRect(0, 0);\n};\n\n// src/useToggle/index.ts\nimport { ref } from \"vue\";\nfunction useToggle(defaultValue = false) {\n  const state = ref(defaultValue);\n  const toggle = (value = !state.value) => {\n    state.value = value;\n  };\n  return [state, toggle];\n}\n\n// src/useRelation/useParent.ts\nimport {\n  ref as ref2,\n  inject,\n  computed,\n  onUnmounted,\n  getCurrentInstance\n} from \"vue\";\nfunction useParent(key) {\n  const parent = inject(key, null);\n  if (parent) {\n    const instance = getCurrentInstance();\n    const { link, unlink, internalChildren } = parent;\n    link(instance);\n    onUnmounted(() => unlink(instance));\n    const index = computed(() => internalChildren.indexOf(instance));\n    return {\n      parent,\n      index\n    };\n  }\n  return {\n    parent: null,\n    index: ref2(-1)\n  };\n}\n\n// src/useRelation/useChildren.ts\nimport {\n  isVNode,\n  provide,\n  reactive,\n  getCurrentInstance as getCurrentInstance2\n} from \"vue\";\nfunction flattenVNodes(children) {\n  const result = [];\n  const traverse = (children2) => {\n    if (Array.isArray(children2)) {\n      children2.forEach((child) => {\n        var _a;\n        if (isVNode(child)) {\n          result.push(child);\n          if ((_a = child.component) == null ? void 0 : _a.subTree) {\n            result.push(child.component.subTree);\n            traverse(child.component.subTree.children);\n          }\n          if (child.children) {\n            traverse(child.children);\n          }\n        }\n      });\n    }\n  };\n  traverse(children);\n  return result;\n}\nfunction sortChildren(parent, publicChildren, internalChildren) {\n  const vnodes = flattenVNodes(parent.subTree.children);\n  internalChildren.sort(\n    (a, b) => vnodes.indexOf(a.vnode) - vnodes.indexOf(b.vnode)\n  );\n  const orderedPublicChildren = internalChildren.map((item) => item.proxy);\n  publicChildren.sort((a, b) => {\n    const indexA = orderedPublicChildren.indexOf(a);\n    const indexB = orderedPublicChildren.indexOf(b);\n    return indexA - indexB;\n  });\n}\nfunction useChildren(key) {\n  const publicChildren = reactive([]);\n  const internalChildren = reactive([]);\n  const parent = getCurrentInstance2();\n  const linkChildren = (value) => {\n    const link = (child) => {\n      if (child.proxy) {\n        internalChildren.push(child);\n        publicChildren.push(child.proxy);\n        sortChildren(parent, publicChildren, internalChildren);\n      }\n    };\n    const unlink = (child) => {\n      const index = internalChildren.indexOf(child);\n      publicChildren.splice(index, 1);\n      internalChildren.splice(index, 1);\n    };\n    provide(\n      key,\n      Object.assign(\n        {\n          link,\n          unlink,\n          children: publicChildren,\n          internalChildren\n        },\n        value\n      )\n    );\n  };\n  return {\n    children: publicChildren,\n    linkChildren\n  };\n}\n\n// src/useCountDown/index.ts\nimport {\n  ref as ref3,\n  computed as computed2,\n  onActivated,\n  onDeactivated,\n  onBeforeUnmount\n} from \"vue\";\nvar SECOND = 1e3;\nvar MINUTE = 60 * SECOND;\nvar HOUR = 60 * MINUTE;\nvar DAY = 24 * HOUR;\nfunction parseTime(time) {\n  const days = Math.floor(time / DAY);\n  const hours = Math.floor(time % DAY / HOUR);\n  const minutes = Math.floor(time % HOUR / MINUTE);\n  const seconds = Math.floor(time % MINUTE / SECOND);\n  const milliseconds = Math.floor(time % SECOND);\n  return {\n    total: time,\n    days,\n    hours,\n    minutes,\n    seconds,\n    milliseconds\n  };\n}\nfunction isSameSecond(time1, time2) {\n  return Math.floor(time1 / 1e3) === Math.floor(time2 / 1e3);\n}\nfunction useCountDown(options) {\n  let rafId;\n  let endTime;\n  let counting;\n  let deactivated;\n  const remain = ref3(options.time);\n  const current = computed2(() => parseTime(remain.value));\n  const pause = () => {\n    counting = false;\n    cancelRaf(rafId);\n  };\n  const getCurrentRemain = () => Math.max(endTime - Date.now(), 0);\n  const setRemain = (value) => {\n    var _a, _b;\n    remain.value = value;\n    (_a = options.onChange) == null ? void 0 : _a.call(options, current.value);\n    if (value === 0) {\n      pause();\n      (_b = options.onFinish) == null ? void 0 : _b.call(options);\n    }\n  };\n  const microTick = () => {\n    rafId = raf(() => {\n      if (counting) {\n        setRemain(getCurrentRemain());\n        if (remain.value > 0) {\n          microTick();\n        }\n      }\n    });\n  };\n  const macroTick = () => {\n    rafId = raf(() => {\n      if (counting) {\n        const remainRemain = getCurrentRemain();\n        if (!isSameSecond(remainRemain, remain.value) || remainRemain === 0) {\n          setRemain(remainRemain);\n        }\n        if (remain.value > 0) {\n          macroTick();\n        }\n      }\n    });\n  };\n  const tick = () => {\n    if (!inBrowser) {\n      return;\n    }\n    if (options.millisecond) {\n      microTick();\n    } else {\n      macroTick();\n    }\n  };\n  const start = () => {\n    if (!counting) {\n      endTime = Date.now() + remain.value;\n      counting = true;\n      tick();\n    }\n  };\n  const reset = (totalTime = options.time) => {\n    pause();\n    remain.value = totalTime;\n  };\n  onBeforeUnmount(pause);\n  onActivated(() => {\n    if (deactivated) {\n      counting = true;\n      deactivated = false;\n      tick();\n    }\n  });\n  onDeactivated(() => {\n    if (counting) {\n      pause();\n      deactivated = true;\n    }\n  });\n  return {\n    start,\n    pause,\n    reset,\n    current\n  };\n}\n\n// src/useClickAway/index.ts\nimport { unref as unref3 } from \"vue\";\n\n// src/useEventListener/index.ts\nimport { watch, isRef, unref as unref2, onUnmounted as onUnmounted2, onDeactivated as onDeactivated2 } from \"vue\";\n\n// src/onMountedOrActivated/index.ts\nimport { nextTick, onMounted, onActivated as onActivated2 } from \"vue\";\nfunction onMountedOrActivated(hook) {\n  let mounted;\n  onMounted(() => {\n    hook();\n    nextTick(() => {\n      mounted = true;\n    });\n  });\n  onActivated2(() => {\n    if (mounted) {\n      hook();\n    }\n  });\n}\n\n// src/useEventListener/index.ts\nfunction useEventListener(type, listener, options = {}) {\n  if (!inBrowser) {\n    return;\n  }\n  const { target = window, passive = false, capture = false } = options;\n  let attached;\n  const add = (target2) => {\n    const element = unref2(target2);\n    if (element && !attached) {\n      element.addEventListener(type, listener, {\n        capture,\n        passive\n      });\n      attached = true;\n    }\n  };\n  const remove = (target2) => {\n    const element = unref2(target2);\n    if (element && attached) {\n      element.removeEventListener(type, listener, capture);\n      attached = false;\n    }\n  };\n  onUnmounted2(() => remove(target));\n  onDeactivated2(() => remove(target));\n  onMountedOrActivated(() => add(target));\n  if (isRef(target)) {\n    watch(target, (val, oldVal) => {\n      remove(oldVal);\n      add(val);\n    });\n  }\n}\n\n// src/useClickAway/index.ts\nfunction useClickAway(target, listener, options = {}) {\n  if (!inBrowser) {\n    return;\n  }\n  const { eventName = \"click\" } = options;\n  const onClick = (event) => {\n    const targets = Array.isArray(target) ? target : [target];\n    const isClickAway = targets.every((item) => {\n      const element = unref3(item);\n      return element && !element.contains(event.target);\n    });\n    if (isClickAway) {\n      listener(event);\n    }\n  };\n  useEventListener(eventName, onClick, { target: document });\n}\n\n// src/useWindowSize/index.ts\nimport { ref as ref4 } from \"vue\";\nvar width;\nvar height;\nfunction useWindowSize() {\n  if (!width) {\n    width = ref4(0);\n    height = ref4(0);\n    if (inBrowser) {\n      const update = () => {\n        width.value = window.innerWidth;\n        height.value = window.innerHeight;\n      };\n      update();\n      window.addEventListener(\"resize\", update, { passive: true });\n      window.addEventListener(\"orientationchange\", update, { passive: true });\n    }\n  }\n  return { width, height };\n}\n\n// src/useScrollParent/index.ts\nimport { ref as ref5, onMounted as onMounted2 } from \"vue\";\nvar overflowScrollReg = /scroll|auto|overlay/i;\nvar defaultRoot = inBrowser ? window : void 0;\nfunction isElement(node) {\n  const ELEMENT_NODE_TYPE = 1;\n  return node.tagName !== \"HTML\" && node.tagName !== \"BODY\" && node.nodeType === ELEMENT_NODE_TYPE;\n}\nfunction getScrollParent(el, root = defaultRoot) {\n  let node = el;\n  while (node && node !== root && isElement(node)) {\n    const { overflowY } = window.getComputedStyle(node);\n    if (overflowScrollReg.test(overflowY)) {\n      return node;\n    }\n    node = node.parentNode;\n  }\n  return root;\n}\nfunction useScrollParent(el, root = defaultRoot) {\n  const scrollParent = ref5();\n  onMounted2(() => {\n    if (el.value) {\n      scrollParent.value = getScrollParent(el.value, root);\n    }\n  });\n  return scrollParent;\n}\n\n// src/usePageVisibility/index.ts\nimport { ref as ref6 } from \"vue\";\nvar visibility;\nfunction usePageVisibility() {\n  if (!visibility) {\n    visibility = ref6(\"visible\");\n    if (inBrowser) {\n      const update = () => {\n        visibility.value = document.hidden ? \"hidden\" : \"visible\";\n      };\n      update();\n      window.addEventListener(\"visibilitychange\", update);\n    }\n  }\n  return visibility;\n}\n\n// src/useCustomFieldValue/index.ts\nimport { watch as watch2, inject as inject2 } from \"vue\";\nvar CUSTOM_FIELD_INJECTION_KEY = Symbol(\"van-field\");\nfunction useCustomFieldValue(customValue) {\n  const field = inject2(CUSTOM_FIELD_INJECTION_KEY, null);\n  if (field && !field.customValue.value) {\n    field.customValue.value = customValue;\n    watch2(customValue, () => {\n      field.resetValidation();\n      field.validateWithTrigger(\"onChange\");\n    });\n  }\n}\nexport {\n  CUSTOM_FIELD_INJECTION_KEY,\n  cancelRaf,\n  doubleRaf,\n  flattenVNodes,\n  getScrollParent,\n  inBrowser,\n  onMountedOrActivated,\n  raf,\n  sortChildren,\n  supportsPassive,\n  useChildren,\n  useClickAway,\n  useCountDown,\n  useCustomFieldValue,\n  useEventListener,\n  usePageVisibility,\n  useParent,\n  useRect,\n  useScrollParent,\n  useToggle,\n  useWindowSize\n};\n","import { useRect, useWindowSize } from \"@vant/use\";\nimport { unref } from \"vue\";\nimport { isIOS as checkIsIOS } from \"./validate.mjs\";\nfunction getScrollTop(el) {\n  const top = \"scrollTop\" in el ? el.scrollTop : el.pageYOffset;\n  return Math.max(top, 0);\n}\nfunction setScrollTop(el, value) {\n  if (\"scrollTop\" in el) {\n    el.scrollTop = value;\n  } else {\n    el.scrollTo(el.scrollX, value);\n  }\n}\nfunction getRootScrollTop() {\n  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n}\nfunction setRootScrollTop(value) {\n  setScrollTop(window, value);\n  setScrollTop(document.body, value);\n}\nfunction getElementTop(el, scroller) {\n  if (el === window) {\n    return 0;\n  }\n  const scrollTop = scroller ? getScrollTop(scroller) : getRootScrollTop();\n  return useRect(el).top + scrollTop;\n}\nconst isIOS = checkIsIOS();\nfunction resetScroll() {\n  if (isIOS) {\n    setRootScrollTop(getRootScrollTop());\n  }\n}\nconst stopPropagation = (event) => event.stopPropagation();\nfunction preventDefault(event, isStopPropagation) {\n  if (typeof event.cancelable !== \"boolean\" || event.cancelable) {\n    event.preventDefault();\n  }\n  if (isStopPropagation) {\n    stopPropagation(event);\n  }\n}\nfunction isHidden(elementRef) {\n  const el = unref(elementRef);\n  if (!el) {\n    return false;\n  }\n  const style = window.getComputedStyle(el);\n  const hidden = style.display === \"none\";\n  const parentHidden = el.offsetParent === null && style.position !== \"fixed\";\n  return hidden || parentHidden;\n}\nconst { width: windowWidth, height: windowHeight } = useWindowSize();\nexport {\n  getElementTop,\n  getRootScrollTop,\n  getScrollTop,\n  isHidden,\n  preventDefault,\n  resetScroll,\n  setRootScrollTop,\n  setScrollTop,\n  stopPropagation,\n  windowHeight,\n  windowWidth\n};\n","import { inBrowser } from \"./basic.mjs\";\nimport { windowWidth, windowHeight } from \"./dom.mjs\";\nimport { isDef, isNumeric } from \"./validate.mjs\";\nfunction addUnit(value) {\n  if (isDef(value)) {\n    return isNumeric(value) ? `${value}px` : String(value);\n  }\n  return void 0;\n}\nfunction getSizeStyle(originSize) {\n  if (isDef(originSize)) {\n    if (Array.isArray(originSize)) {\n      return {\n        width: addUnit(originSize[0]),\n        height: addUnit(originSize[1])\n      };\n    }\n    const size = addUnit(originSize);\n    return {\n      width: size,\n      height: size\n    };\n  }\n}\nfunction getZIndexStyle(zIndex) {\n  const style = {};\n  if (zIndex !== void 0) {\n    style.zIndex = +zIndex;\n  }\n  return style;\n}\nlet rootFontSize;\nfunction getRootFontSize() {\n  if (!rootFontSize) {\n    const doc = document.documentElement;\n    const fontSize = doc.style.fontSize || window.getComputedStyle(doc).fontSize;\n    rootFontSize = parseFloat(fontSize);\n  }\n  return rootFontSize;\n}\nfunction convertRem(value) {\n  value = value.replace(/rem/g, \"\");\n  return +value * getRootFontSize();\n}\nfunction convertVw(value) {\n  value = value.replace(/vw/g, \"\");\n  return +value * windowWidth.value / 100;\n}\nfunction convertVh(value) {\n  value = value.replace(/vh/g, \"\");\n  return +value * windowHeight.value / 100;\n}\nfunction unitToPx(value) {\n  if (typeof value === \"number\") {\n    return value;\n  }\n  if (inBrowser) {\n    if (value.includes(\"rem\")) {\n      return convertRem(value);\n    }\n    if (value.includes(\"vw\")) {\n      return convertVw(value);\n    }\n    if (value.includes(\"vh\")) {\n      return convertVh(value);\n    }\n  }\n  return parseFloat(value);\n}\nconst camelizeRE = /-(\\w)/g;\nconst camelize = (str) => str.replace(camelizeRE, (_, c) => c.toUpperCase());\nconst kebabCase = (str) => str.replace(/([A-Z])/g, \"-$1\").toLowerCase().replace(/^-/, \"\");\nfunction padZero(num, targetLength = 2) {\n  let str = num + \"\";\n  while (str.length < targetLength) {\n    str = \"0\" + str;\n  }\n  return str;\n}\nconst clamp = (num, min, max) => Math.min(Math.max(num, min), max);\nfunction trimExtraChar(value, char, regExp) {\n  const index = value.indexOf(char);\n  if (index === -1) {\n    return value;\n  }\n  if (char === \"-\" && index !== 0) {\n    return value.slice(0, index);\n  }\n  return value.slice(0, index + 1) + value.slice(index).replace(regExp, \"\");\n}\nfunction formatNumber(value, allowDot = true, allowMinus = true) {\n  if (allowDot) {\n    value = trimExtraChar(value, \".\", /\\./g);\n  } else {\n    value = value.split(\".\")[0];\n  }\n  if (allowMinus) {\n    value = trimExtraChar(value, \"-\", /-/g);\n  } else {\n    value = value.replace(/-/, \"\");\n  }\n  const regExp = allowDot ? /[^-0-9.]/g : /[^-0-9]/g;\n  return value.replace(regExp, \"\");\n}\nfunction addNumber(num1, num2) {\n  const cardinal = 10 ** 10;\n  return Math.round((num1 + num2) * cardinal) / cardinal;\n}\nexport {\n  addNumber,\n  addUnit,\n  camelize,\n  clamp,\n  formatNumber,\n  getSizeStyle,\n  getZIndexStyle,\n  kebabCase,\n  padZero,\n  unitToPx\n};\n","import { isDef, isObject } from \"./validate.mjs\";\nconst { hasOwnProperty } = Object.prototype;\nfunction assignKey(to, from, key) {\n  const val = from[key];\n  if (!isDef(val)) {\n    return;\n  }\n  if (!hasOwnProperty.call(to, key) || !isObject(val)) {\n    to[key] = val;\n  } else {\n    to[key] = deepAssign(Object(to[key]), val);\n  }\n}\nfunction deepAssign(to, from) {\n  Object.keys(from).forEach((key) => {\n    assignKey(to, from, key);\n  });\n  return to;\n}\nexport {\n  deepAssign\n};\n","var stdin_default = {\n  name: \"\\u59D3\\u540D\",\n  tel: \"\\u7535\\u8BDD\",\n  save: \"\\u4FDD\\u5B58\",\n  confirm: \"\\u786E\\u8BA4\",\n  cancel: \"\\u53D6\\u6D88\",\n  delete: \"\\u5220\\u9664\",\n  loading: \"\\u52A0\\u8F7D\\u4E2D...\",\n  noCoupon: \"\\u6682\\u65E0\\u4F18\\u60E0\\u5238\",\n  nameEmpty: \"\\u8BF7\\u586B\\u5199\\u59D3\\u540D\",\n  addContact: \"\\u6DFB\\u52A0\\u8054\\u7CFB\\u4EBA\",\n  telInvalid: \"\\u8BF7\\u586B\\u5199\\u6B63\\u786E\\u7684\\u7535\\u8BDD\",\n  vanCalendar: {\n    end: \"\\u7ED3\\u675F\",\n    start: \"\\u5F00\\u59CB\",\n    title: \"\\u65E5\\u671F\\u9009\\u62E9\",\n    weekdays: [\"\\u65E5\", \"\\u4E00\", \"\\u4E8C\", \"\\u4E09\", \"\\u56DB\", \"\\u4E94\", \"\\u516D\"],\n    monthTitle: (year, month) => `${year}\\u5E74${month}\\u6708`,\n    rangePrompt: (maxRange) => `\\u6700\\u591A\\u9009\\u62E9 ${maxRange} \\u5929`\n  },\n  vanCascader: {\n    select: \"\\u8BF7\\u9009\\u62E9\"\n  },\n  vanPagination: {\n    prev: \"\\u4E0A\\u4E00\\u9875\",\n    next: \"\\u4E0B\\u4E00\\u9875\"\n  },\n  vanPullRefresh: {\n    pulling: \"\\u4E0B\\u62C9\\u5373\\u53EF\\u5237\\u65B0...\",\n    loosing: \"\\u91CA\\u653E\\u5373\\u53EF\\u5237\\u65B0...\"\n  },\n  vanSubmitBar: {\n    label: \"\\u5408\\u8BA1:\"\n  },\n  vanCoupon: {\n    unlimited: \"\\u65E0\\u95E8\\u69DB\",\n    discount: (discount) => `${discount}\\u6298`,\n    condition: (condition) => `\\u6EE1${condition}\\u5143\\u53EF\\u7528`\n  },\n  vanCouponCell: {\n    title: \"\\u4F18\\u60E0\\u5238\",\n    count: (count) => `${count}\\u5F20\\u53EF\\u7528`\n  },\n  vanCouponList: {\n    exchange: \"\\u5151\\u6362\",\n    close: \"\\u4E0D\\u4F7F\\u7528\",\n    enable: \"\\u53EF\\u7528\",\n    disabled: \"\\u4E0D\\u53EF\\u7528\",\n    placeholder: \"\\u8F93\\u5165\\u4F18\\u60E0\\u7801\"\n  },\n  vanAddressEdit: {\n    area: \"\\u5730\\u533A\",\n    postal: \"\\u90AE\\u653F\\u7F16\\u7801\",\n    areaEmpty: \"\\u8BF7\\u9009\\u62E9\\u5730\\u533A\",\n    addressEmpty: \"\\u8BF7\\u586B\\u5199\\u8BE6\\u7EC6\\u5730\\u5740\",\n    postalEmpty: \"\\u90AE\\u653F\\u7F16\\u7801\\u4E0D\\u6B63\\u786E\",\n    addressDetail: \"\\u8BE6\\u7EC6\\u5730\\u5740\",\n    defaultAddress: \"\\u8BBE\\u4E3A\\u9ED8\\u8BA4\\u6536\\u8D27\\u5730\\u5740\"\n  },\n  vanAddressList: {\n    add: \"\\u65B0\\u589E\\u5730\\u5740\"\n  }\n};\nexport {\n  stdin_default as default\n};\n","import { ref, reactive } from \"vue\";\nimport { deepAssign } from \"../utils/deep-assign.mjs\";\nimport defaultMessages from \"./lang/zh-CN.mjs\";\nconst lang = ref(\"zh-CN\");\nconst messages = reactive({\n  \"zh-CN\": defaultMessages\n});\nconst Locale = {\n  messages() {\n    return messages[lang.value];\n  },\n  use(newLang, newMessages) {\n    lang.value = newLang;\n    this.add({ [newLang]: newMessages });\n  },\n  add(newMessages = {}) {\n    deepAssign(messages, newMessages);\n  }\n};\nvar stdin_default = Locale;\nexport {\n  Locale,\n  stdin_default as default\n};\n","import { get } from \"./basic.mjs\";\nimport { camelize } from \"./format.mjs\";\nimport { isFunction } from \"./validate.mjs\";\nimport locale from \"../locale/index.mjs\";\nfunction createTranslate(name) {\n  const prefix = camelize(name) + \".\";\n  return (path, ...args) => {\n    const messages = locale.messages();\n    const message = get(messages, prefix + path) || get(messages, path);\n    return isFunction(message) ? message(...args) : message;\n  };\n}\nfunction genBem(name, mods) {\n  if (!mods) {\n    return \"\";\n  }\n  if (typeof mods === \"string\") {\n    return ` ${name}--${mods}`;\n  }\n  if (Array.isArray(mods)) {\n    return mods.reduce(\n      (ret, item) => ret + genBem(name, item),\n      \"\"\n    );\n  }\n  return Object.keys(mods).reduce(\n    (ret, key) => ret + (mods[key] ? genBem(name, key) : \"\"),\n    \"\"\n  );\n}\nfunction createBEM(name) {\n  return (el, mods) => {\n    if (el && typeof el !== \"string\") {\n      mods = el;\n      el = \"\";\n    }\n    el = el ? `${name}__${el}` : name;\n    return `${el}${genBem(el, mods)}`;\n  };\n}\nfunction createNamespace(name) {\n  const prefixedName = `van-${name}`;\n  return [\n    prefixedName,\n    createBEM(prefixedName),\n    createTranslate(prefixedName)\n  ];\n}\nexport {\n  createBEM,\n  createNamespace,\n  createTranslate\n};\n","const BORDER = \"van-hairline\";\nconst BORDER_TOP = `${BORDER}--top`;\nconst BORDER_LEFT = `${BORDER}--left`;\nconst BORDER_BOTTOM = `${BORDER}--bottom`;\nconst BORDER_SURROUND = `${BORDER}--surround`;\nconst BORDER_TOP_BOTTOM = `${BORDER}--top-bottom`;\nconst BORDER_UNSET_TOP_BOTTOM = `${BORDER}-unset--top-bottom`;\nconst HAPTICS_FEEDBACK = \"van-haptics-feedback\";\nconst FORM_KEY = Symbol(\"van-form\");\nexport {\n  BORDER,\n  BORDER_BOTTOM,\n  BORDER_LEFT,\n  BORDER_SURROUND,\n  BORDER_TOP,\n  BORDER_TOP_BOTTOM,\n  BORDER_UNSET_TOP_BOTTOM,\n  FORM_KEY,\n  HAPTICS_FEEDBACK\n};\n","import { noop } from \"./basic.mjs\";\nimport { isPromise } from \"./validate.mjs\";\nfunction callInterceptor(interceptor, {\n  args = [],\n  done,\n  canceled\n}) {\n  if (interceptor) {\n    const returnVal = interceptor.apply(null, args);\n    if (isPromise(returnVal)) {\n      returnVal.then((value) => {\n        if (value) {\n          done();\n        } else if (canceled) {\n          canceled();\n        }\n      }).catch(noop);\n    } else if (returnVal) {\n      done();\n    } else if (canceled) {\n      canceled();\n    }\n  } else {\n    done();\n  }\n}\nexport {\n  callInterceptor\n};\n","import { camelize } from \"./format.mjs\";\nfunction withInstall(options) {\n  options.install = (app) => {\n    const { name } = options;\n    if (name) {\n      app.component(name, options);\n      app.component(camelize(`-${name}`), options);\n    }\n  };\n  return options;\n}\nexport {\n  withInstall\n};\n","import { inject, watch } from \"vue\";\nconst POPUP_TOGGLE_KEY = Symbol();\nfunction onPopupReopen(callback) {\n  const popupToggleStatus = inject(POPUP_TOGGLE_KEY, null);\n  if (popupToggleStatus) {\n    watch(popupToggleStatus, (show) => {\n      if (show) {\n        callback();\n      }\n    });\n  }\n}\nexport {\n  POPUP_TOGGLE_KEY,\n  onPopupReopen\n};\n","import { getCurrentInstance } from \"vue\";\nimport { extend } from \"../utils/index.mjs\";\nfunction useExpose(apis) {\n  const instance = getCurrentInstance();\n  if (instance) {\n    extend(instance.proxy, apis);\n  }\n}\nexport {\n  useExpose\n};\n","import {\n  getCurrentInstance\n} from \"vue\";\nconst routeProps = {\n  to: [String, Object],\n  url: String,\n  replace: Boolean\n};\nfunction route({\n  to,\n  url,\n  replace,\n  $router: router\n}) {\n  if (to && router) {\n    router[replace ? \"replace\" : \"push\"](to);\n  } else if (url) {\n    replace ? location.replace(url) : location.href = url;\n  }\n}\nfunction useRoute() {\n  const vm = getCurrentInstance().proxy;\n  return () => route(vm);\n}\nexport {\n  route,\n  routeProps,\n  useRoute\n};\n","import { createVNode as _createVNode } from \"vue\";\nimport { computed, defineComponent } from \"vue\";\nimport { isDef, addUnit, isNumeric, truthProp, numericProp, makeStringProp, createNamespace } from \"../utils/index.mjs\";\nconst [name, bem] = createNamespace(\"badge\");\nconst badgeProps = {\n  dot: Boolean,\n  max: numericProp,\n  tag: makeStringProp(\"div\"),\n  color: String,\n  offset: Array,\n  content: numericProp,\n  showZero: truthProp,\n  position: makeStringProp(\"top-right\")\n};\nvar stdin_default = defineComponent({\n  name,\n  props: badgeProps,\n  setup(props, {\n    slots\n  }) {\n    const hasContent = () => {\n      if (slots.content) {\n        return true;\n      }\n      const {\n        content,\n        showZero\n      } = props;\n      return isDef(content) && content !== \"\" && (showZero || content !== 0 && content !== \"0\");\n    };\n    const renderContent = () => {\n      const {\n        dot,\n        max,\n        content\n      } = props;\n      if (!dot && hasContent()) {\n        if (slots.content) {\n          return slots.content();\n        }\n        if (isDef(max) && isNumeric(content) && +content > max) {\n          return `${max}+`;\n        }\n        return content;\n      }\n    };\n    const style = computed(() => {\n      const style2 = {\n        background: props.color\n      };\n      if (props.offset) {\n        const [x, y] = props.offset;\n        if (slots.default) {\n          style2.top = addUnit(y);\n          if (typeof x === \"number\") {\n            style2.right = addUnit(-x);\n          } else {\n            style2.right = x.startsWith(\"-\") ? x.replace(\"-\", \"\") : `-${x}`;\n          }\n        } else {\n          style2.marginTop = addUnit(y);\n          style2.marginLeft = addUnit(x);\n        }\n      }\n      return style2;\n    });\n    const renderBadge = () => {\n      if (hasContent() || props.dot) {\n        return _createVNode(\"div\", {\n          \"class\": bem([props.position, {\n            dot: props.dot,\n            fixed: !!slots.default\n          }]),\n          \"style\": style.value\n        }, [renderContent()]);\n      }\n    };\n    return () => {\n      if (slots.default) {\n        const {\n          tag\n        } = props;\n        return _createVNode(tag, {\n          \"class\": bem(\"wrapper\")\n        }, {\n          default: () => [slots.default(), renderBadge()]\n        });\n      }\n      return renderBadge();\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _Badge from \"./Badge.mjs\";\nconst Badge = withInstall(_Badge);\nvar stdin_default = Badge;\nexport {\n  Badge,\n  stdin_default as default\n};\n","let globalZIndex = 2e3;\nconst useGlobalZIndex = () => ++globalZIndex;\nconst setGlobalZIndex = (val) => {\n  globalZIndex = val;\n};\nexport {\n  setGlobalZIndex,\n  useGlobalZIndex\n};\n","import { createVNode as _createVNode } from \"vue\";\nimport { provide, computed, watchEffect, defineComponent } from \"vue\";\nimport { kebabCase, makeStringProp, createNamespace } from \"../utils/index.mjs\";\nimport { setGlobalZIndex } from \"../composables/use-global-z-index.mjs\";\nconst [name, bem] = createNamespace(\"config-provider\");\nconst CONFIG_PROVIDER_KEY = Symbol(name);\nconst configProviderProps = {\n  tag: makeStringProp(\"div\"),\n  zIndex: Number,\n  themeVars: Object,\n  iconPrefix: String\n};\nfunction mapThemeVarsToCSSVars(themeVars) {\n  const cssVars = {};\n  Object.keys(themeVars).forEach((key) => {\n    cssVars[`--van-${kebabCase(key)}`] = themeVars[key];\n  });\n  return cssVars;\n}\nvar stdin_default = defineComponent({\n  name,\n  props: configProviderProps,\n  setup(props, {\n    slots\n  }) {\n    const style = computed(() => {\n      if (props.themeVars) {\n        return mapThemeVarsToCSSVars(props.themeVars);\n      }\n    });\n    provide(CONFIG_PROVIDER_KEY, props);\n    watchEffect(() => {\n      if (props.zIndex !== void 0) {\n        setGlobalZIndex(props.zIndex);\n      }\n    });\n    return () => _createVNode(props.tag, {\n      \"class\": bem(),\n      \"style\": style.value\n    }, {\n      default: () => {\n        var _a;\n        return [(_a = slots.default) == null ? void 0 : _a.call(slots)];\n      }\n    });\n  }\n});\nexport {\n  CONFIG_PROVIDER_KEY,\n  stdin_default as default\n};\n","import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { inject, computed, defineComponent } from \"vue\";\nimport { addUnit, numericProp, makeStringProp, createNamespace } from \"../utils/index.mjs\";\nimport { Badge } from \"../badge/index.mjs\";\nimport { CONFIG_PROVIDER_KEY } from \"../config-provider/ConfigProvider.mjs\";\nconst [name, bem] = createNamespace(\"icon\");\nconst isImage = (name2) => name2 == null ? void 0 : name2.includes(\"/\");\nconst iconProps = {\n  dot: Boolean,\n  tag: makeStringProp(\"i\"),\n  name: String,\n  size: numericProp,\n  badge: numericProp,\n  color: String,\n  badgeProps: Object,\n  classPrefix: String\n};\nvar stdin_default = defineComponent({\n  name,\n  props: iconProps,\n  setup(props, {\n    slots\n  }) {\n    const config = inject(CONFIG_PROVIDER_KEY, null);\n    const classPrefix = computed(() => props.classPrefix || (config == null ? void 0 : config.iconPrefix) || bem());\n    return () => {\n      const {\n        tag,\n        dot,\n        name: name2,\n        size,\n        badge,\n        color\n      } = props;\n      const isImageIcon = isImage(name2);\n      return _createVNode(Badge, _mergeProps({\n        \"dot\": dot,\n        \"tag\": tag,\n        \"class\": [classPrefix.value, isImageIcon ? \"\" : `${classPrefix.value}-${name2}`],\n        \"style\": {\n          color,\n          fontSize: addUnit(size)\n        },\n        \"content\": badge\n      }, props.badgeProps), {\n        default: () => {\n          var _a;\n          return [(_a = slots.default) == null ? void 0 : _a.call(slots), isImageIcon && _createVNode(\"img\", {\n            \"class\": bem(\"image\"),\n            \"src\": name2\n          }, null)];\n        }\n      });\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _Icon from \"./Icon.mjs\";\nconst Icon = withInstall(_Icon);\nvar stdin_default = Icon;\nexport {\n  Icon,\n  stdin_default as default\n};\n","import { createVNode as _createVNode } from \"vue\";\nimport { computed, defineComponent } from \"vue\";\nimport { extend, addUnit, numericProp, getSizeStyle, makeStringProp, createNamespace } from \"../utils/index.mjs\";\nconst [name, bem] = createNamespace(\"loading\");\nconst SpinIcon = Array(12).fill(null).map((_, index) => _createVNode(\"i\", {\n  \"class\": bem(\"line\", String(index + 1))\n}, null));\nconst CircularIcon = _createVNode(\"svg\", {\n  \"class\": bem(\"circular\"),\n  \"viewBox\": \"25 25 50 50\"\n}, [_createVNode(\"circle\", {\n  \"cx\": \"50\",\n  \"cy\": \"50\",\n  \"r\": \"20\",\n  \"fill\": \"none\"\n}, null)]);\nconst loadingProps = {\n  size: numericProp,\n  type: makeStringProp(\"circular\"),\n  color: String,\n  vertical: Boolean,\n  textSize: numericProp,\n  textColor: String\n};\nvar stdin_default = defineComponent({\n  name,\n  props: loadingProps,\n  setup(props, {\n    slots\n  }) {\n    const spinnerStyle = computed(() => extend({\n      color: props.color\n    }, getSizeStyle(props.size)));\n    const renderText = () => {\n      var _a;\n      if (slots.default) {\n        return _createVNode(\"span\", {\n          \"class\": bem(\"text\"),\n          \"style\": {\n            fontSize: addUnit(props.textSize),\n            color: (_a = props.textColor) != null ? _a : props.color\n          }\n        }, [slots.default()]);\n      }\n    };\n    return () => {\n      const {\n        type,\n        vertical\n      } = props;\n      return _createVNode(\"div\", {\n        \"class\": bem([type, {\n          vertical\n        }]),\n        \"aria-live\": \"polite\",\n        \"aria-busy\": true\n      }, [_createVNode(\"span\", {\n        \"class\": bem(\"spinner\", type),\n        \"style\": spinnerStyle.value\n      }, [type === \"spinner\" ? SpinIcon : CircularIcon]), renderText()]);\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _Loading from \"./Loading.mjs\";\nconst Loading = withInstall(_Loading);\nvar stdin_default = Loading;\nexport {\n  Loading,\n  stdin_default as default\n};\n","import { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { extend, numericProp, preventDefault, makeStringProp, createNamespace, BORDER_SURROUND } from \"../utils/index.mjs\";\nimport { useRoute, routeProps } from \"../composables/use-route.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { Loading } from \"../loading/index.mjs\";\nconst [name, bem] = createNamespace(\"button\");\nconst buttonProps = extend({}, routeProps, {\n  tag: makeStringProp(\"button\"),\n  text: String,\n  icon: String,\n  type: makeStringProp(\"default\"),\n  size: makeStringProp(\"normal\"),\n  color: String,\n  block: Boolean,\n  plain: Boolean,\n  round: Boolean,\n  square: Boolean,\n  loading: Boolean,\n  hairline: Boolean,\n  disabled: Boolean,\n  iconPrefix: String,\n  nativeType: makeStringProp(\"button\"),\n  loadingSize: numericProp,\n  loadingText: String,\n  loadingType: String,\n  iconPosition: makeStringProp(\"left\")\n});\nvar stdin_default = defineComponent({\n  name,\n  props: buttonProps,\n  emits: [\"click\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const route = useRoute();\n    const renderLoadingIcon = () => {\n      if (slots.loading) {\n        return slots.loading();\n      }\n      return _createVNode(Loading, {\n        \"size\": props.loadingSize,\n        \"type\": props.loadingType,\n        \"class\": bem(\"loading\")\n      }, null);\n    };\n    const renderIcon = () => {\n      if (props.loading) {\n        return renderLoadingIcon();\n      }\n      if (slots.icon) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"icon\")\n        }, [slots.icon()]);\n      }\n      if (props.icon) {\n        return _createVNode(Icon, {\n          \"name\": props.icon,\n          \"class\": bem(\"icon\"),\n          \"classPrefix\": props.iconPrefix\n        }, null);\n      }\n    };\n    const renderText = () => {\n      let text;\n      if (props.loading) {\n        text = props.loadingText;\n      } else {\n        text = slots.default ? slots.default() : props.text;\n      }\n      if (text) {\n        return _createVNode(\"span\", {\n          \"class\": bem(\"text\")\n        }, [text]);\n      }\n    };\n    const getStyle = () => {\n      const {\n        color,\n        plain\n      } = props;\n      if (color) {\n        const style = {\n          color: plain ? color : \"white\"\n        };\n        if (!plain) {\n          style.background = color;\n        }\n        if (color.includes(\"gradient\")) {\n          style.border = 0;\n        } else {\n          style.borderColor = color;\n        }\n        return style;\n      }\n    };\n    const onClick = (event) => {\n      if (props.loading) {\n        preventDefault(event);\n      } else if (!props.disabled) {\n        emit(\"click\", event);\n        route();\n      }\n    };\n    return () => {\n      const {\n        tag,\n        type,\n        size,\n        block,\n        round,\n        plain,\n        square,\n        loading,\n        disabled,\n        hairline,\n        nativeType,\n        iconPosition\n      } = props;\n      const classes = [bem([type, size, {\n        plain,\n        block,\n        round,\n        square,\n        loading,\n        disabled,\n        hairline\n      }]), {\n        [BORDER_SURROUND]: hairline\n      }];\n      return _createVNode(tag, {\n        \"type\": nativeType,\n        \"class\": classes,\n        \"style\": getStyle(),\n        \"disabled\": disabled,\n        \"onClick\": onClick\n      }, {\n        default: () => [_createVNode(\"div\", {\n          \"class\": bem(\"content\")\n        }, [iconPosition === \"left\" && renderIcon(), renderText(), iconPosition === \"right\" && renderIcon()])]\n      });\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _Button from \"./Button.mjs\";\nconst Button = withInstall(_Button);\nvar stdin_default = Button;\nexport {\n  Button,\n  stdin_default as default\n};\n","import { truthProp, unknownProp, numericProp } from \"../utils/index.mjs\";\nconst popupSharedProps = {\n  show: Boolean,\n  zIndex: numericProp,\n  overlay: truthProp,\n  duration: numericProp,\n  teleport: [String, Object],\n  lockScroll: truthProp,\n  lazyRender: truthProp,\n  beforeClose: Function,\n  overlayStyle: Object,\n  overlayClass: unknownProp,\n  transitionAppear: Boolean,\n  closeOnClickOverlay: truthProp\n};\nconst popupSharedPropKeys = Object.keys(\n  popupSharedProps\n);\nexport {\n  popupSharedPropKeys,\n  popupSharedProps\n};\n","import { ref } from \"vue\";\nfunction getDirection(x, y) {\n  if (x > y) {\n    return \"horizontal\";\n  }\n  if (y > x) {\n    return \"vertical\";\n  }\n  return \"\";\n}\nfunction useTouch() {\n  const startX = ref(0);\n  const startY = ref(0);\n  const deltaX = ref(0);\n  const deltaY = ref(0);\n  const offsetX = ref(0);\n  const offsetY = ref(0);\n  const direction = ref(\"\");\n  const isVertical = () => direction.value === \"vertical\";\n  const isHorizontal = () => direction.value === \"horizontal\";\n  const reset = () => {\n    deltaX.value = 0;\n    deltaY.value = 0;\n    offsetX.value = 0;\n    offsetY.value = 0;\n    direction.value = \"\";\n  };\n  const start = (event) => {\n    reset();\n    startX.value = event.touches[0].clientX;\n    startY.value = event.touches[0].clientY;\n  };\n  const move = (event) => {\n    const touch = event.touches[0];\n    deltaX.value = (touch.clientX < 0 ? 0 : touch.clientX) - startX.value;\n    deltaY.value = touch.clientY - startY.value;\n    offsetX.value = Math.abs(deltaX.value);\n    offsetY.value = Math.abs(deltaY.value);\n    const LOCK_DIRECTION_DISTANCE = 10;\n    if (!direction.value || offsetX.value < LOCK_DIRECTION_DISTANCE && offsetY.value < LOCK_DIRECTION_DISTANCE) {\n      direction.value = getDirection(offsetX.value, offsetY.value);\n    }\n  };\n  return {\n    move,\n    start,\n    reset,\n    startX,\n    startY,\n    deltaX,\n    deltaY,\n    offsetX,\n    offsetY,\n    direction,\n    isVertical,\n    isHorizontal\n  };\n}\nexport {\n  useTouch\n};\n","import { watch, onBeforeUnmount, onDeactivated } from \"vue\";\nimport { getScrollParent, onMountedOrActivated } from \"@vant/use\";\nimport { useTouch } from \"./use-touch.mjs\";\nimport { preventDefault } from \"../utils/index.mjs\";\nlet totalLockCount = 0;\nconst BODY_LOCK_CLASS = \"van-overflow-hidden\";\nfunction useLockScroll(rootRef, shouldLock) {\n  const touch = useTouch();\n  const DIRECTION_UP = \"01\";\n  const DIRECTION_DOWN = \"10\";\n  const onTouchMove = (event) => {\n    touch.move(event);\n    const direction = touch.deltaY.value > 0 ? DIRECTION_DOWN : DIRECTION_UP;\n    const el = getScrollParent(\n      event.target,\n      rootRef.value\n    );\n    const { scrollHeight, offsetHeight, scrollTop } = el;\n    let status = \"11\";\n    if (scrollTop === 0) {\n      status = offsetHeight >= scrollHeight ? \"00\" : \"01\";\n    } else if (scrollTop + offsetHeight >= scrollHeight) {\n      status = \"10\";\n    }\n    if (status !== \"11\" && touch.isVertical() && !(parseInt(status, 2) & parseInt(direction, 2))) {\n      preventDefault(event, true);\n    }\n  };\n  const lock = () => {\n    document.addEventListener(\"touchstart\", touch.start);\n    document.addEventListener(\"touchmove\", onTouchMove, { passive: false });\n    if (!totalLockCount) {\n      document.body.classList.add(BODY_LOCK_CLASS);\n    }\n    totalLockCount++;\n  };\n  const unlock = () => {\n    if (totalLockCount) {\n      document.removeEventListener(\"touchstart\", touch.start);\n      document.removeEventListener(\"touchmove\", onTouchMove);\n      totalLockCount--;\n      if (!totalLockCount) {\n        document.body.classList.remove(BODY_LOCK_CLASS);\n      }\n    }\n  };\n  const init = () => shouldLock() && lock();\n  const destroy = () => shouldLock() && unlock();\n  onMountedOrActivated(init);\n  onDeactivated(destroy);\n  onBeforeUnmount(destroy);\n  watch(shouldLock, (value) => {\n    value ? lock() : unlock();\n  });\n}\nexport {\n  useLockScroll\n};\n","import { ref, watch } from \"vue\";\nfunction useLazyRender(show) {\n  const inited = ref(false);\n  watch(\n    show,\n    (value) => {\n      if (value) {\n        inited.value = value;\n      }\n    },\n    { immediate: true }\n  );\n  return (render) => () => inited.value ? render() : null;\n}\nexport {\n  useLazyRender\n};\n","import { withDirectives as _withDirectives, createVNode as _createVNode, vShow as _vShow } from \"vue\";\nimport { ref, Transition, defineComponent } from \"vue\";\nimport { isDef, extend, truthProp, numericProp, unknownProp, preventDefault, createNamespace, getZIndexStyle } from \"../utils/index.mjs\";\nimport { useEventListener } from \"@vant/use\";\nimport { useLazyRender } from \"../composables/use-lazy-render.mjs\";\nconst [name, bem] = createNamespace(\"overlay\");\nconst overlayProps = {\n  show: Boolean,\n  zIndex: numericProp,\n  duration: numericProp,\n  className: unknownProp,\n  lockScroll: truthProp,\n  lazyRender: truthProp,\n  customStyle: Object\n};\nvar stdin_default = defineComponent({\n  name,\n  props: overlayProps,\n  setup(props, {\n    slots\n  }) {\n    const root = ref();\n    const lazyRender = useLazyRender(() => props.show || !props.lazyRender);\n    const onTouchMove = (event) => {\n      if (props.lockScroll) {\n        preventDefault(event, true);\n      }\n    };\n    const renderOverlay = lazyRender(() => {\n      var _a;\n      const style = extend(getZIndexStyle(props.zIndex), props.customStyle);\n      if (isDef(props.duration)) {\n        style.animationDuration = `${props.duration}s`;\n      }\n      return _withDirectives(_createVNode(\"div\", {\n        \"ref\": root,\n        \"style\": style,\n        \"class\": [bem(), props.className]\n      }, [(_a = slots.default) == null ? void 0 : _a.call(slots)]), [[_vShow, props.show]]);\n    });\n    useEventListener(\"touchmove\", onTouchMove, {\n      target: root\n    });\n    return () => _createVNode(Transition, {\n      \"name\": \"van-fade\",\n      \"appear\": true\n    }, {\n      default: renderOverlay\n    });\n  }\n});\nexport {\n  stdin_default as default\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _Overlay from \"./Overlay.mjs\";\nconst Overlay = withInstall(_Overlay);\nvar stdin_default = Overlay;\nexport {\n  Overlay,\n  stdin_default as default\n};\n","import { Fragment as _Fragment, withDirectives as _withDirectives, mergeProps as _mergeProps, vShow as _vShow, createVNode as _createVNode } from \"vue\";\nimport { ref, watch, provide, Teleport, nextTick, computed, onMounted, Transition, onActivated, onDeactivated, defineComponent } from \"vue\";\nimport { popupSharedProps } from \"./shared.mjs\";\nimport { isDef, extend, makeStringProp, callInterceptor, createNamespace, HAPTICS_FEEDBACK } from \"../utils/index.mjs\";\nimport { useEventListener } from \"@vant/use\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { useLockScroll } from \"../composables/use-lock-scroll.mjs\";\nimport { useLazyRender } from \"../composables/use-lazy-render.mjs\";\nimport { POPUP_TOGGLE_KEY } from \"../composables/on-popup-reopen.mjs\";\nimport { useGlobalZIndex } from \"../composables/use-global-z-index.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { Overlay } from \"../overlay/index.mjs\";\nconst popupProps = extend({}, popupSharedProps, {\n  round: Boolean,\n  position: makeStringProp(\"center\"),\n  closeIcon: makeStringProp(\"cross\"),\n  closeable: Boolean,\n  transition: String,\n  iconPrefix: String,\n  closeOnPopstate: Boolean,\n  closeIconPosition: makeStringProp(\"top-right\"),\n  safeAreaInsetTop: Boolean,\n  safeAreaInsetBottom: Boolean\n});\nconst [name, bem] = createNamespace(\"popup\");\nvar stdin_default = defineComponent({\n  name,\n  inheritAttrs: false,\n  props: popupProps,\n  emits: [\"open\", \"close\", \"opened\", \"closed\", \"keydown\", \"update:show\", \"click-overlay\", \"click-close-icon\"],\n  setup(props, {\n    emit,\n    attrs,\n    slots\n  }) {\n    let opened;\n    let shouldReopen;\n    const zIndex = ref();\n    const popupRef = ref();\n    const lazyRender = useLazyRender(() => props.show || !props.lazyRender);\n    const style = computed(() => {\n      const style2 = {\n        zIndex: zIndex.value\n      };\n      if (isDef(props.duration)) {\n        const key = props.position === \"center\" ? \"animationDuration\" : \"transitionDuration\";\n        style2[key] = `${props.duration}s`;\n      }\n      return style2;\n    });\n    const open = () => {\n      if (!opened) {\n        opened = true;\n        zIndex.value = props.zIndex !== void 0 ? +props.zIndex : useGlobalZIndex();\n        emit(\"open\");\n      }\n    };\n    const close = () => {\n      if (opened) {\n        callInterceptor(props.beforeClose, {\n          done() {\n            opened = false;\n            emit(\"close\");\n            emit(\"update:show\", false);\n          }\n        });\n      }\n    };\n    const onClickOverlay = (event) => {\n      emit(\"click-overlay\", event);\n      if (props.closeOnClickOverlay) {\n        close();\n      }\n    };\n    const renderOverlay = () => {\n      if (props.overlay) {\n        return _createVNode(Overlay, {\n          \"show\": props.show,\n          \"class\": props.overlayClass,\n          \"zIndex\": zIndex.value,\n          \"duration\": props.duration,\n          \"customStyle\": props.overlayStyle,\n          \"role\": props.closeOnClickOverlay ? \"button\" : void 0,\n          \"tabindex\": props.closeOnClickOverlay ? 0 : void 0,\n          \"onClick\": onClickOverlay\n        }, {\n          default: slots[\"overlay-content\"]\n        });\n      }\n    };\n    const onClickCloseIcon = (event) => {\n      emit(\"click-close-icon\", event);\n      close();\n    };\n    const renderCloseIcon = () => {\n      if (props.closeable) {\n        return _createVNode(Icon, {\n          \"role\": \"button\",\n          \"tabindex\": 0,\n          \"name\": props.closeIcon,\n          \"class\": [bem(\"close-icon\", props.closeIconPosition), HAPTICS_FEEDBACK],\n          \"classPrefix\": props.iconPrefix,\n          \"onClick\": onClickCloseIcon\n        }, null);\n      }\n    };\n    const onOpened = () => emit(\"opened\");\n    const onClosed = () => emit(\"closed\");\n    const onKeydown = (event) => emit(\"keydown\", event);\n    const renderPopup = lazyRender(() => {\n      var _a;\n      const {\n        round,\n        position,\n        safeAreaInsetTop,\n        safeAreaInsetBottom\n      } = props;\n      return _withDirectives(_createVNode(\"div\", _mergeProps({\n        \"ref\": popupRef,\n        \"style\": style.value,\n        \"role\": \"dialog\",\n        \"tabindex\": 0,\n        \"class\": [bem({\n          round,\n          [position]: position\n        }), {\n          \"van-safe-area-top\": safeAreaInsetTop,\n          \"van-safe-area-bottom\": safeAreaInsetBottom\n        }],\n        \"onKeydown\": onKeydown\n      }, attrs), [(_a = slots.default) == null ? void 0 : _a.call(slots), renderCloseIcon()]), [[_vShow, props.show]]);\n    });\n    const renderTransition = () => {\n      const {\n        position,\n        transition,\n        transitionAppear\n      } = props;\n      const name2 = position === \"center\" ? \"van-fade\" : `van-popup-slide-${position}`;\n      return _createVNode(Transition, {\n        \"name\": transition || name2,\n        \"appear\": transitionAppear,\n        \"onAfterEnter\": onOpened,\n        \"onAfterLeave\": onClosed\n      }, {\n        default: renderPopup\n      });\n    };\n    watch(() => props.show, (show) => {\n      if (show && !opened) {\n        open();\n        if (attrs.tabindex === 0) {\n          nextTick(() => {\n            var _a;\n            (_a = popupRef.value) == null ? void 0 : _a.focus();\n          });\n        }\n      }\n      if (!show && opened) {\n        opened = false;\n        emit(\"close\");\n      }\n    });\n    useExpose({\n      popupRef\n    });\n    useLockScroll(popupRef, () => props.show && props.lockScroll);\n    useEventListener(\"popstate\", () => {\n      if (props.closeOnPopstate) {\n        close();\n        shouldReopen = false;\n      }\n    });\n    onMounted(() => {\n      if (props.show) {\n        open();\n      }\n    });\n    onActivated(() => {\n      if (shouldReopen) {\n        emit(\"update:show\", true);\n        shouldReopen = false;\n      }\n    });\n    onDeactivated(() => {\n      if (props.show && props.teleport) {\n        close();\n        shouldReopen = true;\n      }\n    });\n    provide(POPUP_TOGGLE_KEY, () => props.show);\n    return () => {\n      if (props.teleport) {\n        return _createVNode(Teleport, {\n          \"to\": props.teleport\n        }, {\n          default: () => [renderOverlay(), renderTransition()]\n        });\n      }\n      return _createVNode(_Fragment, null, [renderOverlay(), renderTransition()]);\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _Popup from \"./Popup.mjs\";\nconst Popup = withInstall(_Popup);\nvar stdin_default = Popup;\nexport {\n  Popup,\n  stdin_default as default\n};\n","import { createApp, reactive } from \"vue\";\nimport { extend } from \"../utils/index.mjs\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nfunction usePopupState() {\n  const state = reactive({\n    show: false\n  });\n  const toggle = (show) => {\n    state.show = show;\n  };\n  const open = (props) => {\n    extend(state, props, { transitionAppear: true });\n    toggle(true);\n  };\n  const close = () => toggle(false);\n  useExpose({ open, close, toggle });\n  return {\n    open,\n    close,\n    state,\n    toggle\n  };\n}\nfunction mountComponent(RootComponent) {\n  const app = createApp(RootComponent);\n  const root = document.createElement(\"div\");\n  document.body.appendChild(root);\n  return {\n    instance: app.mount(root),\n    unmount() {\n      app.unmount();\n      document.body.removeChild(root);\n    }\n  };\n}\nexport {\n  mountComponent,\n  usePopupState\n};\n","let lockCount = 0;\nfunction lockClick(lock) {\n  if (lock) {\n    if (!lockCount) {\n      document.body.classList.add(\"van-toast--unclickable\");\n    }\n    lockCount++;\n  } else if (lockCount) {\n    lockCount--;\n    if (!lockCount) {\n      document.body.classList.remove(\"van-toast--unclickable\");\n    }\n  }\n}\nexport {\n  lockClick\n};\n","import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { watch, onMounted, onUnmounted, defineComponent } from \"vue\";\nimport { pick, isDef, unknownProp, numericProp, makeStringProp, makeNumberProp, createNamespace } from \"../utils/index.mjs\";\nimport { lockClick } from \"./lock-click.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { Popup } from \"../popup/index.mjs\";\nimport { Loading } from \"../loading/index.mjs\";\nconst [name, bem] = createNamespace(\"toast\");\nconst popupInheritProps = [\"show\", \"overlay\", \"teleport\", \"transition\", \"overlayClass\", \"overlayStyle\", \"closeOnClickOverlay\"];\nconst toastProps = {\n  icon: String,\n  show: Boolean,\n  type: makeStringProp(\"text\"),\n  overlay: Boolean,\n  message: numericProp,\n  iconSize: numericProp,\n  duration: makeNumberProp(2e3),\n  position: makeStringProp(\"middle\"),\n  teleport: [String, Object],\n  className: unknownProp,\n  iconPrefix: String,\n  transition: makeStringProp(\"van-fade\"),\n  loadingType: String,\n  forbidClick: Boolean,\n  overlayClass: unknownProp,\n  overlayStyle: Object,\n  closeOnClick: Boolean,\n  closeOnClickOverlay: Boolean\n};\nvar stdin_default = defineComponent({\n  name,\n  props: toastProps,\n  emits: [\"update:show\"],\n  setup(props, {\n    emit\n  }) {\n    let timer;\n    let clickable = false;\n    const toggleClickable = () => {\n      const newValue = props.show && props.forbidClick;\n      if (clickable !== newValue) {\n        clickable = newValue;\n        lockClick(clickable);\n      }\n    };\n    const updateShow = (show) => emit(\"update:show\", show);\n    const onClick = () => {\n      if (props.closeOnClick) {\n        updateShow(false);\n      }\n    };\n    const clearTimer = () => clearTimeout(timer);\n    const renderIcon = () => {\n      const {\n        icon,\n        type,\n        iconSize,\n        iconPrefix,\n        loadingType\n      } = props;\n      const hasIcon = icon || type === \"success\" || type === \"fail\";\n      if (hasIcon) {\n        return _createVNode(Icon, {\n          \"name\": icon || type,\n          \"size\": iconSize,\n          \"class\": bem(\"icon\"),\n          \"classPrefix\": iconPrefix\n        }, null);\n      }\n      if (type === \"loading\") {\n        return _createVNode(Loading, {\n          \"class\": bem(\"loading\"),\n          \"size\": iconSize,\n          \"type\": loadingType\n        }, null);\n      }\n    };\n    const renderMessage = () => {\n      const {\n        type,\n        message\n      } = props;\n      if (isDef(message) && message !== \"\") {\n        return type === \"html\" ? _createVNode(\"div\", {\n          \"key\": 0,\n          \"class\": bem(\"text\"),\n          \"innerHTML\": String(message)\n        }, null) : _createVNode(\"div\", {\n          \"class\": bem(\"text\")\n        }, [message]);\n      }\n    };\n    watch(() => [props.show, props.forbidClick], toggleClickable);\n    watch(() => [props.show, props.type, props.message, props.duration], () => {\n      clearTimer();\n      if (props.show && props.duration > 0) {\n        timer = setTimeout(() => {\n          updateShow(false);\n        }, props.duration);\n      }\n    });\n    onMounted(toggleClickable);\n    onUnmounted(toggleClickable);\n    return () => _createVNode(Popup, _mergeProps({\n      \"class\": [bem([props.position, {\n        [props.type]: !props.icon\n      }]), props.className],\n      \"lockScroll\": false,\n      \"onClick\": onClick,\n      \"onClosed\": clearTimer,\n      \"onUpdate:show\": updateShow\n    }, pick(props, popupInheritProps)), {\n      default: () => [renderIcon(), renderMessage()]\n    });\n  }\n});\nexport {\n  stdin_default as default\n};\n","import { createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\nimport { ref, watch, getCurrentInstance } from \"vue\";\nimport { extend, isObject, inBrowser, withInstall } from \"../utils/index.mjs\";\nimport { mountComponent, usePopupState } from \"../utils/mount-component.mjs\";\nimport VanToast from \"./Toast.mjs\";\nconst defaultOptions = {\n  icon: \"\",\n  type: \"text\",\n  message: \"\",\n  className: \"\",\n  overlay: false,\n  onClose: void 0,\n  onOpened: void 0,\n  duration: 2e3,\n  teleport: \"body\",\n  iconSize: void 0,\n  iconPrefix: void 0,\n  position: \"middle\",\n  transition: \"van-fade\",\n  forbidClick: false,\n  loadingType: void 0,\n  overlayClass: \"\",\n  overlayStyle: void 0,\n  closeOnClick: false,\n  closeOnClickOverlay: false\n};\nlet queue = [];\nlet allowMultiple = false;\nlet currentOptions = extend({}, defaultOptions);\nconst defaultOptionsMap = /* @__PURE__ */ new Map();\nfunction parseOptions(message) {\n  if (isObject(message)) {\n    return message;\n  }\n  return {\n    message\n  };\n}\nfunction createInstance() {\n  const {\n    instance,\n    unmount\n  } = mountComponent({\n    setup() {\n      const message = ref(\"\");\n      const {\n        open,\n        state,\n        close,\n        toggle\n      } = usePopupState();\n      const onClosed = () => {\n        if (allowMultiple) {\n          queue = queue.filter((item) => item !== instance);\n          unmount();\n        }\n      };\n      const render = () => {\n        const attrs = {\n          onClosed,\n          \"onUpdate:show\": toggle\n        };\n        return _createVNode(VanToast, _mergeProps(state, attrs), null);\n      };\n      watch(message, (val) => {\n        state.message = val;\n      });\n      getCurrentInstance().render = render;\n      return {\n        open,\n        clear: close,\n        message\n      };\n    }\n  });\n  return instance;\n}\nfunction getInstance() {\n  if (!queue.length || allowMultiple) {\n    const instance = createInstance();\n    queue.push(instance);\n  }\n  return queue[queue.length - 1];\n}\nfunction Toast(options = {}) {\n  if (!inBrowser) {\n    return {};\n  }\n  const toast = getInstance();\n  const parsedOptions = parseOptions(options);\n  toast.open(extend({}, currentOptions, defaultOptionsMap.get(parsedOptions.type || currentOptions.type), parsedOptions));\n  return toast;\n}\nconst createMethod = (type) => (options) => Toast(extend({\n  type\n}, parseOptions(options)));\nToast.loading = createMethod(\"loading\");\nToast.success = createMethod(\"success\");\nToast.fail = createMethod(\"fail\");\nToast.clear = (all) => {\n  var _a;\n  if (queue.length) {\n    if (all) {\n      queue.forEach((toast) => {\n        toast.clear();\n      });\n      queue = [];\n    } else if (!allowMultiple) {\n      queue[0].clear();\n    } else {\n      (_a = queue.shift()) == null ? void 0 : _a.clear();\n    }\n  }\n};\nfunction setDefaultOptions(type, options) {\n  if (typeof type === \"string\") {\n    defaultOptionsMap.set(type, options);\n  } else {\n    extend(currentOptions, type);\n  }\n}\nToast.setDefaultOptions = setDefaultOptions;\nToast.resetDefaultOptions = (type) => {\n  if (typeof type === \"string\") {\n    defaultOptionsMap.delete(type);\n  } else {\n    currentOptions = extend({}, defaultOptions);\n    defaultOptionsMap.clear();\n  }\n};\nToast.allowMultiple = (value = true) => {\n  allowMultiple = value;\n};\nToast.install = (app) => {\n  app.use(withInstall(VanToast));\n  app.config.globalProperties.$toast = Toast;\n};\nexport {\n  Toast\n};\n","import { withDirectives as _withDirectives, mergeProps as _mergeProps, resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\nimport { ref, watch, computed, nextTick, onBeforeUnmount, defineComponent, getCurrentInstance } from \"vue\";\nimport { isDef, addUnit, inBrowser, truthProp, numericProp, makeStringProp, createNamespace } from \"../utils/index.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nconst [name, bem] = createNamespace(\"image\");\nconst imageProps = {\n  src: String,\n  alt: String,\n  fit: String,\n  position: String,\n  round: Boolean,\n  block: Boolean,\n  width: numericProp,\n  height: numericProp,\n  radius: numericProp,\n  lazyLoad: Boolean,\n  iconSize: numericProp,\n  showError: truthProp,\n  errorIcon: makeStringProp(\"photo-fail\"),\n  iconPrefix: String,\n  showLoading: truthProp,\n  loadingIcon: makeStringProp(\"photo\")\n};\nvar stdin_default = defineComponent({\n  name,\n  props: imageProps,\n  emits: [\"load\", \"error\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const error = ref(false);\n    const loading = ref(true);\n    const imageRef = ref();\n    const {\n      $Lazyload\n    } = getCurrentInstance().proxy;\n    const style = computed(() => {\n      const style2 = {\n        width: addUnit(props.width),\n        height: addUnit(props.height)\n      };\n      if (isDef(props.radius)) {\n        style2.overflow = \"hidden\";\n        style2.borderRadius = addUnit(props.radius);\n      }\n      return style2;\n    });\n    watch(() => props.src, () => {\n      error.value = false;\n      loading.value = true;\n    });\n    const onLoad = (event) => {\n      loading.value = false;\n      emit(\"load\", event);\n    };\n    const onError = (event) => {\n      error.value = true;\n      loading.value = false;\n      emit(\"error\", event);\n    };\n    const renderIcon = (name2, className, slot) => {\n      if (slot) {\n        return slot();\n      }\n      return _createVNode(Icon, {\n        \"name\": name2,\n        \"size\": props.iconSize,\n        \"class\": className,\n        \"classPrefix\": props.iconPrefix\n      }, null);\n    };\n    const renderPlaceholder = () => {\n      if (loading.value && props.showLoading) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"loading\")\n        }, [renderIcon(props.loadingIcon, bem(\"loading-icon\"), slots.loading)]);\n      }\n      if (error.value && props.showError) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"error\")\n        }, [renderIcon(props.errorIcon, bem(\"error-icon\"), slots.error)]);\n      }\n    };\n    const renderImage = () => {\n      if (error.value || !props.src) {\n        return;\n      }\n      const attrs = {\n        alt: props.alt,\n        class: bem(\"img\"),\n        style: {\n          objectFit: props.fit,\n          objectPosition: props.position\n        }\n      };\n      if (props.lazyLoad) {\n        return _withDirectives(_createVNode(\"img\", _mergeProps({\n          \"ref\": imageRef\n        }, attrs), null), [[_resolveDirective(\"lazy\"), props.src]]);\n      }\n      return _createVNode(\"img\", _mergeProps({\n        \"src\": props.src,\n        \"onLoad\": onLoad,\n        \"onError\": onError\n      }, attrs), null);\n    };\n    const onLazyLoaded = ({\n      el\n    }) => {\n      const check = () => {\n        if (el === imageRef.value && loading.value) {\n          onLoad();\n        }\n      };\n      if (imageRef.value) {\n        check();\n      } else {\n        nextTick(check);\n      }\n    };\n    const onLazyLoadError = ({\n      el\n    }) => {\n      if (el === imageRef.value && !error.value) {\n        onError();\n      }\n    };\n    if ($Lazyload && inBrowser) {\n      $Lazyload.$on(\"loaded\", onLazyLoaded);\n      $Lazyload.$on(\"error\", onLazyLoadError);\n      onBeforeUnmount(() => {\n        $Lazyload.$off(\"loaded\", onLazyLoaded);\n        $Lazyload.$off(\"error\", onLazyLoadError);\n      });\n    }\n    return () => {\n      var _a;\n      return _createVNode(\"div\", {\n        \"class\": bem({\n          round: props.round,\n          block: props.block\n        }),\n        \"style\": style.value\n      }, [renderImage(), renderPlaceholder(), (_a = slots.default) == null ? void 0 : _a.call(slots)]);\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _Image from \"./Image.mjs\";\nconst Image = withInstall(_Image);\nvar stdin_default = Image;\nexport {\n  Image,\n  stdin_default as default\n};\n","import { createVNode as _createVNode } from \"vue\";\nimport { ref, watch, reactive, computed, onMounted, onActivated, onDeactivated, onBeforeUnmount, defineComponent, nextTick } from \"vue\";\nimport { clamp, isHidden, truthProp, numericProp, windowWidth, windowHeight, preventDefault, createNamespace, makeNumericProp } from \"../utils/index.mjs\";\nimport { doubleRaf, useChildren, useEventListener, usePageVisibility } from \"@vant/use\";\nimport { useTouch } from \"../composables/use-touch.mjs\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { onPopupReopen } from \"../composables/on-popup-reopen.mjs\";\nconst [name, bem] = createNamespace(\"swipe\");\nconst swipeProps = {\n  loop: truthProp,\n  width: numericProp,\n  height: numericProp,\n  vertical: Boolean,\n  autoplay: makeNumericProp(0),\n  duration: makeNumericProp(500),\n  touchable: truthProp,\n  lazyRender: Boolean,\n  initialSwipe: makeNumericProp(0),\n  indicatorColor: String,\n  showIndicators: truthProp,\n  stopPropagation: truthProp\n};\nconst SWIPE_KEY = Symbol(name);\nvar stdin_default = defineComponent({\n  name,\n  props: swipeProps,\n  emits: [\"change\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const root = ref();\n    const track = ref();\n    const state = reactive({\n      rect: null,\n      width: 0,\n      height: 0,\n      offset: 0,\n      active: 0,\n      swiping: false\n    });\n    const touch = useTouch();\n    const {\n      children,\n      linkChildren\n    } = useChildren(SWIPE_KEY);\n    const count = computed(() => children.length);\n    const size = computed(() => state[props.vertical ? \"height\" : \"width\"]);\n    const delta = computed(() => props.vertical ? touch.deltaY.value : touch.deltaX.value);\n    const minOffset = computed(() => {\n      if (state.rect) {\n        const base = props.vertical ? state.rect.height : state.rect.width;\n        return base - size.value * count.value;\n      }\n      return 0;\n    });\n    const maxCount = computed(() => Math.ceil(Math.abs(minOffset.value) / size.value));\n    const trackSize = computed(() => count.value * size.value);\n    const activeIndicator = computed(() => (state.active + count.value) % count.value);\n    const isCorrectDirection = computed(() => {\n      const expect = props.vertical ? \"vertical\" : \"horizontal\";\n      return touch.direction.value === expect;\n    });\n    const trackStyle = computed(() => {\n      const style = {\n        transitionDuration: `${state.swiping ? 0 : props.duration}ms`,\n        transform: `translate${props.vertical ? \"Y\" : \"X\"}(${state.offset}px)`\n      };\n      if (size.value) {\n        const mainAxis = props.vertical ? \"height\" : \"width\";\n        const crossAxis = props.vertical ? \"width\" : \"height\";\n        style[mainAxis] = `${trackSize.value}px`;\n        style[crossAxis] = props[crossAxis] ? `${props[crossAxis]}px` : \"\";\n      }\n      return style;\n    });\n    const getTargetActive = (pace) => {\n      const {\n        active\n      } = state;\n      if (pace) {\n        if (props.loop) {\n          return clamp(active + pace, -1, count.value);\n        }\n        return clamp(active + pace, 0, maxCount.value);\n      }\n      return active;\n    };\n    const getTargetOffset = (targetActive, offset = 0) => {\n      let currentPosition = targetActive * size.value;\n      if (!props.loop) {\n        currentPosition = Math.min(currentPosition, -minOffset.value);\n      }\n      let targetOffset = offset - currentPosition;\n      if (!props.loop) {\n        targetOffset = clamp(targetOffset, minOffset.value, 0);\n      }\n      return targetOffset;\n    };\n    const move = ({\n      pace = 0,\n      offset = 0,\n      emitChange\n    }) => {\n      if (count.value <= 1) {\n        return;\n      }\n      const {\n        active\n      } = state;\n      const targetActive = getTargetActive(pace);\n      const targetOffset = getTargetOffset(targetActive, offset);\n      if (props.loop) {\n        if (children[0] && targetOffset !== minOffset.value) {\n          const outRightBound = targetOffset < minOffset.value;\n          children[0].setOffset(outRightBound ? trackSize.value : 0);\n        }\n        if (children[count.value - 1] && targetOffset !== 0) {\n          const outLeftBound = targetOffset > 0;\n          children[count.value - 1].setOffset(outLeftBound ? -trackSize.value : 0);\n        }\n      }\n      state.active = targetActive;\n      state.offset = targetOffset;\n      if (emitChange && targetActive !== active) {\n        emit(\"change\", activeIndicator.value);\n      }\n    };\n    const correctPosition = () => {\n      state.swiping = true;\n      if (state.active <= -1) {\n        move({\n          pace: count.value\n        });\n      } else if (state.active >= count.value) {\n        move({\n          pace: -count.value\n        });\n      }\n    };\n    const prev = () => {\n      correctPosition();\n      touch.reset();\n      doubleRaf(() => {\n        state.swiping = false;\n        move({\n          pace: -1,\n          emitChange: true\n        });\n      });\n    };\n    const next = () => {\n      correctPosition();\n      touch.reset();\n      doubleRaf(() => {\n        state.swiping = false;\n        move({\n          pace: 1,\n          emitChange: true\n        });\n      });\n    };\n    let autoplayTimer;\n    const stopAutoplay = () => clearTimeout(autoplayTimer);\n    const autoplay = () => {\n      stopAutoplay();\n      if (props.autoplay > 0 && count.value > 1) {\n        autoplayTimer = setTimeout(() => {\n          next();\n          autoplay();\n        }, +props.autoplay);\n      }\n    };\n    const initialize = (active = +props.initialSwipe) => {\n      if (!root.value) {\n        return;\n      }\n      const cb = () => {\n        var _a, _b;\n        if (!isHidden(root)) {\n          const rect = {\n            width: root.value.offsetWidth,\n            height: root.value.offsetHeight\n          };\n          state.rect = rect;\n          state.width = +((_a = props.width) != null ? _a : rect.width);\n          state.height = +((_b = props.height) != null ? _b : rect.height);\n        }\n        if (count.value) {\n          active = Math.min(count.value - 1, active);\n        }\n        state.active = active;\n        state.swiping = true;\n        state.offset = getTargetOffset(active);\n        children.forEach((swipe) => {\n          swipe.setOffset(0);\n        });\n        autoplay();\n      };\n      if (isHidden(root)) {\n        nextTick().then(cb);\n      } else {\n        cb();\n      }\n    };\n    const resize = () => initialize(state.active);\n    let touchStartTime;\n    const onTouchStart = (event) => {\n      if (!props.touchable)\n        return;\n      touch.start(event);\n      touchStartTime = Date.now();\n      stopAutoplay();\n      correctPosition();\n    };\n    const onTouchMove = (event) => {\n      if (props.touchable && state.swiping) {\n        touch.move(event);\n        if (isCorrectDirection.value) {\n          const isEdgeTouch = !props.loop && (state.active === 0 && delta.value > 0 || state.active === count.value - 1 && delta.value < 0);\n          if (!isEdgeTouch) {\n            preventDefault(event, props.stopPropagation);\n            move({\n              offset: delta.value\n            });\n          }\n        }\n      }\n    };\n    const onTouchEnd = () => {\n      if (!props.touchable || !state.swiping) {\n        return;\n      }\n      const duration = Date.now() - touchStartTime;\n      const speed = delta.value / duration;\n      const shouldSwipe = Math.abs(speed) > 0.25 || Math.abs(delta.value) > size.value / 2;\n      if (shouldSwipe && isCorrectDirection.value) {\n        const offset = props.vertical ? touch.offsetY.value : touch.offsetX.value;\n        let pace = 0;\n        if (props.loop) {\n          pace = offset > 0 ? delta.value > 0 ? -1 : 1 : 0;\n        } else {\n          pace = -Math[delta.value > 0 ? \"ceil\" : \"floor\"](delta.value / size.value);\n        }\n        move({\n          pace,\n          emitChange: true\n        });\n      } else if (delta.value) {\n        move({\n          pace: 0\n        });\n      }\n      state.swiping = false;\n      autoplay();\n    };\n    const swipeTo = (index, options = {}) => {\n      correctPosition();\n      touch.reset();\n      doubleRaf(() => {\n        let targetIndex;\n        if (props.loop && index === count.value) {\n          targetIndex = state.active === 0 ? 0 : index;\n        } else {\n          targetIndex = index % count.value;\n        }\n        if (options.immediate) {\n          doubleRaf(() => {\n            state.swiping = false;\n          });\n        } else {\n          state.swiping = false;\n        }\n        move({\n          pace: targetIndex - state.active,\n          emitChange: true\n        });\n      });\n    };\n    const renderDot = (_, index) => {\n      const active = index === activeIndicator.value;\n      const style = active ? {\n        backgroundColor: props.indicatorColor\n      } : void 0;\n      return _createVNode(\"i\", {\n        \"style\": style,\n        \"class\": bem(\"indicator\", {\n          active\n        })\n      }, null);\n    };\n    const renderIndicator = () => {\n      if (slots.indicator) {\n        return slots.indicator({\n          active: activeIndicator.value,\n          total: count.value\n        });\n      }\n      if (props.showIndicators && count.value > 1) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"indicators\", {\n            vertical: props.vertical\n          })\n        }, [Array(count.value).fill(\"\").map(renderDot)]);\n      }\n    };\n    useExpose({\n      prev,\n      next,\n      state,\n      resize,\n      swipeTo\n    });\n    linkChildren({\n      size,\n      props,\n      count,\n      activeIndicator\n    });\n    watch(() => props.initialSwipe, (value) => initialize(+value));\n    watch(count, () => initialize(state.active));\n    watch(() => props.autoplay, autoplay);\n    watch([windowWidth, windowHeight], resize);\n    watch(usePageVisibility(), (visible) => {\n      if (visible === \"visible\") {\n        autoplay();\n      } else {\n        stopAutoplay();\n      }\n    });\n    onMounted(initialize);\n    onActivated(() => initialize(state.active));\n    onPopupReopen(() => initialize(state.active));\n    onDeactivated(stopAutoplay);\n    onBeforeUnmount(stopAutoplay);\n    useEventListener(\"touchmove\", onTouchMove, {\n      target: track\n    });\n    return () => {\n      var _a;\n      return _createVNode(\"div\", {\n        \"ref\": root,\n        \"class\": bem()\n      }, [_createVNode(\"div\", {\n        \"ref\": track,\n        \"style\": trackStyle.value,\n        \"class\": bem(\"track\", {\n          vertical: props.vertical\n        }),\n        \"onTouchstartPassive\": onTouchStart,\n        \"onTouchend\": onTouchEnd,\n        \"onTouchcancel\": onTouchEnd\n      }, [(_a = slots.default) == null ? void 0 : _a.call(slots)]), renderIndicator()]);\n    };\n  }\n});\nexport {\n  SWIPE_KEY,\n  stdin_default as default\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _Swipe from \"./Swipe.mjs\";\nconst Swipe = withInstall(_Swipe);\nvar stdin_default = Swipe;\nexport {\n  Swipe,\n  stdin_default as default\n};\n","import { createVNode as _createVNode } from \"vue\";\nimport { computed, nextTick, reactive, onMounted, defineComponent } from \"vue\";\nimport { createNamespace } from \"../utils/index.mjs\";\nimport { SWIPE_KEY } from \"../swipe/Swipe.mjs\";\nimport { useParent } from \"@vant/use\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nconst [name, bem] = createNamespace(\"swipe-item\");\nvar stdin_default = defineComponent({\n  name,\n  setup(props, {\n    slots\n  }) {\n    let rendered;\n    const state = reactive({\n      offset: 0,\n      inited: false,\n      mounted: false\n    });\n    const {\n      parent,\n      index\n    } = useParent(SWIPE_KEY);\n    if (!parent) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(\"[Vant] <SwipeItem> must be a child component of <Swipe>.\");\n      }\n      return;\n    }\n    const style = computed(() => {\n      const style2 = {};\n      const {\n        vertical\n      } = parent.props;\n      if (parent.size.value) {\n        style2[vertical ? \"height\" : \"width\"] = `${parent.size.value}px`;\n      }\n      if (state.offset) {\n        style2.transform = `translate${vertical ? \"Y\" : \"X\"}(${state.offset}px)`;\n      }\n      return style2;\n    });\n    const shouldRender = computed(() => {\n      const {\n        loop,\n        lazyRender\n      } = parent.props;\n      if (!lazyRender || rendered) {\n        return true;\n      }\n      if (!state.mounted) {\n        return false;\n      }\n      const active = parent.activeIndicator.value;\n      const maxActive = parent.count.value - 1;\n      const prevActive = active === 0 && loop ? maxActive : active - 1;\n      const nextActive = active === maxActive && loop ? 0 : active + 1;\n      rendered = index.value === active || index.value === prevActive || index.value === nextActive;\n      return rendered;\n    });\n    const setOffset = (offset) => {\n      state.offset = offset;\n    };\n    onMounted(() => {\n      nextTick(() => {\n        state.mounted = true;\n      });\n    });\n    useExpose({\n      setOffset\n    });\n    return () => {\n      var _a;\n      return _createVNode(\"div\", {\n        \"class\": bem(),\n        \"style\": style.value\n      }, [shouldRender.value ? (_a = slots.default) == null ? void 0 : _a.call(slots) : null]);\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _SwipeItem from \"./SwipeItem.mjs\";\nconst SwipeItem = withInstall(_SwipeItem);\nvar stdin_default = SwipeItem;\nexport {\n  SwipeItem,\n  stdin_default as default\n};\n","import { createVNode as _createVNode } from \"vue\";\nimport { ref, watch, computed, reactive, defineComponent } from \"vue\";\nimport { clamp, numericProp, preventDefault, createNamespace, makeRequiredProp } from \"../utils/index.mjs\";\nimport { useTouch } from \"../composables/use-touch.mjs\";\nimport { useEventListener } from \"@vant/use\";\nimport { Image } from \"../image/index.mjs\";\nimport { Loading } from \"../loading/index.mjs\";\nimport { SwipeItem } from \"../swipe-item/index.mjs\";\nconst getDistance = (touches) => Math.sqrt((touches[0].clientX - touches[1].clientX) ** 2 + (touches[0].clientY - touches[1].clientY) ** 2);\nconst bem = createNamespace(\"image-preview\")[1];\nvar stdin_default = defineComponent({\n  props: {\n    src: String,\n    show: Boolean,\n    active: Number,\n    minZoom: makeRequiredProp(numericProp),\n    maxZoom: makeRequiredProp(numericProp),\n    rootWidth: makeRequiredProp(Number),\n    rootHeight: makeRequiredProp(Number)\n  },\n  emits: [\"scale\", \"close\"],\n  setup(props, {\n    emit\n  }) {\n    const state = reactive({\n      scale: 1,\n      moveX: 0,\n      moveY: 0,\n      moving: false,\n      zooming: false,\n      imageRatio: 0,\n      displayWidth: 0,\n      displayHeight: 0\n    });\n    const touch = useTouch();\n    const swipeItem = ref();\n    const vertical = computed(() => {\n      const {\n        rootWidth,\n        rootHeight\n      } = props;\n      const rootRatio = rootHeight / rootWidth;\n      return state.imageRatio > rootRatio;\n    });\n    const imageStyle = computed(() => {\n      const {\n        scale,\n        moveX,\n        moveY,\n        moving,\n        zooming\n      } = state;\n      const style = {\n        transitionDuration: zooming || moving ? \"0s\" : \".3s\"\n      };\n      if (scale !== 1) {\n        const offsetX = moveX / scale;\n        const offsetY = moveY / scale;\n        style.transform = `scale(${scale}, ${scale}) translate(${offsetX}px, ${offsetY}px)`;\n      }\n      return style;\n    });\n    const maxMoveX = computed(() => {\n      if (state.imageRatio) {\n        const {\n          rootWidth,\n          rootHeight\n        } = props;\n        const displayWidth = vertical.value ? rootHeight / state.imageRatio : rootWidth;\n        return Math.max(0, (state.scale * displayWidth - rootWidth) / 2);\n      }\n      return 0;\n    });\n    const maxMoveY = computed(() => {\n      if (state.imageRatio) {\n        const {\n          rootWidth,\n          rootHeight\n        } = props;\n        const displayHeight = vertical.value ? rootHeight : rootWidth * state.imageRatio;\n        return Math.max(0, (state.scale * displayHeight - rootHeight) / 2);\n      }\n      return 0;\n    });\n    const setScale = (scale) => {\n      scale = clamp(scale, +props.minZoom, +props.maxZoom + 1);\n      if (scale !== state.scale) {\n        state.scale = scale;\n        emit(\"scale\", {\n          scale,\n          index: props.active\n        });\n      }\n    };\n    const resetScale = () => {\n      setScale(1);\n      state.moveX = 0;\n      state.moveY = 0;\n    };\n    const toggleScale = () => {\n      const scale = state.scale > 1 ? 1 : 2;\n      setScale(scale);\n      state.moveX = 0;\n      state.moveY = 0;\n    };\n    let fingerNum;\n    let startMoveX;\n    let startMoveY;\n    let startScale;\n    let startDistance;\n    let doubleTapTimer;\n    let touchStartTime;\n    const onTouchStart = (event) => {\n      const {\n        touches\n      } = event;\n      const {\n        offsetX\n      } = touch;\n      touch.start(event);\n      fingerNum = touches.length;\n      startMoveX = state.moveX;\n      startMoveY = state.moveY;\n      touchStartTime = Date.now();\n      state.moving = fingerNum === 1 && state.scale !== 1;\n      state.zooming = fingerNum === 2 && !offsetX.value;\n      if (state.zooming) {\n        startScale = state.scale;\n        startDistance = getDistance(event.touches);\n      }\n    };\n    const onTouchMove = (event) => {\n      const {\n        touches\n      } = event;\n      touch.move(event);\n      if (state.moving || state.zooming) {\n        preventDefault(event, true);\n      }\n      if (state.moving) {\n        const {\n          deltaX,\n          deltaY\n        } = touch;\n        const moveX = deltaX.value + startMoveX;\n        const moveY = deltaY.value + startMoveY;\n        state.moveX = clamp(moveX, -maxMoveX.value, maxMoveX.value);\n        state.moveY = clamp(moveY, -maxMoveY.value, maxMoveY.value);\n      }\n      if (state.zooming && touches.length === 2) {\n        const distance = getDistance(touches);\n        const scale = startScale * distance / startDistance;\n        setScale(scale);\n      }\n    };\n    const checkTap = () => {\n      if (fingerNum > 1) {\n        return;\n      }\n      const {\n        offsetX,\n        offsetY\n      } = touch;\n      const deltaTime = Date.now() - touchStartTime;\n      const TAP_TIME = 250;\n      const TAP_OFFSET = 5;\n      if (offsetX.value < TAP_OFFSET && offsetY.value < TAP_OFFSET && deltaTime < TAP_TIME) {\n        if (doubleTapTimer) {\n          clearTimeout(doubleTapTimer);\n          doubleTapTimer = null;\n          toggleScale();\n        } else {\n          doubleTapTimer = setTimeout(() => {\n            emit(\"close\");\n            doubleTapTimer = null;\n          }, TAP_TIME);\n        }\n      }\n    };\n    const onTouchEnd = (event) => {\n      let stopPropagation = false;\n      if (state.moving || state.zooming) {\n        stopPropagation = true;\n        if (state.moving && startMoveX === state.moveX && startMoveY === state.moveY) {\n          stopPropagation = false;\n        }\n        if (!event.touches.length) {\n          if (state.zooming) {\n            state.moveX = clamp(state.moveX, -maxMoveX.value, maxMoveX.value);\n            state.moveY = clamp(state.moveY, -maxMoveY.value, maxMoveY.value);\n            state.zooming = false;\n          }\n          state.moving = false;\n          startMoveX = 0;\n          startMoveY = 0;\n          startScale = 1;\n          if (state.scale < 1) {\n            resetScale();\n          }\n          if (state.scale > props.maxZoom) {\n            state.scale = +props.maxZoom;\n          }\n        }\n      }\n      preventDefault(event, stopPropagation);\n      checkTap();\n      touch.reset();\n    };\n    const onLoad = (event) => {\n      const {\n        naturalWidth,\n        naturalHeight\n      } = event.target;\n      state.imageRatio = naturalHeight / naturalWidth;\n    };\n    watch(() => props.active, resetScale);\n    watch(() => props.show, (value) => {\n      if (!value) {\n        resetScale();\n      }\n    });\n    useEventListener(\"touchmove\", onTouchMove, {\n      target: computed(() => {\n        var _a;\n        return (_a = swipeItem.value) == null ? void 0 : _a.$el;\n      })\n    });\n    return () => {\n      const imageSlots = {\n        loading: () => _createVNode(Loading, {\n          \"type\": \"spinner\"\n        }, null)\n      };\n      return _createVNode(SwipeItem, {\n        \"ref\": swipeItem,\n        \"class\": bem(\"swipe-item\"),\n        \"onTouchstartPassive\": onTouchStart,\n        \"onTouchend\": onTouchEnd,\n        \"onTouchcancel\": onTouchEnd\n      }, {\n        default: () => [_createVNode(Image, {\n          \"src\": props.src,\n          \"fit\": \"contain\",\n          \"class\": bem(\"image\", {\n            vertical: vertical.value\n          }),\n          \"style\": imageStyle.value,\n          \"onLoad\": onLoad\n        }, imageSlots)]\n      });\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n","import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { ref, watch, nextTick, reactive, onMounted, defineComponent } from \"vue\";\nimport { pick, truthProp, unknownProp, windowWidth, windowHeight, makeArrayProp, makeStringProp, makeNumericProp, callInterceptor, createNamespace, HAPTICS_FEEDBACK } from \"../utils/index.mjs\";\nimport { useRect } from \"@vant/use\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { Swipe } from \"../swipe/index.mjs\";\nimport { Popup } from \"../popup/index.mjs\";\nimport ImagePreviewItem from \"./ImagePreviewItem.mjs\";\nconst [name, bem] = createNamespace(\"image-preview\");\nconst popupProps = [\"show\", \"transition\", \"overlayStyle\", \"closeOnPopstate\"];\nconst imagePreviewProps = {\n  show: Boolean,\n  loop: truthProp,\n  images: makeArrayProp(),\n  minZoom: makeNumericProp(1 / 3),\n  maxZoom: makeNumericProp(3),\n  overlay: truthProp,\n  closeable: Boolean,\n  showIndex: truthProp,\n  className: unknownProp,\n  closeIcon: makeStringProp(\"clear\"),\n  transition: String,\n  beforeClose: Function,\n  overlayClass: unknownProp,\n  overlayStyle: Object,\n  swipeDuration: makeNumericProp(300),\n  startPosition: makeNumericProp(0),\n  showIndicators: Boolean,\n  closeOnPopstate: truthProp,\n  closeIconPosition: makeStringProp(\"top-right\")\n};\nvar stdin_default = defineComponent({\n  name,\n  props: imagePreviewProps,\n  emits: [\"scale\", \"close\", \"closed\", \"change\", \"update:show\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const swipeRef = ref();\n    const state = reactive({\n      active: 0,\n      rootWidth: 0,\n      rootHeight: 0\n    });\n    const resize = () => {\n      if (swipeRef.value) {\n        const rect = useRect(swipeRef.value.$el);\n        state.rootWidth = rect.width;\n        state.rootHeight = rect.height;\n        swipeRef.value.resize();\n      }\n    };\n    const emitScale = (args) => emit(\"scale\", args);\n    const updateShow = (show) => emit(\"update:show\", show);\n    const emitClose = () => {\n      callInterceptor(props.beforeClose, {\n        args: [state.active],\n        done: () => updateShow(false)\n      });\n    };\n    const setActive = (active) => {\n      if (active !== state.active) {\n        state.active = active;\n        emit(\"change\", active);\n      }\n    };\n    const renderIndex = () => {\n      if (props.showIndex) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"index\")\n        }, [slots.index ? slots.index({\n          index: state.active\n        }) : `${state.active + 1} / ${props.images.length}`]);\n      }\n    };\n    const renderCover = () => {\n      if (slots.cover) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"cover\")\n        }, [slots.cover()]);\n      }\n    };\n    const renderImages = () => _createVNode(Swipe, {\n      \"ref\": swipeRef,\n      \"lazyRender\": true,\n      \"loop\": props.loop,\n      \"class\": bem(\"swipe\"),\n      \"duration\": props.swipeDuration,\n      \"initialSwipe\": props.startPosition,\n      \"showIndicators\": props.showIndicators,\n      \"indicatorColor\": \"white\",\n      \"onChange\": setActive\n    }, {\n      default: () => [props.images.map((image) => _createVNode(ImagePreviewItem, {\n        \"src\": image,\n        \"show\": props.show,\n        \"active\": state.active,\n        \"maxZoom\": props.maxZoom,\n        \"minZoom\": props.minZoom,\n        \"rootWidth\": state.rootWidth,\n        \"rootHeight\": state.rootHeight,\n        \"onScale\": emitScale,\n        \"onClose\": emitClose\n      }, null))]\n    });\n    const renderClose = () => {\n      if (props.closeable) {\n        return _createVNode(Icon, {\n          \"role\": \"button\",\n          \"name\": props.closeIcon,\n          \"class\": [bem(\"close-icon\", props.closeIconPosition), HAPTICS_FEEDBACK],\n          \"onClick\": emitClose\n        }, null);\n      }\n    };\n    const onClosed = () => emit(\"closed\");\n    const swipeTo = (index, options) => {\n      var _a;\n      return (_a = swipeRef.value) == null ? void 0 : _a.swipeTo(index, options);\n    };\n    useExpose({\n      swipeTo\n    });\n    onMounted(resize);\n    watch([windowWidth, windowHeight], resize);\n    watch(() => props.startPosition, (value) => setActive(+value));\n    watch(() => props.show, (value) => {\n      const {\n        images,\n        startPosition\n      } = props;\n      if (value) {\n        setActive(+startPosition);\n        nextTick(() => {\n          resize();\n          swipeTo(+startPosition, {\n            immediate: true\n          });\n        });\n      } else {\n        emit(\"close\", {\n          index: state.active,\n          url: images[state.active]\n        });\n      }\n    });\n    return () => _createVNode(Popup, _mergeProps({\n      \"class\": [bem(), props.className],\n      \"overlayClass\": [bem(\"overlay\"), props.overlayClass],\n      \"onClosed\": onClosed,\n      \"onUpdate:show\": updateShow\n    }, pick(props, popupProps)), {\n      default: () => [renderClose(), renderImages(), renderIndex(), renderCover()]\n    });\n  }\n});\nexport {\n  stdin_default as default\n};\n","import { createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\nimport { extend, inBrowser, withInstall } from \"../utils/index.mjs\";\nimport { mountComponent, usePopupState } from \"../utils/mount-component.mjs\";\nimport VanImagePreview from \"./ImagePreview.mjs\";\nlet instance;\nconst defaultConfig = {\n  loop: true,\n  images: [],\n  maxZoom: 3,\n  minZoom: 1 / 3,\n  onScale: void 0,\n  onClose: void 0,\n  onChange: void 0,\n  teleport: \"body\",\n  className: \"\",\n  showIndex: true,\n  closeable: false,\n  closeIcon: \"clear\",\n  transition: void 0,\n  beforeClose: void 0,\n  overlayStyle: void 0,\n  overlayClass: void 0,\n  startPosition: 0,\n  swipeDuration: 300,\n  showIndicators: false,\n  closeOnPopstate: true,\n  closeIconPosition: \"top-right\"\n};\nfunction initInstance() {\n  ({\n    instance\n  } = mountComponent({\n    setup() {\n      const {\n        state,\n        toggle\n      } = usePopupState();\n      const onClosed = () => {\n        state.images = [];\n      };\n      return () => _createVNode(VanImagePreview, _mergeProps(state, {\n        \"onClosed\": onClosed,\n        \"onUpdate:show\": toggle\n      }), null);\n    }\n  }));\n}\nconst ImagePreview = (options, startPosition = 0) => {\n  if (!inBrowser) {\n    return;\n  }\n  if (!instance) {\n    initInstance();\n  }\n  options = Array.isArray(options) ? {\n    images: options,\n    startPosition\n  } : options;\n  instance.open(extend({}, defaultConfig, options));\n  return instance;\n};\nImagePreview.Component = withInstall(VanImagePreview);\nImagePreview.install = (app) => {\n  app.use(ImagePreview.Component);\n};\nexport {\n  ImagePreview\n};\n","import { createVNode as _createVNode } from \"vue\";\nimport { ref, watch, reactive, nextTick, defineComponent } from \"vue\";\nimport { numericProp, getScrollTop, preventDefault, createNamespace, makeNumericProp } from \"../utils/index.mjs\";\nimport { useEventListener, useScrollParent } from \"@vant/use\";\nimport { useTouch } from \"../composables/use-touch.mjs\";\nimport { Loading } from \"../loading/index.mjs\";\nconst [name, bem, t] = createNamespace(\"pull-refresh\");\nconst DEFAULT_HEAD_HEIGHT = 50;\nconst TEXT_STATUS = [\"pulling\", \"loosing\", \"success\"];\nconst pullRefreshProps = {\n  disabled: Boolean,\n  modelValue: Boolean,\n  headHeight: makeNumericProp(DEFAULT_HEAD_HEIGHT),\n  successText: String,\n  pullingText: String,\n  loosingText: String,\n  loadingText: String,\n  pullDistance: numericProp,\n  successDuration: makeNumericProp(500),\n  animationDuration: makeNumericProp(300)\n};\nvar stdin_default = defineComponent({\n  name,\n  props: pullRefreshProps,\n  emits: [\"change\", \"refresh\", \"update:modelValue\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    let reachTop;\n    const root = ref();\n    const track = ref();\n    const scrollParent = useScrollParent(root);\n    const state = reactive({\n      status: \"normal\",\n      distance: 0,\n      duration: 0\n    });\n    const touch = useTouch();\n    const getHeadStyle = () => {\n      if (props.headHeight !== DEFAULT_HEAD_HEIGHT) {\n        return {\n          height: `${props.headHeight}px`\n        };\n      }\n    };\n    const isTouchable = () => state.status !== \"loading\" && state.status !== \"success\" && !props.disabled;\n    const ease = (distance) => {\n      const pullDistance = +(props.pullDistance || props.headHeight);\n      if (distance > pullDistance) {\n        if (distance < pullDistance * 2) {\n          distance = pullDistance + (distance - pullDistance) / 2;\n        } else {\n          distance = pullDistance * 1.5 + (distance - pullDistance * 2) / 4;\n        }\n      }\n      return Math.round(distance);\n    };\n    const setStatus = (distance, isLoading) => {\n      const pullDistance = +(props.pullDistance || props.headHeight);\n      state.distance = distance;\n      if (isLoading) {\n        state.status = \"loading\";\n      } else if (distance === 0) {\n        state.status = \"normal\";\n      } else if (distance < pullDistance) {\n        state.status = \"pulling\";\n      } else {\n        state.status = \"loosing\";\n      }\n      emit(\"change\", {\n        status: state.status,\n        distance\n      });\n    };\n    const getStatusText = () => {\n      const {\n        status\n      } = state;\n      if (status === \"normal\") {\n        return \"\";\n      }\n      return props[`${status}Text`] || t(status);\n    };\n    const renderStatus = () => {\n      const {\n        status,\n        distance\n      } = state;\n      if (slots[status]) {\n        return slots[status]({\n          distance\n        });\n      }\n      const nodes = [];\n      if (TEXT_STATUS.includes(status)) {\n        nodes.push(_createVNode(\"div\", {\n          \"class\": bem(\"text\")\n        }, [getStatusText()]));\n      }\n      if (status === \"loading\") {\n        nodes.push(_createVNode(Loading, {\n          \"class\": bem(\"loading\")\n        }, {\n          default: getStatusText\n        }));\n      }\n      return nodes;\n    };\n    const showSuccessTip = () => {\n      state.status = \"success\";\n      setTimeout(() => {\n        setStatus(0);\n      }, +props.successDuration);\n    };\n    const checkPosition = (event) => {\n      reachTop = getScrollTop(scrollParent.value) === 0;\n      if (reachTop) {\n        state.duration = 0;\n        touch.start(event);\n      }\n    };\n    const onTouchStart = (event) => {\n      if (isTouchable()) {\n        checkPosition(event);\n      }\n    };\n    const onTouchMove = (event) => {\n      if (isTouchable()) {\n        if (!reachTop) {\n          checkPosition(event);\n        }\n        const {\n          deltaY\n        } = touch;\n        touch.move(event);\n        if (reachTop && deltaY.value >= 0 && touch.isVertical()) {\n          preventDefault(event);\n          setStatus(ease(deltaY.value));\n        }\n      }\n    };\n    const onTouchEnd = () => {\n      if (reachTop && touch.deltaY.value && isTouchable()) {\n        state.duration = +props.animationDuration;\n        if (state.status === \"loosing\") {\n          setStatus(+props.headHeight, true);\n          emit(\"update:modelValue\", true);\n          nextTick(() => emit(\"refresh\"));\n        } else {\n          setStatus(0);\n        }\n      }\n    };\n    watch(() => props.modelValue, (value) => {\n      state.duration = +props.animationDuration;\n      if (value) {\n        setStatus(+props.headHeight, true);\n      } else if (slots.success || props.successText) {\n        showSuccessTip();\n      } else {\n        setStatus(0, false);\n      }\n    });\n    useEventListener(\"touchmove\", onTouchMove, {\n      target: track\n    });\n    return () => {\n      var _a;\n      const trackStyle = {\n        transitionDuration: `${state.duration}ms`,\n        transform: state.distance ? `translate3d(0,${state.distance}px, 0)` : \"\"\n      };\n      return _createVNode(\"div\", {\n        \"ref\": root,\n        \"class\": bem()\n      }, [_createVNode(\"div\", {\n        \"ref\": track,\n        \"class\": bem(\"track\"),\n        \"style\": trackStyle,\n        \"onTouchstartPassive\": onTouchStart,\n        \"onTouchend\": onTouchEnd,\n        \"onTouchcancel\": onTouchEnd\n      }, [_createVNode(\"div\", {\n        \"class\": bem(\"head\"),\n        \"style\": getHeadStyle()\n      }, [renderStatus()]), (_a = slots.default) == null ? void 0 : _a.call(slots)])]);\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _PullRefresh from \"./PullRefresh.mjs\";\nconst PullRefresh = withInstall(_PullRefresh);\nvar stdin_default = PullRefresh;\nexport {\n  PullRefresh,\n  stdin_default as default\n};\n","import { toArray, createNamespace, isFunction } from \"../utils/index.mjs\";\nconst [name, bem, t] = createNamespace(\"uploader\");\nfunction readFileContent(file, resultType) {\n  return new Promise((resolve) => {\n    if (resultType === \"file\") {\n      resolve();\n      return;\n    }\n    const reader = new FileReader();\n    reader.onload = (event) => {\n      resolve(event.target.result);\n    };\n    if (resultType === \"dataUrl\") {\n      reader.readAsDataURL(file);\n    } else if (resultType === \"text\") {\n      reader.readAsText(file);\n    }\n  });\n}\nfunction isOversize(items, maxSize) {\n  return toArray(items).some((item) => {\n    if (item.file) {\n      if (isFunction(maxSize)) {\n        return maxSize(item.file);\n      }\n      return item.file.size > maxSize;\n    }\n    return false;\n  });\n}\nfunction filterFiles(items, maxSize) {\n  const valid = [];\n  const invalid = [];\n  items.forEach((item) => {\n    if (isOversize(item, maxSize)) {\n      invalid.push(item);\n    } else {\n      valid.push(item);\n    }\n  });\n  return { valid, invalid };\n}\nconst IMAGE_REGEXP = /\\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;\nconst isImageUrl = (url) => IMAGE_REGEXP.test(url);\nfunction isImageFile(item) {\n  if (item.isImage) {\n    return true;\n  }\n  if (item.file && item.file.type) {\n    return item.file.type.indexOf(\"image\") === 0;\n  }\n  if (item.url) {\n    return isImageUrl(item.url);\n  }\n  if (typeof item.content === \"string\") {\n    return item.content.indexOf(\"data:image\") === 0;\n  }\n  return false;\n}\nexport {\n  bem,\n  filterFiles,\n  isImageFile,\n  isImageUrl,\n  isOversize,\n  name,\n  readFileContent,\n  t\n};\n","import { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { t, bem, isImageFile } from \"./utils.mjs\";\nimport { isDef, extend, numericProp, getSizeStyle, callInterceptor, makeRequiredProp } from \"../utils/index.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { Image } from \"../image/index.mjs\";\nimport { Loading } from \"../loading/index.mjs\";\nvar stdin_default = defineComponent({\n  props: {\n    name: numericProp,\n    item: makeRequiredProp(Object),\n    index: Number,\n    imageFit: String,\n    lazyLoad: Boolean,\n    deletable: Boolean,\n    previewSize: [Number, String, Array],\n    beforeDelete: Function\n  },\n  emits: [\"delete\", \"preview\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const renderMask = () => {\n      const {\n        status,\n        message\n      } = props.item;\n      if (status === \"uploading\" || status === \"failed\") {\n        const MaskIcon = status === \"failed\" ? _createVNode(Icon, {\n          \"name\": \"close\",\n          \"class\": bem(\"mask-icon\")\n        }, null) : _createVNode(Loading, {\n          \"class\": bem(\"loading\")\n        }, null);\n        const showMessage = isDef(message) && message !== \"\";\n        return _createVNode(\"div\", {\n          \"class\": bem(\"mask\")\n        }, [MaskIcon, showMessage && _createVNode(\"div\", {\n          \"class\": bem(\"mask-message\")\n        }, [message])]);\n      }\n    };\n    const onDelete = (event) => {\n      const {\n        name,\n        item,\n        index,\n        beforeDelete\n      } = props;\n      event.stopPropagation();\n      callInterceptor(beforeDelete, {\n        args: [item, {\n          name,\n          index\n        }],\n        done: () => emit(\"delete\")\n      });\n    };\n    const onPreview = () => emit(\"preview\");\n    const renderDeleteIcon = () => {\n      if (props.deletable && props.item.status !== \"uploading\") {\n        const slot = slots[\"preview-delete\"];\n        return _createVNode(\"div\", {\n          \"role\": \"button\",\n          \"class\": bem(\"preview-delete\", {\n            shadow: !slot\n          }),\n          \"tabindex\": 0,\n          \"aria-label\": t(\"delete\"),\n          \"onClick\": onDelete\n        }, [slot ? slot() : _createVNode(Icon, {\n          \"name\": \"cross\",\n          \"class\": bem(\"preview-delete-icon\")\n        }, null)]);\n      }\n    };\n    const renderCover = () => {\n      if (slots[\"preview-cover\"]) {\n        const {\n          index,\n          item\n        } = props;\n        return _createVNode(\"div\", {\n          \"class\": bem(\"preview-cover\")\n        }, [slots[\"preview-cover\"](extend({\n          index\n        }, item))]);\n      }\n    };\n    const renderPreview = () => {\n      const {\n        item,\n        lazyLoad,\n        imageFit,\n        previewSize\n      } = props;\n      if (isImageFile(item)) {\n        return _createVNode(Image, {\n          \"fit\": imageFit,\n          \"src\": item.content || item.url,\n          \"class\": bem(\"preview-image\"),\n          \"width\": Array.isArray(previewSize) ? previewSize[0] : previewSize,\n          \"height\": Array.isArray(previewSize) ? previewSize[1] : previewSize,\n          \"lazyLoad\": lazyLoad,\n          \"onClick\": onPreview\n        }, {\n          default: renderCover\n        });\n      }\n      return _createVNode(\"div\", {\n        \"class\": bem(\"file\"),\n        \"style\": getSizeStyle(props.previewSize)\n      }, [_createVNode(Icon, {\n        \"class\": bem(\"file-icon\"),\n        \"name\": \"description\"\n      }, null), _createVNode(\"div\", {\n        \"class\": [bem(\"file-name\"), \"van-ellipsis\"]\n      }, [item.file ? item.file.name : item.url]), renderCover()]);\n    };\n    return () => _createVNode(\"div\", {\n      \"class\": bem(\"preview\")\n    }, [renderPreview(), renderMask(), renderDeleteIcon()]);\n  }\n});\nexport {\n  stdin_default as default\n};\n","import { createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\nimport { ref, reactive, defineComponent, onBeforeUnmount } from \"vue\";\nimport { pick, extend, toArray, isPromise, truthProp, getSizeStyle, makeArrayProp, makeStringProp, makeNumericProp } from \"../utils/index.mjs\";\nimport { bem, name, isOversize, filterFiles, isImageFile, readFileContent } from \"./utils.mjs\";\nimport { useCustomFieldValue } from \"@vant/use\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { ImagePreview } from \"../image-preview/index.mjs\";\nimport UploaderPreviewItem from \"./UploaderPreviewItem.mjs\";\nconst uploaderProps = {\n  name: makeNumericProp(\"\"),\n  accept: makeStringProp(\"image/*\"),\n  capture: String,\n  multiple: Boolean,\n  disabled: Boolean,\n  readonly: Boolean,\n  lazyLoad: Boolean,\n  maxCount: makeNumericProp(Infinity),\n  imageFit: makeStringProp(\"cover\"),\n  resultType: makeStringProp(\"dataUrl\"),\n  uploadIcon: makeStringProp(\"photograph\"),\n  uploadText: String,\n  deletable: truthProp,\n  afterRead: Function,\n  showUpload: truthProp,\n  modelValue: makeArrayProp(),\n  beforeRead: Function,\n  beforeDelete: Function,\n  previewSize: [Number, String, Array],\n  previewImage: truthProp,\n  previewOptions: Object,\n  previewFullImage: truthProp,\n  maxSize: {\n    type: [Number, String, Function],\n    default: Infinity\n  }\n};\nvar stdin_default = defineComponent({\n  name,\n  props: uploaderProps,\n  emits: [\"delete\", \"oversize\", \"click-upload\", \"close-preview\", \"click-preview\", \"update:modelValue\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const inputRef = ref();\n    const urls = [];\n    const getDetail = (index = props.modelValue.length) => ({\n      name: props.name,\n      index\n    });\n    const resetInput = () => {\n      if (inputRef.value) {\n        inputRef.value.value = \"\";\n      }\n    };\n    const onAfterRead = (items) => {\n      resetInput();\n      if (isOversize(items, props.maxSize)) {\n        if (Array.isArray(items)) {\n          const result = filterFiles(items, props.maxSize);\n          items = result.valid;\n          emit(\"oversize\", result.invalid, getDetail());\n          if (!items.length) {\n            return;\n          }\n        } else {\n          emit(\"oversize\", items, getDetail());\n          return;\n        }\n      }\n      items = reactive(items);\n      emit(\"update:modelValue\", [...props.modelValue, ...toArray(items)]);\n      if (props.afterRead) {\n        props.afterRead(items, getDetail());\n      }\n    };\n    const readFile = (files) => {\n      const {\n        maxCount,\n        modelValue,\n        resultType\n      } = props;\n      if (Array.isArray(files)) {\n        const remainCount = +maxCount - modelValue.length;\n        if (files.length > remainCount) {\n          files = files.slice(0, remainCount);\n        }\n        Promise.all(files.map((file) => readFileContent(file, resultType))).then((contents) => {\n          const fileList = files.map((file, index) => {\n            const result = {\n              file,\n              status: \"\",\n              message: \"\"\n            };\n            if (contents[index]) {\n              result.content = contents[index];\n            }\n            return result;\n          });\n          onAfterRead(fileList);\n        });\n      } else {\n        readFileContent(files, resultType).then((content) => {\n          const result = {\n            file: files,\n            status: \"\",\n            message: \"\"\n          };\n          if (content) {\n            result.content = content;\n          }\n          onAfterRead(result);\n        });\n      }\n    };\n    const onChange = (event) => {\n      const {\n        files\n      } = event.target;\n      if (props.disabled || !files || !files.length) {\n        return;\n      }\n      const file = files.length === 1 ? files[0] : [].slice.call(files);\n      if (props.beforeRead) {\n        const response = props.beforeRead(file, getDetail());\n        if (!response) {\n          resetInput();\n          return;\n        }\n        if (isPromise(response)) {\n          response.then((data) => {\n            if (data) {\n              readFile(data);\n            } else {\n              readFile(file);\n            }\n          }).catch(resetInput);\n          return;\n        }\n      }\n      readFile(file);\n    };\n    let imagePreview;\n    const onClosePreview = () => emit(\"close-preview\");\n    const previewImage = (item) => {\n      if (props.previewFullImage) {\n        const imageFiles = props.modelValue.filter(isImageFile);\n        const images = imageFiles.map((item2) => {\n          if (item2.file && !item2.url && item2.status !== \"failed\") {\n            item2.url = URL.createObjectURL(item2.file);\n            urls.push(item2.url);\n          }\n          return item2.url;\n        }).filter(Boolean);\n        imagePreview = ImagePreview(extend({\n          images,\n          startPosition: imageFiles.indexOf(item),\n          onClose: onClosePreview\n        }, props.previewOptions));\n      }\n    };\n    const closeImagePreview = () => {\n      if (imagePreview) {\n        imagePreview.close();\n      }\n    };\n    const deleteFile = (item, index) => {\n      const fileList = props.modelValue.slice(0);\n      fileList.splice(index, 1);\n      emit(\"update:modelValue\", fileList);\n      emit(\"delete\", item, getDetail(index));\n    };\n    const renderPreviewItem = (item, index) => {\n      const needPickData = [\"imageFit\", \"deletable\", \"previewSize\", \"beforeDelete\"];\n      const previewData = extend(pick(props, needPickData), pick(item, needPickData, true));\n      return _createVNode(UploaderPreviewItem, _mergeProps({\n        \"item\": item,\n        \"index\": index,\n        \"onClick\": () => emit(\"click-preview\", item, getDetail(index)),\n        \"onDelete\": () => deleteFile(item, index),\n        \"onPreview\": () => previewImage(item)\n      }, pick(props, [\"name\", \"lazyLoad\"]), previewData), pick(slots, [\"preview-cover\", \"preview-delete\"]));\n    };\n    const renderPreviewList = () => {\n      if (props.previewImage) {\n        return props.modelValue.map(renderPreviewItem);\n      }\n    };\n    const onClickUpload = (event) => emit(\"click-upload\", event);\n    const renderUpload = () => {\n      if (props.modelValue.length >= props.maxCount || !props.showUpload) {\n        return;\n      }\n      const Input = props.readonly ? null : _createVNode(\"input\", {\n        \"ref\": inputRef,\n        \"type\": \"file\",\n        \"class\": bem(\"input\"),\n        \"accept\": props.accept,\n        \"capture\": props.capture,\n        \"multiple\": props.multiple,\n        \"disabled\": props.disabled,\n        \"onChange\": onChange\n      }, null);\n      if (slots.default) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"input-wrapper\"),\n          \"onClick\": onClickUpload\n        }, [slots.default(), Input]);\n      }\n      return _createVNode(\"div\", {\n        \"class\": bem(\"upload\", {\n          readonly: props.readonly\n        }),\n        \"style\": getSizeStyle(props.previewSize),\n        \"onClick\": onClickUpload\n      }, [_createVNode(Icon, {\n        \"name\": props.uploadIcon,\n        \"class\": bem(\"upload-icon\")\n      }, null), props.uploadText && _createVNode(\"span\", {\n        \"class\": bem(\"upload-text\")\n      }, [props.uploadText]), Input]);\n    };\n    const chooseFile = () => {\n      if (inputRef.value && !props.disabled) {\n        inputRef.value.click();\n      }\n    };\n    onBeforeUnmount(() => {\n      urls.forEach((url) => URL.revokeObjectURL(url));\n    });\n    useExpose({\n      chooseFile,\n      closeImagePreview\n    });\n    useCustomFieldValue(() => props.modelValue);\n    return () => _createVNode(\"div\", {\n      \"class\": bem()\n    }, [_createVNode(\"div\", {\n      \"class\": bem(\"wrapper\", {\n        disabled: props.disabled\n      })\n    }, [renderPreviewList(), renderUpload()])]);\n  }\n});\nexport {\n  stdin_default as default\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _Uploader from \"./Uploader.mjs\";\nconst Uploader = withInstall(_Uploader);\nvar stdin_default = Uploader;\nexport {\n  Uploader,\n  stdin_default as default\n};\n","(typeof navigator !== \"undefined\") && (function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.lottie = factory());\n})(this, (function () { 'use strict';\n\n  var svgNS = 'http://www.w3.org/2000/svg';\n  var locationHref = '';\n  var _useWebWorker = false;\n  var initialDefaultFrame = -999999;\n\n  var setWebWorker = function setWebWorker(flag) {\n    _useWebWorker = !!flag;\n  };\n\n  var getWebWorker = function getWebWorker() {\n    return _useWebWorker;\n  };\n\n  var setLocationHref = function setLocationHref(value) {\n    locationHref = value;\n  };\n\n  var getLocationHref = function getLocationHref() {\n    return locationHref;\n  };\n\n  function createTag(type) {\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\n    return document.createElement(type);\n  }\n\n  function extendPrototype(sources, destination) {\n    var i;\n    var len = sources.length;\n    var sourcePrototype;\n\n    for (i = 0; i < len; i += 1) {\n      sourcePrototype = sources[i].prototype;\n\n      for (var attr in sourcePrototype) {\n        if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr)) destination.prototype[attr] = sourcePrototype[attr];\n      }\n    }\n  }\n\n  function getDescriptor(object, prop) {\n    return Object.getOwnPropertyDescriptor(object, prop);\n  }\n\n  function createProxyFunction(prototype) {\n    function ProxyFunction() {}\n\n    ProxyFunction.prototype = prototype;\n    return ProxyFunction;\n  }\n\n  // import Howl from '../../3rd_party/howler';\n  var audioControllerFactory = function () {\n    function AudioController(audioFactory) {\n      this.audios = [];\n      this.audioFactory = audioFactory;\n      this._volume = 1;\n      this._isMuted = false;\n    }\n\n    AudioController.prototype = {\n      addAudio: function addAudio(audio) {\n        this.audios.push(audio);\n      },\n      pause: function pause() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].pause();\n        }\n      },\n      resume: function resume() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].resume();\n        }\n      },\n      setRate: function setRate(rateValue) {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].setRate(rateValue);\n        }\n      },\n      createAudio: function createAudio(assetPath) {\n        if (this.audioFactory) {\n          return this.audioFactory(assetPath);\n        }\n\n        if (window.Howl) {\n          return new window.Howl({\n            src: [assetPath]\n          });\n        }\n\n        return {\n          isPlaying: false,\n          play: function play() {\n            this.isPlaying = true;\n          },\n          seek: function seek() {\n            this.isPlaying = false;\n          },\n          playing: function playing() {},\n          rate: function rate() {},\n          setVolume: function setVolume() {}\n        };\n      },\n      setAudioFactory: function setAudioFactory(audioFactory) {\n        this.audioFactory = audioFactory;\n      },\n      setVolume: function setVolume(value) {\n        this._volume = value;\n\n        this._updateVolume();\n      },\n      mute: function mute() {\n        this._isMuted = true;\n\n        this._updateVolume();\n      },\n      unmute: function unmute() {\n        this._isMuted = false;\n\n        this._updateVolume();\n      },\n      getVolume: function getVolume() {\n        return this._volume;\n      },\n      _updateVolume: function _updateVolume() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].volume(this._volume * (this._isMuted ? 0 : 1));\n        }\n      }\n    };\n    return function () {\n      return new AudioController();\n    };\n  }();\n\n  var createTypedArray = function () {\n    function createRegularArray(type, len) {\n      var i = 0;\n      var arr = [];\n      var value;\n\n      switch (type) {\n        case 'int16':\n        case 'uint8c':\n          value = 1;\n          break;\n\n        default:\n          value = 1.1;\n          break;\n      }\n\n      for (i = 0; i < len; i += 1) {\n        arr.push(value);\n      }\n\n      return arr;\n    }\n\n    function createTypedArrayFactory(type, len) {\n      if (type === 'float32') {\n        return new Float32Array(len);\n      }\n\n      if (type === 'int16') {\n        return new Int16Array(len);\n      }\n\n      if (type === 'uint8c') {\n        return new Uint8ClampedArray(len);\n      }\n\n      return createRegularArray(type, len);\n    }\n\n    if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\n      return createTypedArrayFactory;\n    }\n\n    return createRegularArray;\n  }();\n\n  function createSizedArray(len) {\n    return Array.apply(null, {\n      length: len\n    });\n  }\n\n  function _typeof$6(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$6 = function _typeof(obj) { return typeof obj; }; } else { _typeof$6 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$6(obj); }\n  var subframeEnabled = true;\n  var expressionsPlugin = null;\n  var idPrefix$1 = '';\n  var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  var _shouldRoundValues = false;\n  var bmPow = Math.pow;\n  var bmSqrt = Math.sqrt;\n  var bmFloor = Math.floor;\n  var bmMax = Math.max;\n  var bmMin = Math.min;\n  var BMMath = {};\n\n  (function () {\n    var propertyNames = ['abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'atan2', 'ceil', 'cbrt', 'expm1', 'clz32', 'cos', 'cosh', 'exp', 'floor', 'fround', 'hypot', 'imul', 'log', 'log1p', 'log2', 'log10', 'max', 'min', 'pow', 'random', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc', 'E', 'LN10', 'LN2', 'LOG10E', 'LOG2E', 'PI', 'SQRT1_2', 'SQRT2'];\n    var i;\n    var len = propertyNames.length;\n\n    for (i = 0; i < len; i += 1) {\n      BMMath[propertyNames[i]] = Math[propertyNames[i]];\n    }\n  })();\n\n  function ProjectInterface$1() {\n    return {};\n  }\n\n  BMMath.random = Math.random;\n\n  BMMath.abs = function (val) {\n    var tOfVal = _typeof$6(val);\n\n    if (tOfVal === 'object' && val.length) {\n      var absArr = createSizedArray(val.length);\n      var i;\n      var len = val.length;\n\n      for (i = 0; i < len; i += 1) {\n        absArr[i] = Math.abs(val[i]);\n      }\n\n      return absArr;\n    }\n\n    return Math.abs(val);\n  };\n\n  var defaultCurveSegments = 150;\n  var degToRads = Math.PI / 180;\n  var roundCorner = 0.5519;\n\n  function roundValues(flag) {\n    _shouldRoundValues = !!flag;\n  }\n\n  function bmRnd(value) {\n    if (_shouldRoundValues) {\n      return Math.round(value);\n    }\n\n    return value;\n  }\n\n  function styleDiv(element) {\n    element.style.position = 'absolute';\n    element.style.top = 0;\n    element.style.left = 0;\n    element.style.display = 'block';\n    element.style.transformOrigin = '0 0';\n    element.style.webkitTransformOrigin = '0 0';\n    element.style.backfaceVisibility = 'visible';\n    element.style.webkitBackfaceVisibility = 'visible';\n    element.style.transformStyle = 'preserve-3d';\n    element.style.webkitTransformStyle = 'preserve-3d';\n    element.style.mozTransformStyle = 'preserve-3d';\n  }\n\n  function BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {\n    this.type = type;\n    this.currentTime = currentTime;\n    this.totalTime = totalTime;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMCompleteEvent(type, frameMultiplier) {\n    this.type = type;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {\n    this.type = type;\n    this.currentLoop = currentLoop;\n    this.totalLoops = totalLoops;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMSegmentStartEvent(type, firstFrame, totalFrames) {\n    this.type = type;\n    this.firstFrame = firstFrame;\n    this.totalFrames = totalFrames;\n  }\n\n  function BMDestroyEvent(type, target) {\n    this.type = type;\n    this.target = target;\n  }\n\n  function BMRenderFrameErrorEvent(nativeError, currentTime) {\n    this.type = 'renderFrameError';\n    this.nativeError = nativeError;\n    this.currentTime = currentTime;\n  }\n\n  function BMConfigErrorEvent(nativeError) {\n    this.type = 'configError';\n    this.nativeError = nativeError;\n  }\n\n  function BMAnimationConfigErrorEvent(type, nativeError) {\n    this.type = type;\n    this.nativeError = nativeError;\n  }\n\n  var createElementID = function () {\n    var _count = 0;\n    return function createID() {\n      _count += 1;\n      return idPrefix$1 + '__lottie_element_' + _count;\n    };\n  }();\n\n  function HSVtoRGB(h, s, v) {\n    var r;\n    var g;\n    var b;\n    var i;\n    var f;\n    var p;\n    var q;\n    var t;\n    i = Math.floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n\n    switch (i % 6) {\n      case 0:\n        r = v;\n        g = t;\n        b = p;\n        break;\n\n      case 1:\n        r = q;\n        g = v;\n        b = p;\n        break;\n\n      case 2:\n        r = p;\n        g = v;\n        b = t;\n        break;\n\n      case 3:\n        r = p;\n        g = q;\n        b = v;\n        break;\n\n      case 4:\n        r = t;\n        g = p;\n        b = v;\n        break;\n\n      case 5:\n        r = v;\n        g = p;\n        b = q;\n        break;\n\n      default:\n        break;\n    }\n\n    return [r, g, b];\n  }\n\n  function RGBtoHSV(r, g, b) {\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var d = max - min;\n    var h;\n    var s = max === 0 ? 0 : d / max;\n    var v = max / 255;\n\n    switch (max) {\n      case min:\n        h = 0;\n        break;\n\n      case r:\n        h = g - b + d * (g < b ? 6 : 0);\n        h /= 6 * d;\n        break;\n\n      case g:\n        h = b - r + d * 2;\n        h /= 6 * d;\n        break;\n\n      case b:\n        h = r - g + d * 4;\n        h /= 6 * d;\n        break;\n\n      default:\n        break;\n    }\n\n    return [h, s, v];\n  }\n\n  function addSaturationToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[1] += offset;\n\n    if (hsv[1] > 1) {\n      hsv[1] = 1;\n    } else if (hsv[1] <= 0) {\n      hsv[1] = 0;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  function addBrightnessToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[2] += offset;\n\n    if (hsv[2] > 1) {\n      hsv[2] = 1;\n    } else if (hsv[2] < 0) {\n      hsv[2] = 0;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  function addHueToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[0] += offset / 360;\n\n    if (hsv[0] > 1) {\n      hsv[0] -= 1;\n    } else if (hsv[0] < 0) {\n      hsv[0] += 1;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  var rgbToHex = function () {\n    var colorMap = [];\n    var i;\n    var hex;\n\n    for (i = 0; i < 256; i += 1) {\n      hex = i.toString(16);\n      colorMap[i] = hex.length === 1 ? '0' + hex : hex;\n    }\n\n    return function (r, g, b) {\n      if (r < 0) {\n        r = 0;\n      }\n\n      if (g < 0) {\n        g = 0;\n      }\n\n      if (b < 0) {\n        b = 0;\n      }\n\n      return '#' + colorMap[r] + colorMap[g] + colorMap[b];\n    };\n  }();\n\n  var setSubframeEnabled = function setSubframeEnabled(flag) {\n    subframeEnabled = !!flag;\n  };\n\n  var getSubframeEnabled = function getSubframeEnabled() {\n    return subframeEnabled;\n  };\n\n  var setExpressionsPlugin = function setExpressionsPlugin(value) {\n    expressionsPlugin = value;\n  };\n\n  var getExpressionsPlugin = function getExpressionsPlugin() {\n    return expressionsPlugin;\n  };\n\n  var setDefaultCurveSegments = function setDefaultCurveSegments(value) {\n    defaultCurveSegments = value;\n  };\n\n  var getDefaultCurveSegments = function getDefaultCurveSegments() {\n    return defaultCurveSegments;\n  };\n\n  var setIdPrefix = function setIdPrefix(value) {\n    idPrefix$1 = value;\n  };\n\n  var getIdPrefix = function getIdPrefix() {\n    return idPrefix$1;\n  };\n\n  function createNS(type) {\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\n    return document.createElementNS(svgNS, type);\n  }\n\n  function _typeof$5(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$5 = function _typeof(obj) { return typeof obj; }; } else { _typeof$5 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$5(obj); }\n\n  var dataManager = function () {\n    var _counterId = 1;\n    var processes = [];\n    var workerFn;\n    var workerInstance;\n    var workerProxy = {\n      onmessage: function onmessage() {},\n      postMessage: function postMessage(path) {\n        workerFn({\n          data: path\n        });\n      }\n    };\n    var _workerSelf = {\n      postMessage: function postMessage(data) {\n        workerProxy.onmessage({\n          data: data\n        });\n      }\n    };\n\n    function createWorker(fn) {\n      if (window.Worker && window.Blob && getWebWorker()) {\n        var blob = new Blob(['var _workerSelf = self; self.onmessage = ', fn.toString()], {\n          type: 'text/javascript'\n        }); // var blob = new Blob(['self.onmessage = ', fn.toString()], { type: 'text/javascript' });\n\n        var url = URL.createObjectURL(blob);\n        return new Worker(url);\n      }\n\n      workerFn = fn;\n      return workerProxy;\n    }\n\n    function setupWorker() {\n      if (!workerInstance) {\n        workerInstance = createWorker(function workerStart(e) {\n          function dataFunctionManager() {\n            function completeLayers(layers, comps) {\n              var layerData;\n              var i;\n              var len = layers.length;\n              var j;\n              var jLen;\n              var k;\n              var kLen;\n\n              for (i = 0; i < len; i += 1) {\n                layerData = layers[i];\n\n                if ('ks' in layerData && !layerData.completed) {\n                  layerData.completed = true;\n\n                  if (layerData.tt) {\n                    layers[i - 1].td = layerData.tt;\n                  }\n\n                  if (layerData.hasMask) {\n                    var maskProps = layerData.masksProperties;\n                    jLen = maskProps.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (maskProps[j].pt.k.i) {\n                        convertPathsToAbsoluteValues(maskProps[j].pt.k);\n                      } else {\n                        kLen = maskProps[j].pt.k.length;\n\n                        for (k = 0; k < kLen; k += 1) {\n                          if (maskProps[j].pt.k[k].s) {\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\n                          }\n\n                          if (maskProps[j].pt.k[k].e) {\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\n                          }\n                        }\n                      }\n                    }\n                  }\n\n                  if (layerData.ty === 0) {\n                    layerData.layers = findCompLayers(layerData.refId, comps);\n                    completeLayers(layerData.layers, comps);\n                  } else if (layerData.ty === 4) {\n                    completeShapes(layerData.shapes);\n                  } else if (layerData.ty === 5) {\n                    completeText(layerData);\n                  }\n                }\n              }\n            }\n\n            function completeChars(chars, assets) {\n              if (chars) {\n                var i = 0;\n                var len = chars.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (chars[i].t === 1) {\n                    // var compData = findComp(chars[i].data.refId, assets);\n                    chars[i].data.layers = findCompLayers(chars[i].data.refId, assets); // chars[i].data.ip = 0;\n                    // chars[i].data.op = 99999;\n                    // chars[i].data.st = 0;\n                    // chars[i].data.sr = 1;\n                    // chars[i].w = compData.w;\n                    // chars[i].data.ks = {\n                    //   a: { k: [0, 0, 0], a: 0 },\n                    //   p: { k: [0, -compData.h, 0], a: 0 },\n                    //   r: { k: 0, a: 0 },\n                    //   s: { k: [100, 100], a: 0 },\n                    //   o: { k: 100, a: 0 },\n                    // };\n\n                    completeLayers(chars[i].data.layers, assets);\n                  }\n                }\n              }\n            }\n\n            function findComp(id, comps) {\n              var i = 0;\n              var len = comps.length;\n\n              while (i < len) {\n                if (comps[i].id === id) {\n                  return comps[i];\n                }\n\n                i += 1;\n              }\n\n              return null;\n            }\n\n            function findCompLayers(id, comps) {\n              var comp = findComp(id, comps);\n\n              if (comp) {\n                if (!comp.layers.__used) {\n                  comp.layers.__used = true;\n                  return comp.layers;\n                }\n\n                return JSON.parse(JSON.stringify(comp.layers));\n              }\n\n              return null;\n            }\n\n            function completeShapes(arr) {\n              var i;\n              var len = arr.length;\n              var j;\n              var jLen;\n\n              for (i = len - 1; i >= 0; i -= 1) {\n                if (arr[i].ty === 'sh') {\n                  if (arr[i].ks.k.i) {\n                    convertPathsToAbsoluteValues(arr[i].ks.k);\n                  } else {\n                    jLen = arr[i].ks.k.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (arr[i].ks.k[j].s) {\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\n                      }\n\n                      if (arr[i].ks.k[j].e) {\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\n                      }\n                    }\n                  }\n                } else if (arr[i].ty === 'gr') {\n                  completeShapes(arr[i].it);\n                }\n              }\n            }\n\n            function convertPathsToAbsoluteValues(path) {\n              var i;\n              var len = path.i.length;\n\n              for (i = 0; i < len; i += 1) {\n                path.i[i][0] += path.v[i][0];\n                path.i[i][1] += path.v[i][1];\n                path.o[i][0] += path.v[i][0];\n                path.o[i][1] += path.v[i][1];\n              }\n            }\n\n            function checkVersion(minimum, animVersionString) {\n              var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\n\n              if (minimum[0] > animVersion[0]) {\n                return true;\n              }\n\n              if (animVersion[0] > minimum[0]) {\n                return false;\n              }\n\n              if (minimum[1] > animVersion[1]) {\n                return true;\n              }\n\n              if (animVersion[1] > minimum[1]) {\n                return false;\n              }\n\n              if (minimum[2] > animVersion[2]) {\n                return true;\n              }\n\n              if (animVersion[2] > minimum[2]) {\n                return false;\n              }\n\n              return null;\n            }\n\n            var checkText = function () {\n              var minimumVersion = [4, 4, 14];\n\n              function updateTextLayer(textLayer) {\n                var documentData = textLayer.t.d;\n                textLayer.t.d = {\n                  k: [{\n                    s: documentData,\n                    t: 0\n                  }]\n                };\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 5) {\n                    updateTextLayer(layers[i]);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkChars = function () {\n              var minimumVersion = [4, 7, 99];\n              return function (animationData) {\n                if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\n                  var i;\n                  var len = animationData.chars.length;\n\n                  for (i = 0; i < len; i += 1) {\n                    var charData = animationData.chars[i];\n\n                    if (charData.data && charData.data.shapes) {\n                      completeShapes(charData.data.shapes);\n                      charData.data.ip = 0;\n                      charData.data.op = 99999;\n                      charData.data.st = 0;\n                      charData.data.sr = 1;\n                      charData.data.ks = {\n                        p: {\n                          k: [0, 0],\n                          a: 0\n                        },\n                        s: {\n                          k: [100, 100],\n                          a: 0\n                        },\n                        a: {\n                          k: [0, 0],\n                          a: 0\n                        },\n                        r: {\n                          k: 0,\n                          a: 0\n                        },\n                        o: {\n                          k: 100,\n                          a: 0\n                        }\n                      };\n\n                      if (!animationData.chars[i].t) {\n                        charData.data.shapes.push({\n                          ty: 'no'\n                        });\n                        charData.data.shapes[0].it.push({\n                          p: {\n                            k: [0, 0],\n                            a: 0\n                          },\n                          s: {\n                            k: [100, 100],\n                            a: 0\n                          },\n                          a: {\n                            k: [0, 0],\n                            a: 0\n                          },\n                          r: {\n                            k: 0,\n                            a: 0\n                          },\n                          o: {\n                            k: 100,\n                            a: 0\n                          },\n                          sk: {\n                            k: 0,\n                            a: 0\n                          },\n                          sa: {\n                            k: 0,\n                            a: 0\n                          },\n                          ty: 'tr'\n                        });\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkPathProperties = function () {\n              var minimumVersion = [5, 7, 15];\n\n              function updateTextLayer(textLayer) {\n                var pathData = textLayer.t.p;\n\n                if (typeof pathData.a === 'number') {\n                  pathData.a = {\n                    a: 0,\n                    k: pathData.a\n                  };\n                }\n\n                if (typeof pathData.p === 'number') {\n                  pathData.p = {\n                    a: 0,\n                    k: pathData.p\n                  };\n                }\n\n                if (typeof pathData.r === 'number') {\n                  pathData.r = {\n                    a: 0,\n                    k: pathData.r\n                  };\n                }\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 5) {\n                    updateTextLayer(layers[i]);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkColors = function () {\n              var minimumVersion = [4, 1, 9];\n\n              function iterateShapes(shapes) {\n                var i;\n                var len = shapes.length;\n                var j;\n                var jLen;\n\n                for (i = 0; i < len; i += 1) {\n                  if (shapes[i].ty === 'gr') {\n                    iterateShapes(shapes[i].it);\n                  } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\n                    if (shapes[i].c.k && shapes[i].c.k[0].i) {\n                      jLen = shapes[i].c.k.length;\n\n                      for (j = 0; j < jLen; j += 1) {\n                        if (shapes[i].c.k[j].s) {\n                          shapes[i].c.k[j].s[0] /= 255;\n                          shapes[i].c.k[j].s[1] /= 255;\n                          shapes[i].c.k[j].s[2] /= 255;\n                          shapes[i].c.k[j].s[3] /= 255;\n                        }\n\n                        if (shapes[i].c.k[j].e) {\n                          shapes[i].c.k[j].e[0] /= 255;\n                          shapes[i].c.k[j].e[1] /= 255;\n                          shapes[i].c.k[j].e[2] /= 255;\n                          shapes[i].c.k[j].e[3] /= 255;\n                        }\n                      }\n                    } else {\n                      shapes[i].c.k[0] /= 255;\n                      shapes[i].c.k[1] /= 255;\n                      shapes[i].c.k[2] /= 255;\n                      shapes[i].c.k[3] /= 255;\n                    }\n                  }\n                }\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 4) {\n                    iterateShapes(layers[i].shapes);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkShapes = function () {\n              var minimumVersion = [4, 4, 18];\n\n              function completeClosingShapes(arr) {\n                var i;\n                var len = arr.length;\n                var j;\n                var jLen;\n\n                for (i = len - 1; i >= 0; i -= 1) {\n                  if (arr[i].ty === 'sh') {\n                    if (arr[i].ks.k.i) {\n                      arr[i].ks.k.c = arr[i].closed;\n                    } else {\n                      jLen = arr[i].ks.k.length;\n\n                      for (j = 0; j < jLen; j += 1) {\n                        if (arr[i].ks.k[j].s) {\n                          arr[i].ks.k[j].s[0].c = arr[i].closed;\n                        }\n\n                        if (arr[i].ks.k[j].e) {\n                          arr[i].ks.k[j].e[0].c = arr[i].closed;\n                        }\n                      }\n                    }\n                  } else if (arr[i].ty === 'gr') {\n                    completeClosingShapes(arr[i].it);\n                  }\n                }\n              }\n\n              function iterateLayers(layers) {\n                var layerData;\n                var i;\n                var len = layers.length;\n                var j;\n                var jLen;\n                var k;\n                var kLen;\n\n                for (i = 0; i < len; i += 1) {\n                  layerData = layers[i];\n\n                  if (layerData.hasMask) {\n                    var maskProps = layerData.masksProperties;\n                    jLen = maskProps.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (maskProps[j].pt.k.i) {\n                        maskProps[j].pt.k.c = maskProps[j].cl;\n                      } else {\n                        kLen = maskProps[j].pt.k.length;\n\n                        for (k = 0; k < kLen; k += 1) {\n                          if (maskProps[j].pt.k[k].s) {\n                            maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\n                          }\n\n                          if (maskProps[j].pt.k[k].e) {\n                            maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\n                          }\n                        }\n                      }\n                    }\n                  }\n\n                  if (layerData.ty === 4) {\n                    completeClosingShapes(layerData.shapes);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            function completeData(animationData) {\n              if (animationData.__complete) {\n                return;\n              }\n\n              checkColors(animationData);\n              checkText(animationData);\n              checkChars(animationData);\n              checkPathProperties(animationData);\n              checkShapes(animationData);\n              completeLayers(animationData.layers, animationData.assets);\n              completeChars(animationData.chars, animationData.assets);\n              animationData.__complete = true;\n            }\n\n            function completeText(data) {\n              if (data.t.a.length === 0 && !('m' in data.t.p)) {// data.singleShape = true;\n              }\n            }\n\n            var moduleOb = {};\n            moduleOb.completeData = completeData;\n            moduleOb.checkColors = checkColors;\n            moduleOb.checkChars = checkChars;\n            moduleOb.checkPathProperties = checkPathProperties;\n            moduleOb.checkShapes = checkShapes;\n            moduleOb.completeLayers = completeLayers;\n            return moduleOb;\n          }\n\n          if (!_workerSelf.dataManager) {\n            _workerSelf.dataManager = dataFunctionManager();\n          }\n\n          if (!_workerSelf.assetLoader) {\n            _workerSelf.assetLoader = function () {\n              function formatResponse(xhr) {\n                // using typeof doubles the time of execution of this method,\n                // so if available, it's better to use the header to validate the type\n                var contentTypeHeader = xhr.getResponseHeader('content-type');\n\n                if (contentTypeHeader && xhr.responseType === 'json' && contentTypeHeader.indexOf('json') !== -1) {\n                  return xhr.response;\n                }\n\n                if (xhr.response && _typeof$5(xhr.response) === 'object') {\n                  return xhr.response;\n                }\n\n                if (xhr.response && typeof xhr.response === 'string') {\n                  return JSON.parse(xhr.response);\n                }\n\n                if (xhr.responseText) {\n                  return JSON.parse(xhr.responseText);\n                }\n\n                return null;\n              }\n\n              function loadAsset(path, fullPath, callback, errorCallback) {\n                var response;\n                var xhr = new XMLHttpRequest(); // set responseType after calling open or IE will break.\n\n                try {\n                  // This crashes on Android WebView prior to KitKat\n                  xhr.responseType = 'json';\n                } catch (err) {} // eslint-disable-line no-empty\n\n\n                xhr.onreadystatechange = function () {\n                  if (xhr.readyState === 4) {\n                    if (xhr.status === 200) {\n                      response = formatResponse(xhr);\n                      callback(response);\n                    } else {\n                      try {\n                        response = formatResponse(xhr);\n                        callback(response);\n                      } catch (err) {\n                        if (errorCallback) {\n                          errorCallback(err);\n                        }\n                      }\n                    }\n                  }\n                };\n\n                try {\n                  xhr.open('GET', path, true);\n                } catch (error) {\n                  xhr.open('GET', fullPath + '/' + path, true);\n                }\n\n                xhr.send();\n              }\n\n              return {\n                load: loadAsset\n              };\n            }();\n          }\n\n          if (e.data.type === 'loadAnimation') {\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\n              _workerSelf.dataManager.completeData(data);\n\n              _workerSelf.postMessage({\n                id: e.data.id,\n                payload: data,\n                status: 'success'\n              });\n            }, function () {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                status: 'error'\n              });\n            });\n          } else if (e.data.type === 'complete') {\n            var animation = e.data.animation;\n\n            _workerSelf.dataManager.completeData(animation);\n\n            _workerSelf.postMessage({\n              id: e.data.id,\n              payload: animation,\n              status: 'success'\n            });\n          } else if (e.data.type === 'loadData') {\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                payload: data,\n                status: 'success'\n              });\n            }, function () {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                status: 'error'\n              });\n            });\n          }\n        });\n\n        workerInstance.onmessage = function (event) {\n          var data = event.data;\n          var id = data.id;\n          var process = processes[id];\n          processes[id] = null;\n\n          if (data.status === 'success') {\n            process.onComplete(data.payload);\n          } else if (process.onError) {\n            process.onError();\n          }\n        };\n      }\n    }\n\n    function createProcess(onComplete, onError) {\n      _counterId += 1;\n      var id = 'processId_' + _counterId;\n      processes[id] = {\n        onComplete: onComplete,\n        onError: onError\n      };\n      return id;\n    }\n\n    function loadAnimation(path, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'loadAnimation',\n        path: path,\n        fullPath: window.location.origin + window.location.pathname,\n        id: processId\n      });\n    }\n\n    function loadData(path, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'loadData',\n        path: path,\n        fullPath: window.location.origin + window.location.pathname,\n        id: processId\n      });\n    }\n\n    function completeAnimation(anim, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'complete',\n        animation: anim,\n        id: processId\n      });\n    }\n\n    return {\n      loadAnimation: loadAnimation,\n      loadData: loadData,\n      completeAnimation: completeAnimation\n    };\n  }();\n\n  var ImagePreloader = function () {\n    var proxyImage = function () {\n      var canvas = createTag('canvas');\n      canvas.width = 1;\n      canvas.height = 1;\n      var ctx = canvas.getContext('2d');\n      ctx.fillStyle = 'rgba(0,0,0,0)';\n      ctx.fillRect(0, 0, 1, 1);\n      return canvas;\n    }();\n\n    function imageLoaded() {\n      this.loadedAssets += 1;\n\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\n        if (this.imagesLoadedCb) {\n          this.imagesLoadedCb(null);\n        }\n      }\n    }\n\n    function footageLoaded() {\n      this.loadedFootagesCount += 1;\n\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\n        if (this.imagesLoadedCb) {\n          this.imagesLoadedCb(null);\n        }\n      }\n    }\n\n    function getAssetsPath(assetData, assetsPath, originalPath) {\n      var path = '';\n\n      if (assetData.e) {\n        path = assetData.p;\n      } else if (assetsPath) {\n        var imagePath = assetData.p;\n\n        if (imagePath.indexOf('images/') !== -1) {\n          imagePath = imagePath.split('/')[1];\n        }\n\n        path = assetsPath + imagePath;\n      } else {\n        path = originalPath;\n        path += assetData.u ? assetData.u : '';\n        path += assetData.p;\n      }\n\n      return path;\n    }\n\n    function testImageLoaded(img) {\n      var _count = 0;\n      var intervalId = setInterval(function () {\n        var box = img.getBBox();\n\n        if (box.width || _count > 500) {\n          this._imageLoaded();\n\n          clearInterval(intervalId);\n        }\n\n        _count += 1;\n      }.bind(this), 50);\n    }\n\n    function createImageData(assetData) {\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\n      var img = createNS('image');\n\n      if (isSafari) {\n        this.testImageLoaded(img);\n      } else {\n        img.addEventListener('load', this._imageLoaded, false);\n      }\n\n      img.addEventListener('error', function () {\n        ob.img = proxyImage;\n\n        this._imageLoaded();\n      }.bind(this), false);\n      img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\n\n      if (this._elementHelper.append) {\n        this._elementHelper.append(img);\n      } else {\n        this._elementHelper.appendChild(img);\n      }\n\n      var ob = {\n        img: img,\n        assetData: assetData\n      };\n      return ob;\n    }\n\n    function createImgData(assetData) {\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\n      var img = createTag('img');\n      img.crossOrigin = 'anonymous';\n      img.addEventListener('load', this._imageLoaded, false);\n      img.addEventListener('error', function () {\n        ob.img = proxyImage;\n\n        this._imageLoaded();\n      }.bind(this), false);\n      img.src = path;\n      var ob = {\n        img: img,\n        assetData: assetData\n      };\n      return ob;\n    }\n\n    function createFootageData(data) {\n      var ob = {\n        assetData: data\n      };\n      var path = getAssetsPath(data, this.assetsPath, this.path);\n      dataManager.loadData(path, function (footageData) {\n        ob.img = footageData;\n\n        this._footageLoaded();\n      }.bind(this), function () {\n        ob.img = {};\n\n        this._footageLoaded();\n      }.bind(this));\n      return ob;\n    }\n\n    function loadAssets(assets, cb) {\n      this.imagesLoadedCb = cb;\n      var i;\n      var len = assets.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (!assets[i].layers) {\n          if (!assets[i].t || assets[i].t === 'seq') {\n            this.totalImages += 1;\n            this.images.push(this._createImageData(assets[i]));\n          } else if (assets[i].t === 3) {\n            this.totalFootages += 1;\n            this.images.push(this.createFootageData(assets[i]));\n          }\n        }\n      }\n    }\n\n    function setPath(path) {\n      this.path = path || '';\n    }\n\n    function setAssetsPath(path) {\n      this.assetsPath = path || '';\n    }\n\n    function getAsset(assetData) {\n      var i = 0;\n      var len = this.images.length;\n\n      while (i < len) {\n        if (this.images[i].assetData === assetData) {\n          return this.images[i].img;\n        }\n\n        i += 1;\n      }\n\n      return null;\n    }\n\n    function destroy() {\n      this.imagesLoadedCb = null;\n      this.images.length = 0;\n    }\n\n    function loadedImages() {\n      return this.totalImages === this.loadedAssets;\n    }\n\n    function loadedFootages() {\n      return this.totalFootages === this.loadedFootagesCount;\n    }\n\n    function setCacheType(type, elementHelper) {\n      if (type === 'svg') {\n        this._elementHelper = elementHelper;\n        this._createImageData = this.createImageData.bind(this);\n      } else {\n        this._createImageData = this.createImgData.bind(this);\n      }\n    }\n\n    function ImagePreloaderFactory() {\n      this._imageLoaded = imageLoaded.bind(this);\n      this._footageLoaded = footageLoaded.bind(this);\n      this.testImageLoaded = testImageLoaded.bind(this);\n      this.createFootageData = createFootageData.bind(this);\n      this.assetsPath = '';\n      this.path = '';\n      this.totalImages = 0;\n      this.totalFootages = 0;\n      this.loadedAssets = 0;\n      this.loadedFootagesCount = 0;\n      this.imagesLoadedCb = null;\n      this.images = [];\n    }\n\n    ImagePreloaderFactory.prototype = {\n      loadAssets: loadAssets,\n      setAssetsPath: setAssetsPath,\n      setPath: setPath,\n      loadedImages: loadedImages,\n      loadedFootages: loadedFootages,\n      destroy: destroy,\n      getAsset: getAsset,\n      createImgData: createImgData,\n      createImageData: createImageData,\n      imageLoaded: imageLoaded,\n      footageLoaded: footageLoaded,\n      setCacheType: setCacheType\n    };\n    return ImagePreloaderFactory;\n  }();\n\n  function BaseEvent() {}\n\n  BaseEvent.prototype = {\n    triggerEvent: function triggerEvent(eventName, args) {\n      if (this._cbs[eventName]) {\n        var callbacks = this._cbs[eventName];\n\n        for (var i = 0; i < callbacks.length; i += 1) {\n          callbacks[i](args);\n        }\n      }\n    },\n    addEventListener: function addEventListener(eventName, callback) {\n      if (!this._cbs[eventName]) {\n        this._cbs[eventName] = [];\n      }\n\n      this._cbs[eventName].push(callback);\n\n      return function () {\n        this.removeEventListener(eventName, callback);\n      }.bind(this);\n    },\n    removeEventListener: function removeEventListener(eventName, callback) {\n      if (!callback) {\n        this._cbs[eventName] = null;\n      } else if (this._cbs[eventName]) {\n        var i = 0;\n        var len = this._cbs[eventName].length;\n\n        while (i < len) {\n          if (this._cbs[eventName][i] === callback) {\n            this._cbs[eventName].splice(i, 1);\n\n            i -= 1;\n            len -= 1;\n          }\n\n          i += 1;\n        }\n\n        if (!this._cbs[eventName].length) {\n          this._cbs[eventName] = null;\n        }\n      }\n    }\n  };\n\n  var markerParser = function () {\n    function parsePayloadLines(payload) {\n      var lines = payload.split('\\r\\n');\n      var keys = {};\n      var line;\n      var keysCount = 0;\n\n      for (var i = 0; i < lines.length; i += 1) {\n        line = lines[i].split(':');\n\n        if (line.length === 2) {\n          keys[line[0]] = line[1].trim();\n          keysCount += 1;\n        }\n      }\n\n      if (keysCount === 0) {\n        throw new Error();\n      }\n\n      return keys;\n    }\n\n    return function (_markers) {\n      var markers = [];\n\n      for (var i = 0; i < _markers.length; i += 1) {\n        var _marker = _markers[i];\n        var markerData = {\n          time: _marker.tm,\n          duration: _marker.dr\n        };\n\n        try {\n          markerData.payload = JSON.parse(_markers[i].cm);\n        } catch (_) {\n          try {\n            markerData.payload = parsePayloadLines(_markers[i].cm);\n          } catch (__) {\n            markerData.payload = {\n              name: _markers[i].cm\n            };\n          }\n        }\n\n        markers.push(markerData);\n      }\n\n      return markers;\n    };\n  }();\n\n  var ProjectInterface = function () {\n    function registerComposition(comp) {\n      this.compositions.push(comp);\n    }\n\n    return function () {\n      function _thisProjectFunction(name) {\n        var i = 0;\n        var len = this.compositions.length;\n\n        while (i < len) {\n          if (this.compositions[i].data && this.compositions[i].data.nm === name) {\n            if (this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\n              this.compositions[i].prepareFrame(this.currentFrame);\n            }\n\n            return this.compositions[i].compInterface;\n          }\n\n          i += 1;\n        }\n\n        return null;\n      }\n\n      _thisProjectFunction.compositions = [];\n      _thisProjectFunction.currentFrame = 0;\n      _thisProjectFunction.registerComposition = registerComposition;\n      return _thisProjectFunction;\n    };\n  }();\n\n  var renderers = {};\n\n  var registerRenderer = function registerRenderer(key, value) {\n    renderers[key] = value;\n  };\n\n  function getRenderer(key) {\n    return renderers[key];\n  }\n\n  function _typeof$4(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$4 = function _typeof(obj) { return typeof obj; }; } else { _typeof$4 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$4(obj); }\n\n  var AnimationItem = function AnimationItem() {\n    this._cbs = [];\n    this.name = '';\n    this.path = '';\n    this.isLoaded = false;\n    this.currentFrame = 0;\n    this.currentRawFrame = 0;\n    this.firstFrame = 0;\n    this.totalFrames = 0;\n    this.frameRate = 0;\n    this.frameMult = 0;\n    this.playSpeed = 1;\n    this.playDirection = 1;\n    this.playCount = 0;\n    this.animationData = {};\n    this.assets = [];\n    this.isPaused = true;\n    this.autoplay = false;\n    this.loop = true;\n    this.renderer = null;\n    this.animationID = createElementID();\n    this.assetsPath = '';\n    this.timeCompleted = 0;\n    this.segmentPos = 0;\n    this.isSubframeEnabled = getSubframeEnabled();\n    this.segments = [];\n    this._idle = true;\n    this._completedLoop = false;\n    this.projectInterface = ProjectInterface();\n    this.imagePreloader = new ImagePreloader();\n    this.audioController = audioControllerFactory();\n    this.markers = [];\n    this.configAnimation = this.configAnimation.bind(this);\n    this.onSetupError = this.onSetupError.bind(this);\n    this.onSegmentComplete = this.onSegmentComplete.bind(this);\n    this.drawnFrameEvent = new BMEnterFrameEvent('drawnFrame', 0, 0, 0);\n  };\n\n  extendPrototype([BaseEvent], AnimationItem);\n\n  AnimationItem.prototype.setParams = function (params) {\n    if (params.wrapper || params.container) {\n      this.wrapper = params.wrapper || params.container;\n    }\n\n    var animType = 'svg';\n\n    if (params.animType) {\n      animType = params.animType;\n    } else if (params.renderer) {\n      animType = params.renderer;\n    }\n\n    var RendererClass = getRenderer(animType);\n    this.renderer = new RendererClass(this, params.rendererSettings);\n    this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);\n    this.renderer.setProjectInterface(this.projectInterface);\n    this.animType = animType;\n\n    if (params.loop === '' || params.loop === null || params.loop === undefined || params.loop === true) {\n      this.loop = true;\n    } else if (params.loop === false) {\n      this.loop = false;\n    } else {\n      this.loop = parseInt(params.loop, 10);\n    }\n\n    this.autoplay = 'autoplay' in params ? params.autoplay : true;\n    this.name = params.name ? params.name : '';\n    this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, 'autoloadSegments') ? params.autoloadSegments : true;\n    this.assetsPath = params.assetsPath;\n    this.initialSegment = params.initialSegment;\n\n    if (params.audioFactory) {\n      this.audioController.setAudioFactory(params.audioFactory);\n    }\n\n    if (params.animationData) {\n      this.setupAnimation(params.animationData);\n    } else if (params.path) {\n      if (params.path.lastIndexOf('\\\\') !== -1) {\n        this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\n      } else {\n        this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\n      }\n\n      this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\n      this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\n      dataManager.loadAnimation(params.path, this.configAnimation, this.onSetupError);\n    }\n  };\n\n  AnimationItem.prototype.onSetupError = function () {\n    this.trigger('data_failed');\n  };\n\n  AnimationItem.prototype.setupAnimation = function (data) {\n    dataManager.completeAnimation(data, this.configAnimation);\n  };\n\n  AnimationItem.prototype.setData = function (wrapper, animationData) {\n    if (animationData) {\n      if (_typeof$4(animationData) !== 'object') {\n        animationData = JSON.parse(animationData);\n      }\n    }\n\n    var params = {\n      wrapper: wrapper,\n      animationData: animationData\n    };\n    var wrapperAttributes = wrapper.attributes;\n    params.path = wrapperAttributes.getNamedItem('data-animation-path') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-animation-path').value : wrapperAttributes.getNamedItem('data-bm-path') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-path').value : wrapperAttributes.getNamedItem('bm-path') ? wrapperAttributes.getNamedItem('bm-path').value : '';\n    params.animType = wrapperAttributes.getNamedItem('data-anim-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-type').value : wrapperAttributes.getNamedItem('data-bm-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-type').value : wrapperAttributes.getNamedItem('bm-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('bm-type').value : wrapperAttributes.getNamedItem('data-bm-renderer') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-renderer').value : wrapperAttributes.getNamedItem('bm-renderer') ? wrapperAttributes.getNamedItem('bm-renderer').value : 'canvas';\n    var loop = wrapperAttributes.getNamedItem('data-anim-loop') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-loop').value : wrapperAttributes.getNamedItem('data-bm-loop') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-loop').value : wrapperAttributes.getNamedItem('bm-loop') ? wrapperAttributes.getNamedItem('bm-loop').value : '';\n\n    if (loop === 'false') {\n      params.loop = false;\n    } else if (loop === 'true') {\n      params.loop = true;\n    } else if (loop !== '') {\n      params.loop = parseInt(loop, 10);\n    }\n\n    var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-autoplay').value : wrapperAttributes.getNamedItem('data-bm-autoplay') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-autoplay').value : wrapperAttributes.getNamedItem('bm-autoplay') ? wrapperAttributes.getNamedItem('bm-autoplay').value : true;\n    params.autoplay = autoplay !== 'false';\n    params.name = wrapperAttributes.getNamedItem('data-name') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-name').value : wrapperAttributes.getNamedItem('data-bm-name') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-name').value : wrapperAttributes.getNamedItem('bm-name') ? wrapperAttributes.getNamedItem('bm-name').value : '';\n    var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-prerender').value : wrapperAttributes.getNamedItem('data-bm-prerender') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-prerender').value : wrapperAttributes.getNamedItem('bm-prerender') ? wrapperAttributes.getNamedItem('bm-prerender').value : '';\n\n    if (prerender === 'false') {\n      params.prerender = false;\n    }\n\n    this.setParams(params);\n  };\n\n  AnimationItem.prototype.includeLayers = function (data) {\n    if (data.op > this.animationData.op) {\n      this.animationData.op = data.op;\n      this.totalFrames = Math.floor(data.op - this.animationData.ip);\n    }\n\n    var layers = this.animationData.layers;\n    var i;\n    var len = layers.length;\n    var newLayers = data.layers;\n    var j;\n    var jLen = newLayers.length;\n\n    for (j = 0; j < jLen; j += 1) {\n      i = 0;\n\n      while (i < len) {\n        if (layers[i].id === newLayers[j].id) {\n          layers[i] = newLayers[j];\n          break;\n        }\n\n        i += 1;\n      }\n    }\n\n    if (data.chars || data.fonts) {\n      this.renderer.globalData.fontManager.addChars(data.chars);\n      this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\n    }\n\n    if (data.assets) {\n      len = data.assets.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.animationData.assets.push(data.assets[i]);\n      }\n    }\n\n    this.animationData.__complete = false;\n    dataManager.completeAnimation(this.animationData, this.onSegmentComplete);\n  };\n\n  AnimationItem.prototype.onSegmentComplete = function (data) {\n    this.animationData = data;\n    var expressionsPlugin = getExpressionsPlugin();\n\n    if (expressionsPlugin) {\n      expressionsPlugin.initExpressions(this);\n    }\n\n    this.loadNextSegment();\n  };\n\n  AnimationItem.prototype.loadNextSegment = function () {\n    var segments = this.animationData.segments;\n\n    if (!segments || segments.length === 0 || !this.autoloadSegments) {\n      this.trigger('data_ready');\n      this.timeCompleted = this.totalFrames;\n      return;\n    }\n\n    var segment = segments.shift();\n    this.timeCompleted = segment.time * this.frameRate;\n    var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\n    this.segmentPos += 1;\n    dataManager.loadData(segmentPath, this.includeLayers.bind(this), function () {\n      this.trigger('data_failed');\n    }.bind(this));\n  };\n\n  AnimationItem.prototype.loadSegments = function () {\n    var segments = this.animationData.segments;\n\n    if (!segments) {\n      this.timeCompleted = this.totalFrames;\n    }\n\n    this.loadNextSegment();\n  };\n\n  AnimationItem.prototype.imagesLoaded = function () {\n    this.trigger('loaded_images');\n    this.checkLoaded();\n  };\n\n  AnimationItem.prototype.preloadImages = function () {\n    this.imagePreloader.setAssetsPath(this.assetsPath);\n    this.imagePreloader.setPath(this.path);\n    this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\n  };\n\n  AnimationItem.prototype.configAnimation = function (animData) {\n    if (!this.renderer) {\n      return;\n    }\n\n    try {\n      this.animationData = animData;\n\n      if (this.initialSegment) {\n        this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\n        this.firstFrame = Math.round(this.initialSegment[0]);\n      } else {\n        this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\n        this.firstFrame = Math.round(this.animationData.ip);\n      }\n\n      this.renderer.configAnimation(animData);\n\n      if (!animData.assets) {\n        animData.assets = [];\n      }\n\n      this.assets = this.animationData.assets;\n      this.frameRate = this.animationData.fr;\n      this.frameMult = this.animationData.fr / 1000;\n      this.renderer.searchExtraCompositions(animData.assets);\n      this.markers = markerParser(animData.markers || []);\n      this.trigger('config_ready');\n      this.preloadImages();\n      this.loadSegments();\n      this.updaFrameModifier();\n      this.waitForFontsLoaded();\n\n      if (this.isPaused) {\n        this.audioController.pause();\n      }\n    } catch (error) {\n      this.triggerConfigError(error);\n    }\n  };\n\n  AnimationItem.prototype.waitForFontsLoaded = function () {\n    if (!this.renderer) {\n      return;\n    }\n\n    if (this.renderer.globalData.fontManager.isLoaded) {\n      this.checkLoaded();\n    } else {\n      setTimeout(this.waitForFontsLoaded.bind(this), 20);\n    }\n  };\n\n  AnimationItem.prototype.checkLoaded = function () {\n    if (!this.isLoaded && this.renderer.globalData.fontManager.isLoaded && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== 'canvas') && this.imagePreloader.loadedFootages()) {\n      this.isLoaded = true;\n      var expressionsPlugin = getExpressionsPlugin();\n\n      if (expressionsPlugin) {\n        expressionsPlugin.initExpressions(this);\n      }\n\n      this.renderer.initItems();\n      setTimeout(function () {\n        this.trigger('DOMLoaded');\n      }.bind(this), 0);\n      this.gotoFrame();\n\n      if (this.autoplay) {\n        this.play();\n      }\n    }\n  };\n\n  AnimationItem.prototype.resize = function () {\n    this.renderer.updateContainerSize();\n  };\n\n  AnimationItem.prototype.setSubframe = function (flag) {\n    this.isSubframeEnabled = !!flag;\n  };\n\n  AnimationItem.prototype.gotoFrame = function () {\n    this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame; // eslint-disable-line no-bitwise\n\n    if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\n      this.currentFrame = this.timeCompleted;\n    }\n\n    this.trigger('enterFrame');\n    this.renderFrame();\n    this.trigger('drawnFrame');\n  };\n\n  AnimationItem.prototype.renderFrame = function () {\n    if (this.isLoaded === false || !this.renderer) {\n      return;\n    }\n\n    try {\n      this.renderer.renderFrame(this.currentFrame + this.firstFrame);\n    } catch (error) {\n      this.triggerRenderFrameError(error);\n    }\n  };\n\n  AnimationItem.prototype.play = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === true) {\n      this.isPaused = false;\n      this.trigger('_pause');\n      this.audioController.resume();\n\n      if (this._idle) {\n        this._idle = false;\n        this.trigger('_active');\n      }\n    }\n  };\n\n  AnimationItem.prototype.pause = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === false) {\n      this.isPaused = true;\n      this.trigger('_play');\n      this._idle = true;\n      this.trigger('_idle');\n      this.audioController.pause();\n    }\n  };\n\n  AnimationItem.prototype.togglePause = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === true) {\n      this.play();\n    } else {\n      this.pause();\n    }\n  };\n\n  AnimationItem.prototype.stop = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.pause();\n    this.playCount = 0;\n    this._completedLoop = false;\n    this.setCurrentRawFrameValue(0);\n  };\n\n  AnimationItem.prototype.getMarkerData = function (markerName) {\n    var marker;\n\n    for (var i = 0; i < this.markers.length; i += 1) {\n      marker = this.markers[i];\n\n      if (marker.payload && marker.payload.name === markerName) {\n        return marker;\n      }\n    }\n\n    return null;\n  };\n\n  AnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    var numValue = Number(value);\n\n    if (isNaN(numValue)) {\n      var marker = this.getMarkerData(value);\n\n      if (marker) {\n        this.goToAndStop(marker.time, true);\n      }\n    } else if (isFrame) {\n      this.setCurrentRawFrameValue(value);\n    } else {\n      this.setCurrentRawFrameValue(value * this.frameModifier);\n    }\n\n    this.pause();\n  };\n\n  AnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    var numValue = Number(value);\n\n    if (isNaN(numValue)) {\n      var marker = this.getMarkerData(value);\n\n      if (marker) {\n        if (!marker.duration) {\n          this.goToAndStop(marker.time, true);\n        } else {\n          this.playSegments([marker.time, marker.time + marker.duration], true);\n        }\n      }\n    } else {\n      this.goToAndStop(numValue, isFrame, name);\n    }\n\n    this.play();\n  };\n\n  AnimationItem.prototype.advanceTime = function (value) {\n    if (this.isPaused === true || this.isLoaded === false) {\n      return;\n    }\n\n    var nextValue = this.currentRawFrame + value * this.frameModifier;\n    var _isComplete = false; // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\n    // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\n\n    if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\n      if (!this.loop || this.playCount === this.loop) {\n        if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {\n          _isComplete = true;\n          nextValue = this.totalFrames - 1;\n        }\n      } else if (nextValue >= this.totalFrames) {\n        this.playCount += 1;\n\n        if (!this.checkSegments(nextValue % this.totalFrames)) {\n          this.setCurrentRawFrameValue(nextValue % this.totalFrames);\n          this._completedLoop = true;\n          this.trigger('loopComplete');\n        }\n      } else {\n        this.setCurrentRawFrameValue(nextValue);\n      }\n    } else if (nextValue < 0) {\n      if (!this.checkSegments(nextValue % this.totalFrames)) {\n        if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) {\n          // eslint-disable-line no-plusplus\n          this.setCurrentRawFrameValue(this.totalFrames + nextValue % this.totalFrames);\n\n          if (!this._completedLoop) {\n            this._completedLoop = true;\n          } else {\n            this.trigger('loopComplete');\n          }\n        } else {\n          _isComplete = true;\n          nextValue = 0;\n        }\n      }\n    } else {\n      this.setCurrentRawFrameValue(nextValue);\n    }\n\n    if (_isComplete) {\n      this.setCurrentRawFrameValue(nextValue);\n      this.pause();\n      this.trigger('complete');\n    }\n  };\n\n  AnimationItem.prototype.adjustSegment = function (arr, offset) {\n    this.playCount = 0;\n\n    if (arr[1] < arr[0]) {\n      if (this.frameModifier > 0) {\n        if (this.playSpeed < 0) {\n          this.setSpeed(-this.playSpeed);\n        } else {\n          this.setDirection(-1);\n        }\n      }\n\n      this.totalFrames = arr[0] - arr[1];\n      this.timeCompleted = this.totalFrames;\n      this.firstFrame = arr[1];\n      this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\n    } else if (arr[1] > arr[0]) {\n      if (this.frameModifier < 0) {\n        if (this.playSpeed < 0) {\n          this.setSpeed(-this.playSpeed);\n        } else {\n          this.setDirection(1);\n        }\n      }\n\n      this.totalFrames = arr[1] - arr[0];\n      this.timeCompleted = this.totalFrames;\n      this.firstFrame = arr[0];\n      this.setCurrentRawFrameValue(0.001 + offset);\n    }\n\n    this.trigger('segmentStart');\n  };\n\n  AnimationItem.prototype.setSegment = function (init, end) {\n    var pendingFrame = -1;\n\n    if (this.isPaused) {\n      if (this.currentRawFrame + this.firstFrame < init) {\n        pendingFrame = init;\n      } else if (this.currentRawFrame + this.firstFrame > end) {\n        pendingFrame = end - init;\n      }\n    }\n\n    this.firstFrame = init;\n    this.totalFrames = end - init;\n    this.timeCompleted = this.totalFrames;\n\n    if (pendingFrame !== -1) {\n      this.goToAndStop(pendingFrame, true);\n    }\n  };\n\n  AnimationItem.prototype.playSegments = function (arr, forceFlag) {\n    if (forceFlag) {\n      this.segments.length = 0;\n    }\n\n    if (_typeof$4(arr[0]) === 'object') {\n      var i;\n      var len = arr.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.segments.push(arr[i]);\n      }\n    } else {\n      this.segments.push(arr);\n    }\n\n    if (this.segments.length && forceFlag) {\n      this.adjustSegment(this.segments.shift(), 0);\n    }\n\n    if (this.isPaused) {\n      this.play();\n    }\n  };\n\n  AnimationItem.prototype.resetSegments = function (forceFlag) {\n    this.segments.length = 0;\n    this.segments.push([this.animationData.ip, this.animationData.op]);\n\n    if (forceFlag) {\n      this.checkSegments(0);\n    }\n  };\n\n  AnimationItem.prototype.checkSegments = function (offset) {\n    if (this.segments.length) {\n      this.adjustSegment(this.segments.shift(), offset);\n      return true;\n    }\n\n    return false;\n  };\n\n  AnimationItem.prototype.destroy = function (name) {\n    if (name && this.name !== name || !this.renderer) {\n      return;\n    }\n\n    this.renderer.destroy();\n    this.imagePreloader.destroy();\n    this.trigger('destroy');\n    this._cbs = null;\n    this.onEnterFrame = null;\n    this.onLoopComplete = null;\n    this.onComplete = null;\n    this.onSegmentStart = null;\n    this.onDestroy = null;\n    this.renderer = null;\n    this.renderer = null;\n    this.imagePreloader = null;\n    this.projectInterface = null;\n  };\n\n  AnimationItem.prototype.setCurrentRawFrameValue = function (value) {\n    this.currentRawFrame = value;\n    this.gotoFrame();\n  };\n\n  AnimationItem.prototype.setSpeed = function (val) {\n    this.playSpeed = val;\n    this.updaFrameModifier();\n  };\n\n  AnimationItem.prototype.setDirection = function (val) {\n    this.playDirection = val < 0 ? -1 : 1;\n    this.updaFrameModifier();\n  };\n\n  AnimationItem.prototype.setVolume = function (val, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.setVolume(val);\n  };\n\n  AnimationItem.prototype.getVolume = function () {\n    return this.audioController.getVolume();\n  };\n\n  AnimationItem.prototype.mute = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.mute();\n  };\n\n  AnimationItem.prototype.unmute = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.unmute();\n  };\n\n  AnimationItem.prototype.updaFrameModifier = function () {\n    this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\n    this.audioController.setRate(this.playSpeed * this.playDirection);\n  };\n\n  AnimationItem.prototype.getPath = function () {\n    return this.path;\n  };\n\n  AnimationItem.prototype.getAssetsPath = function (assetData) {\n    var path = '';\n\n    if (assetData.e) {\n      path = assetData.p;\n    } else if (this.assetsPath) {\n      var imagePath = assetData.p;\n\n      if (imagePath.indexOf('images/') !== -1) {\n        imagePath = imagePath.split('/')[1];\n      }\n\n      path = this.assetsPath + imagePath;\n    } else {\n      path = this.path;\n      path += assetData.u ? assetData.u : '';\n      path += assetData.p;\n    }\n\n    return path;\n  };\n\n  AnimationItem.prototype.getAssetData = function (id) {\n    var i = 0;\n    var len = this.assets.length;\n\n    while (i < len) {\n      if (id === this.assets[i].id) {\n        return this.assets[i];\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  AnimationItem.prototype.hide = function () {\n    this.renderer.hide();\n  };\n\n  AnimationItem.prototype.show = function () {\n    this.renderer.show();\n  };\n\n  AnimationItem.prototype.getDuration = function (isFrame) {\n    return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\n  };\n\n  AnimationItem.prototype.updateDocumentData = function (path, documentData, index) {\n    try {\n      var element = this.renderer.getElementByPath(path);\n      element.updateDocumentData(documentData, index);\n    } catch (error) {// TODO: decide how to handle catch case\n    }\n  };\n\n  AnimationItem.prototype.trigger = function (name) {\n    if (this._cbs && this._cbs[name]) {\n      switch (name) {\n        case 'enterFrame':\n          this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameModifier));\n          break;\n\n        case 'drawnFrame':\n          this.drawnFrameEvent.currentTime = this.currentFrame;\n          this.drawnFrameEvent.totalTime = this.totalFrames;\n          this.drawnFrameEvent.direction = this.frameModifier;\n          this.triggerEvent(name, this.drawnFrameEvent);\n          break;\n\n        case 'loopComplete':\n          this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n          break;\n\n        case 'complete':\n          this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\n          break;\n\n        case 'segmentStart':\n          this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n          break;\n\n        case 'destroy':\n          this.triggerEvent(name, new BMDestroyEvent(name, this));\n          break;\n\n        default:\n          this.triggerEvent(name);\n      }\n    }\n\n    if (name === 'enterFrame' && this.onEnterFrame) {\n      this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\n    }\n\n    if (name === 'loopComplete' && this.onLoopComplete) {\n      this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n    }\n\n    if (name === 'complete' && this.onComplete) {\n      this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\n    }\n\n    if (name === 'segmentStart' && this.onSegmentStart) {\n      this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n    }\n\n    if (name === 'destroy' && this.onDestroy) {\n      this.onDestroy.call(this, new BMDestroyEvent(name, this));\n    }\n  };\n\n  AnimationItem.prototype.triggerRenderFrameError = function (nativeError) {\n    var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\n    this.triggerEvent('error', error);\n\n    if (this.onError) {\n      this.onError.call(this, error);\n    }\n  };\n\n  AnimationItem.prototype.triggerConfigError = function (nativeError) {\n    var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\n    this.triggerEvent('error', error);\n\n    if (this.onError) {\n      this.onError.call(this, error);\n    }\n  };\n\n  var animationManager = function () {\n    var moduleOb = {};\n    var registeredAnimations = [];\n    var initTime = 0;\n    var len = 0;\n    var playingAnimationsNum = 0;\n    var _stopped = true;\n    var _isFrozen = false;\n\n    function removeElement(ev) {\n      var i = 0;\n      var animItem = ev.target;\n\n      while (i < len) {\n        if (registeredAnimations[i].animation === animItem) {\n          registeredAnimations.splice(i, 1);\n          i -= 1;\n          len -= 1;\n\n          if (!animItem.isPaused) {\n            subtractPlayingCount();\n          }\n        }\n\n        i += 1;\n      }\n    }\n\n    function registerAnimation(element, animationData) {\n      if (!element) {\n        return null;\n      }\n\n      var i = 0;\n\n      while (i < len) {\n        if (registeredAnimations[i].elem === element && registeredAnimations[i].elem !== null) {\n          return registeredAnimations[i].animation;\n        }\n\n        i += 1;\n      }\n\n      var animItem = new AnimationItem();\n      setupAnimation(animItem, element);\n      animItem.setData(element, animationData);\n      return animItem;\n    }\n\n    function getRegisteredAnimations() {\n      var i;\n      var lenAnims = registeredAnimations.length;\n      var animations = [];\n\n      for (i = 0; i < lenAnims; i += 1) {\n        animations.push(registeredAnimations[i].animation);\n      }\n\n      return animations;\n    }\n\n    function addPlayingCount() {\n      playingAnimationsNum += 1;\n      activate();\n    }\n\n    function subtractPlayingCount() {\n      playingAnimationsNum -= 1;\n    }\n\n    function setupAnimation(animItem, element) {\n      animItem.addEventListener('destroy', removeElement);\n      animItem.addEventListener('_active', addPlayingCount);\n      animItem.addEventListener('_idle', subtractPlayingCount);\n      registeredAnimations.push({\n        elem: element,\n        animation: animItem\n      });\n      len += 1;\n    }\n\n    function loadAnimation(params) {\n      var animItem = new AnimationItem();\n      setupAnimation(animItem, null);\n      animItem.setParams(params);\n      return animItem;\n    }\n\n    function setSpeed(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setSpeed(val, animation);\n      }\n    }\n\n    function setDirection(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setDirection(val, animation);\n      }\n    }\n\n    function play(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.play(animation);\n      }\n    }\n\n    function resume(nowTime) {\n      var elapsedTime = nowTime - initTime;\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.advanceTime(elapsedTime);\n      }\n\n      initTime = nowTime;\n\n      if (playingAnimationsNum && !_isFrozen) {\n        window.requestAnimationFrame(resume);\n      } else {\n        _stopped = true;\n      }\n    }\n\n    function first(nowTime) {\n      initTime = nowTime;\n      window.requestAnimationFrame(resume);\n    }\n\n    function pause(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.pause(animation);\n      }\n    }\n\n    function goToAndStop(value, isFrame, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\n      }\n    }\n\n    function stop(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.stop(animation);\n      }\n    }\n\n    function togglePause(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.togglePause(animation);\n      }\n    }\n\n    function destroy(animation) {\n      var i;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        registeredAnimations[i].animation.destroy(animation);\n      }\n    }\n\n    function searchAnimations(animationData, standalone, renderer) {\n      var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')), [].slice.call(document.getElementsByClassName('bodymovin')));\n      var i;\n      var lenAnims = animElements.length;\n\n      for (i = 0; i < lenAnims; i += 1) {\n        if (renderer) {\n          animElements[i].setAttribute('data-bm-type', renderer);\n        }\n\n        registerAnimation(animElements[i], animationData);\n      }\n\n      if (standalone && lenAnims === 0) {\n        if (!renderer) {\n          renderer = 'svg';\n        }\n\n        var body = document.getElementsByTagName('body')[0];\n        body.innerText = '';\n        var div = createTag('div');\n        div.style.width = '100%';\n        div.style.height = '100%';\n        div.setAttribute('data-bm-type', renderer);\n        body.appendChild(div);\n        registerAnimation(div, animationData);\n      }\n    }\n\n    function resize() {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.resize();\n      }\n    }\n\n    function activate() {\n      if (!_isFrozen && playingAnimationsNum) {\n        if (_stopped) {\n          window.requestAnimationFrame(first);\n          _stopped = false;\n        }\n      }\n    }\n\n    function freeze() {\n      _isFrozen = true;\n    }\n\n    function unfreeze() {\n      _isFrozen = false;\n      activate();\n    }\n\n    function setVolume(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setVolume(val, animation);\n      }\n    }\n\n    function mute(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.mute(animation);\n      }\n    }\n\n    function unmute(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.unmute(animation);\n      }\n    }\n\n    moduleOb.registerAnimation = registerAnimation;\n    moduleOb.loadAnimation = loadAnimation;\n    moduleOb.setSpeed = setSpeed;\n    moduleOb.setDirection = setDirection;\n    moduleOb.play = play;\n    moduleOb.pause = pause;\n    moduleOb.stop = stop;\n    moduleOb.togglePause = togglePause;\n    moduleOb.searchAnimations = searchAnimations;\n    moduleOb.resize = resize; // moduleOb.start = start;\n\n    moduleOb.goToAndStop = goToAndStop;\n    moduleOb.destroy = destroy;\n    moduleOb.freeze = freeze;\n    moduleOb.unfreeze = unfreeze;\n    moduleOb.setVolume = setVolume;\n    moduleOb.mute = mute;\n    moduleOb.unmute = unmute;\n    moduleOb.getRegisteredAnimations = getRegisteredAnimations;\n    return moduleOb;\n  }();\n\n  /* eslint-disable */\n  var BezierFactory = function () {\n    /**\r\n       * BezierEasing - use bezier curve for transition easing function\r\n       * by Gaëtan Renaudeau 2014 - 2015 – MIT License\r\n       *\r\n       * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n       * Usage:\r\n       * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n       * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n       *\r\n       */\n    var ob = {};\n    ob.getBezierEasing = getBezierEasing;\n    var beziers = {};\n\n    function getBezierEasing(a, b, c, d, nm) {\n      var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\n\n      if (beziers[str]) {\n        return beziers[str];\n      }\n\n      var bezEasing = new BezierEasing([a, b, c, d]);\n      beziers[str] = bezEasing;\n      return bezEasing;\n    } // These values are established by empiricism with tests (tradeoff: performance VS precision)\n\n\n    var NEWTON_ITERATIONS = 4;\n    var NEWTON_MIN_SLOPE = 0.001;\n    var SUBDIVISION_PRECISION = 0.0000001;\n    var SUBDIVISION_MAX_ITERATIONS = 10;\n    var kSplineTableSize = 11;\n    var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n    var float32ArraySupported = typeof Float32Array === 'function';\n\n    function A(aA1, aA2) {\n      return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n    }\n\n    function B(aA1, aA2) {\n      return 3.0 * aA2 - 6.0 * aA1;\n    }\n\n    function C(aA1) {\n      return 3.0 * aA1;\n    } // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\n\n\n    function calcBezier(aT, aA1, aA2) {\n      return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n    } // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\n\n\n    function getSlope(aT, aA1, aA2) {\n      return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n    }\n\n    function binarySubdivide(aX, aA, aB, mX1, mX2) {\n      var currentX,\n          currentT,\n          i = 0;\n\n      do {\n        currentT = aA + (aB - aA) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - aX;\n\n        if (currentX > 0.0) {\n          aB = currentT;\n        } else {\n          aA = currentT;\n        }\n      } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n\n      return currentT;\n    }\n\n    function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n      for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n        var currentSlope = getSlope(aGuessT, mX1, mX2);\n        if (currentSlope === 0.0) return aGuessT;\n        var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n        aGuessT -= currentX / currentSlope;\n      }\n\n      return aGuessT;\n    }\n    /**\r\n       * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n       */\n\n\n    function BezierEasing(points) {\n      this._p = points;\n      this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n      this._precomputed = false;\n      this.get = this.get.bind(this);\n    }\n\n    BezierEasing.prototype = {\n      get: function get(x) {\n        var mX1 = this._p[0],\n            mY1 = this._p[1],\n            mX2 = this._p[2],\n            mY2 = this._p[3];\n        if (!this._precomputed) this._precompute();\n        if (mX1 === mY1 && mX2 === mY2) return x; // linear\n        // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n\n        if (x === 0) return 0;\n        if (x === 1) return 1;\n        return calcBezier(this._getTForX(x), mY1, mY2);\n      },\n      // Private part\n      _precompute: function _precompute() {\n        var mX1 = this._p[0],\n            mY1 = this._p[1],\n            mX2 = this._p[2],\n            mY2 = this._p[3];\n        this._precomputed = true;\n\n        if (mX1 !== mY1 || mX2 !== mY2) {\n          this._calcSampleValues();\n        }\n      },\n      _calcSampleValues: function _calcSampleValues() {\n        var mX1 = this._p[0],\n            mX2 = this._p[2];\n\n        for (var i = 0; i < kSplineTableSize; ++i) {\n          this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n        }\n      },\n\n      /**\r\n           * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n           */\n      _getTForX: function _getTForX(aX) {\n        var mX1 = this._p[0],\n            mX2 = this._p[2],\n            mSampleValues = this._mSampleValues;\n        var intervalStart = 0.0;\n        var currentSample = 1;\n        var lastSample = kSplineTableSize - 1;\n\n        for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\n          intervalStart += kSampleStepSize;\n        }\n\n        --currentSample; // Interpolate to provide an initial guess for t\n\n        var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\n        var guessForT = intervalStart + dist * kSampleStepSize;\n        var initialSlope = getSlope(guessForT, mX1, mX2);\n\n        if (initialSlope >= NEWTON_MIN_SLOPE) {\n          return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n        }\n\n        if (initialSlope === 0.0) {\n          return guessForT;\n        }\n\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n    };\n    return ob;\n  }();\n\n  var pooling = function () {\n    function _double(arr) {\n      return arr.concat(createSizedArray(arr.length));\n    }\n\n    return {\n      \"double\": _double\n    };\n  }();\n\n  var poolFactory = function () {\n    return function (initialLength, _create, _release) {\n      var _length = 0;\n      var _maxLength = initialLength;\n      var pool = createSizedArray(_maxLength);\n      var ob = {\n        newElement: newElement,\n        release: release\n      };\n\n      function newElement() {\n        var element;\n\n        if (_length) {\n          _length -= 1;\n          element = pool[_length];\n        } else {\n          element = _create();\n        }\n\n        return element;\n      }\n\n      function release(element) {\n        if (_length === _maxLength) {\n          pool = pooling[\"double\"](pool);\n          _maxLength *= 2;\n        }\n\n        if (_release) {\n          _release(element);\n        }\n\n        pool[_length] = element;\n        _length += 1;\n      }\n\n      return ob;\n    };\n  }();\n\n  var bezierLengthPool = function () {\n    function create() {\n      return {\n        addedLength: 0,\n        percents: createTypedArray('float32', getDefaultCurveSegments()),\n        lengths: createTypedArray('float32', getDefaultCurveSegments())\n      };\n    }\n\n    return poolFactory(8, create);\n  }();\n\n  var segmentsLengthPool = function () {\n    function create() {\n      return {\n        lengths: [],\n        totalLength: 0\n      };\n    }\n\n    function release(element) {\n      var i;\n      var len = element.lengths.length;\n\n      for (i = 0; i < len; i += 1) {\n        bezierLengthPool.release(element.lengths[i]);\n      }\n\n      element.lengths.length = 0;\n    }\n\n    return poolFactory(8, create, release);\n  }();\n\n  function bezFunction() {\n    var math = Math;\n\n    function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\n      var det1 = x1 * y2 + y1 * x3 + x2 * y3 - x3 * y2 - y3 * x1 - x2 * y1;\n      return det1 > -0.001 && det1 < 0.001;\n    }\n\n    function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\n      if (z1 === 0 && z2 === 0 && z3 === 0) {\n        return pointOnLine2D(x1, y1, x2, y2, x3, y3);\n      }\n\n      var dist1 = math.sqrt(math.pow(x2 - x1, 2) + math.pow(y2 - y1, 2) + math.pow(z2 - z1, 2));\n      var dist2 = math.sqrt(math.pow(x3 - x1, 2) + math.pow(y3 - y1, 2) + math.pow(z3 - z1, 2));\n      var dist3 = math.sqrt(math.pow(x3 - x2, 2) + math.pow(y3 - y2, 2) + math.pow(z3 - z2, 2));\n      var diffDist;\n\n      if (dist1 > dist2) {\n        if (dist1 > dist3) {\n          diffDist = dist1 - dist2 - dist3;\n        } else {\n          diffDist = dist3 - dist2 - dist1;\n        }\n      } else if (dist3 > dist2) {\n        diffDist = dist3 - dist2 - dist1;\n      } else {\n        diffDist = dist2 - dist1 - dist3;\n      }\n\n      return diffDist > -0.0001 && diffDist < 0.0001;\n    }\n\n    var getBezierLength = function () {\n      return function (pt1, pt2, pt3, pt4) {\n        var curveSegments = getDefaultCurveSegments();\n        var k;\n        var i;\n        var len;\n        var ptCoord;\n        var perc;\n        var addedLength = 0;\n        var ptDistance;\n        var point = [];\n        var lastPoint = [];\n        var lengthData = bezierLengthPool.newElement();\n        len = pt3.length;\n\n        for (k = 0; k < curveSegments; k += 1) {\n          perc = k / (curveSegments - 1);\n          ptDistance = 0;\n\n          for (i = 0; i < len; i += 1) {\n            ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * bmPow(perc, 2) * pt4[i] + bmPow(perc, 3) * pt2[i];\n            point[i] = ptCoord;\n\n            if (lastPoint[i] !== null) {\n              ptDistance += bmPow(point[i] - lastPoint[i], 2);\n            }\n\n            lastPoint[i] = point[i];\n          }\n\n          if (ptDistance) {\n            ptDistance = bmSqrt(ptDistance);\n            addedLength += ptDistance;\n          }\n\n          lengthData.percents[k] = perc;\n          lengthData.lengths[k] = addedLength;\n        }\n\n        lengthData.addedLength = addedLength;\n        return lengthData;\n      };\n    }();\n\n    function getSegmentsLength(shapeData) {\n      var segmentsLength = segmentsLengthPool.newElement();\n      var closed = shapeData.c;\n      var pathV = shapeData.v;\n      var pathO = shapeData.o;\n      var pathI = shapeData.i;\n      var i;\n      var len = shapeData._length;\n      var lengths = segmentsLength.lengths;\n      var totalLength = 0;\n\n      for (i = 0; i < len - 1; i += 1) {\n        lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\n        totalLength += lengths[i].addedLength;\n      }\n\n      if (closed && len) {\n        lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\n        totalLength += lengths[i].addedLength;\n      }\n\n      segmentsLength.totalLength = totalLength;\n      return segmentsLength;\n    }\n\n    function BezierData(length) {\n      this.segmentLength = 0;\n      this.points = new Array(length);\n    }\n\n    function PointData(partial, point) {\n      this.partialLength = partial;\n      this.point = point;\n    }\n\n    var buildBezierData = function () {\n      var storedData = {};\n      return function (pt1, pt2, pt3, pt4) {\n        var bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\n\n        if (!storedData[bezierName]) {\n          var curveSegments = getDefaultCurveSegments();\n          var k;\n          var i;\n          var len;\n          var ptCoord;\n          var perc;\n          var addedLength = 0;\n          var ptDistance;\n          var point;\n          var lastPoint = null;\n\n          if (pt1.length === 2 && (pt1[0] !== pt2[0] || pt1[1] !== pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\n            curveSegments = 2;\n          }\n\n          var bezierData = new BezierData(curveSegments);\n          len = pt3.length;\n\n          for (k = 0; k < curveSegments; k += 1) {\n            point = createSizedArray(len);\n            perc = k / (curveSegments - 1);\n            ptDistance = 0;\n\n            for (i = 0; i < len; i += 1) {\n              ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * bmPow(perc, 2) * (pt2[i] + pt4[i]) + bmPow(perc, 3) * pt2[i];\n              point[i] = ptCoord;\n\n              if (lastPoint !== null) {\n                ptDistance += bmPow(point[i] - lastPoint[i], 2);\n              }\n            }\n\n            ptDistance = bmSqrt(ptDistance);\n            addedLength += ptDistance;\n            bezierData.points[k] = new PointData(ptDistance, point);\n            lastPoint = point;\n          }\n\n          bezierData.segmentLength = addedLength;\n          storedData[bezierName] = bezierData;\n        }\n\n        return storedData[bezierName];\n      };\n    }();\n\n    function getDistancePerc(perc, bezierData) {\n      var percents = bezierData.percents;\n      var lengths = bezierData.lengths;\n      var len = percents.length;\n      var initPos = bmFloor((len - 1) * perc);\n      var lengthPos = perc * bezierData.addedLength;\n      var lPerc = 0;\n\n      if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\n        return percents[initPos];\n      }\n\n      var dir = lengths[initPos] > lengthPos ? -1 : 1;\n      var flag = true;\n\n      while (flag) {\n        if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\n          lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\n          flag = false;\n        } else {\n          initPos += dir;\n        }\n\n        if (initPos < 0 || initPos >= len - 1) {\n          // FIX for TypedArrays that don't store floating point values with enough accuracy\n          if (initPos === len - 1) {\n            return percents[initPos];\n          }\n\n          flag = false;\n        }\n      }\n\n      return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\n    }\n\n    function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\n      var t1 = getDistancePerc(percent, bezierData);\n      var u1 = 1 - t1;\n      var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\n      var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\n      return [ptX, ptY];\n    }\n\n    var bezierSegmentPoints = createTypedArray('float32', 8);\n\n    function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\n      if (startPerc < 0) {\n        startPerc = 0;\n      } else if (startPerc > 1) {\n        startPerc = 1;\n      }\n\n      var t0 = getDistancePerc(startPerc, bezierData);\n      endPerc = endPerc > 1 ? 1 : endPerc;\n      var t1 = getDistancePerc(endPerc, bezierData);\n      var i;\n      var len = pt1.length;\n      var u0 = 1 - t0;\n      var u1 = 1 - t1;\n      var u0u0u0 = u0 * u0 * u0;\n      var t0u0u0_3 = t0 * u0 * u0 * 3; // eslint-disable-line camelcase\n\n      var t0t0u0_3 = t0 * t0 * u0 * 3; // eslint-disable-line camelcase\n\n      var t0t0t0 = t0 * t0 * t0; //\n\n      var u0u0u1 = u0 * u0 * u1;\n      var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1; // eslint-disable-line camelcase\n\n      var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1; // eslint-disable-line camelcase\n\n      var t0t0t1 = t0 * t0 * t1; //\n\n      var u0u1u1 = u0 * u1 * u1;\n      var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1; // eslint-disable-line camelcase\n\n      var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1; // eslint-disable-line camelcase\n\n      var t0t1t1 = t0 * t1 * t1; //\n\n      var u1u1u1 = u1 * u1 * u1;\n      var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1; // eslint-disable-line camelcase\n\n      var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1; // eslint-disable-line camelcase\n\n      var t1t1t1 = t1 * t1 * t1;\n\n      for (i = 0; i < len; i += 1) {\n        bezierSegmentPoints[i * 4] = math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 1] = math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 2] = math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 3] = math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n      }\n\n      return bezierSegmentPoints;\n    }\n\n    return {\n      getSegmentsLength: getSegmentsLength,\n      getNewSegment: getNewSegment,\n      getPointInSegment: getPointInSegment,\n      buildBezierData: buildBezierData,\n      pointOnLine2D: pointOnLine2D,\n      pointOnLine3D: pointOnLine3D\n    };\n  }\n\n  var bez = bezFunction();\n\n  var PropertyFactory = function () {\n    var initFrame = initialDefaultFrame;\n    var mathAbs = Math.abs;\n\n    function interpolateValue(frameNum, caching) {\n      var offsetTime = this.offsetTime;\n      var newValue;\n\n      if (this.propType === 'multidimensional') {\n        newValue = createTypedArray('float32', this.pv.length);\n      }\n\n      var iterationIndex = caching.lastIndex;\n      var i = iterationIndex;\n      var len = this.keyframes.length - 1;\n      var flag = true;\n      var keyData;\n      var nextKeyData;\n      var keyframeMetadata;\n\n      while (flag) {\n        keyData = this.keyframes[i];\n        nextKeyData = this.keyframes[i + 1];\n\n        if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime) {\n          if (keyData.h) {\n            keyData = nextKeyData;\n          }\n\n          iterationIndex = 0;\n          break;\n        }\n\n        if (nextKeyData.t - offsetTime > frameNum) {\n          iterationIndex = i;\n          break;\n        }\n\n        if (i < len - 1) {\n          i += 1;\n        } else {\n          iterationIndex = 0;\n          flag = false;\n        }\n      }\n\n      keyframeMetadata = this.keyframesMetadata[i] || {};\n      var k;\n      var kLen;\n      var perc;\n      var jLen;\n      var j;\n      var fnc;\n      var nextKeyTime = nextKeyData.t - offsetTime;\n      var keyTime = keyData.t - offsetTime;\n      var endValue;\n\n      if (keyData.to) {\n        if (!keyframeMetadata.bezierData) {\n          keyframeMetadata.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\n        }\n\n        var bezierData = keyframeMetadata.bezierData;\n\n        if (frameNum >= nextKeyTime || frameNum < keyTime) {\n          var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\n          kLen = bezierData.points[ind].point.length;\n\n          for (k = 0; k < kLen; k += 1) {\n            newValue[k] = bezierData.points[ind].point[k];\n          } // caching._lastKeyframeIndex = -1;\n\n        } else {\n          if (keyframeMetadata.__fnct) {\n            fnc = keyframeMetadata.__fnct;\n          } else {\n            fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\n            keyframeMetadata.__fnct = fnc;\n          }\n\n          perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n          var distanceInLine = bezierData.segmentLength * perc;\n          var segmentPerc;\n          var addedLength = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastAddedLength : 0;\n          j = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastPoint : 0;\n          flag = true;\n          jLen = bezierData.points.length;\n\n          while (flag) {\n            addedLength += bezierData.points[j].partialLength;\n\n            if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\n              kLen = bezierData.points[j].point.length;\n\n              for (k = 0; k < kLen; k += 1) {\n                newValue[k] = bezierData.points[j].point[k];\n              }\n\n              break;\n            } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\n              segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\n              kLen = bezierData.points[j].point.length;\n\n              for (k = 0; k < kLen; k += 1) {\n                newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\n              }\n\n              break;\n            }\n\n            if (j < jLen - 1) {\n              j += 1;\n            } else {\n              flag = false;\n            }\n          }\n\n          caching._lastPoint = j;\n          caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\n          caching._lastKeyframeIndex = i;\n        }\n      } else {\n        var outX;\n        var outY;\n        var inX;\n        var inY;\n        var keyValue;\n        len = keyData.s.length;\n        endValue = nextKeyData.s || keyData.e;\n\n        if (this.sh && keyData.h !== 1) {\n          if (frameNum >= nextKeyTime) {\n            newValue[0] = endValue[0];\n            newValue[1] = endValue[1];\n            newValue[2] = endValue[2];\n          } else if (frameNum <= keyTime) {\n            newValue[0] = keyData.s[0];\n            newValue[1] = keyData.s[1];\n            newValue[2] = keyData.s[2];\n          } else {\n            var quatStart = createQuaternion(keyData.s);\n            var quatEnd = createQuaternion(endValue);\n            var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\n            quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\n          }\n        } else {\n          for (i = 0; i < len; i += 1) {\n            if (keyData.h !== 1) {\n              if (frameNum >= nextKeyTime) {\n                perc = 1;\n              } else if (frameNum < keyTime) {\n                perc = 0;\n              } else {\n                if (keyData.o.x.constructor === Array) {\n                  if (!keyframeMetadata.__fnct) {\n                    keyframeMetadata.__fnct = [];\n                  }\n\n                  if (!keyframeMetadata.__fnct[i]) {\n                    outX = keyData.o.x[i] === undefined ? keyData.o.x[0] : keyData.o.x[i];\n                    outY = keyData.o.y[i] === undefined ? keyData.o.y[0] : keyData.o.y[i];\n                    inX = keyData.i.x[i] === undefined ? keyData.i.x[0] : keyData.i.x[i];\n                    inY = keyData.i.y[i] === undefined ? keyData.i.y[0] : keyData.i.y[i];\n                    fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                    keyframeMetadata.__fnct[i] = fnc;\n                  } else {\n                    fnc = keyframeMetadata.__fnct[i];\n                  }\n                } else if (!keyframeMetadata.__fnct) {\n                  outX = keyData.o.x;\n                  outY = keyData.o.y;\n                  inX = keyData.i.x;\n                  inY = keyData.i.y;\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                  keyData.keyframeMetadata = fnc;\n                } else {\n                  fnc = keyframeMetadata.__fnct;\n                }\n\n                perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n              }\n            }\n\n            endValue = nextKeyData.s || keyData.e;\n            keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\n\n            if (this.propType === 'multidimensional') {\n              newValue[i] = keyValue;\n            } else {\n              newValue = keyValue;\n            }\n          }\n        }\n      }\n\n      caching.lastIndex = iterationIndex;\n      return newValue;\n    } // based on @Toji's https://github.com/toji/gl-matrix/\n\n\n    function slerp(a, b, t) {\n      var out = [];\n      var ax = a[0];\n      var ay = a[1];\n      var az = a[2];\n      var aw = a[3];\n      var bx = b[0];\n      var by = b[1];\n      var bz = b[2];\n      var bw = b[3];\n      var omega;\n      var cosom;\n      var sinom;\n      var scale0;\n      var scale1;\n      cosom = ax * bx + ay * by + az * bz + aw * bw;\n\n      if (cosom < 0.0) {\n        cosom = -cosom;\n        bx = -bx;\n        by = -by;\n        bz = -bz;\n        bw = -bw;\n      }\n\n      if (1.0 - cosom > 0.000001) {\n        omega = Math.acos(cosom);\n        sinom = Math.sin(omega);\n        scale0 = Math.sin((1.0 - t) * omega) / sinom;\n        scale1 = Math.sin(t * omega) / sinom;\n      } else {\n        scale0 = 1.0 - t;\n        scale1 = t;\n      }\n\n      out[0] = scale0 * ax + scale1 * bx;\n      out[1] = scale0 * ay + scale1 * by;\n      out[2] = scale0 * az + scale1 * bz;\n      out[3] = scale0 * aw + scale1 * bw;\n      return out;\n    }\n\n    function quaternionToEuler(out, quat) {\n      var qx = quat[0];\n      var qy = quat[1];\n      var qz = quat[2];\n      var qw = quat[3];\n      var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\n      var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\n      var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\n      out[0] = heading / degToRads;\n      out[1] = attitude / degToRads;\n      out[2] = bank / degToRads;\n    }\n\n    function createQuaternion(values) {\n      var heading = values[0] * degToRads;\n      var attitude = values[1] * degToRads;\n      var bank = values[2] * degToRads;\n      var c1 = Math.cos(heading / 2);\n      var c2 = Math.cos(attitude / 2);\n      var c3 = Math.cos(bank / 2);\n      var s1 = Math.sin(heading / 2);\n      var s2 = Math.sin(attitude / 2);\n      var s3 = Math.sin(bank / 2);\n      var w = c1 * c2 * c3 - s1 * s2 * s3;\n      var x = s1 * s2 * c3 + c1 * c2 * s3;\n      var y = s1 * c2 * c3 + c1 * s2 * s3;\n      var z = c1 * s2 * c3 - s1 * c2 * s3;\n      return [x, y, z, w];\n    }\n\n    function getValueAtCurrentTime() {\n      var frameNum = this.comp.renderedFrame - this.offsetTime;\n      var initTime = this.keyframes[0].t - this.offsetTime;\n      var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n\n      if (!(frameNum === this._caching.lastFrame || this._caching.lastFrame !== initFrame && (this._caching.lastFrame >= endTime && frameNum >= endTime || this._caching.lastFrame < initTime && frameNum < initTime))) {\n        if (this._caching.lastFrame >= frameNum) {\n          this._caching._lastKeyframeIndex = -1;\n          this._caching.lastIndex = 0;\n        }\n\n        var renderResult = this.interpolateValue(frameNum, this._caching);\n        this.pv = renderResult;\n      }\n\n      this._caching.lastFrame = frameNum;\n      return this.pv;\n    }\n\n    function setVValue(val) {\n      var multipliedValue;\n\n      if (this.propType === 'unidimensional') {\n        multipliedValue = val * this.mult;\n\n        if (mathAbs(this.v - multipliedValue) > 0.00001) {\n          this.v = multipliedValue;\n          this._mdf = true;\n        }\n      } else {\n        var i = 0;\n        var len = this.v.length;\n\n        while (i < len) {\n          multipliedValue = val[i] * this.mult;\n\n          if (mathAbs(this.v[i] - multipliedValue) > 0.00001) {\n            this.v[i] = multipliedValue;\n            this._mdf = true;\n          }\n\n          i += 1;\n        }\n      }\n    }\n\n    function processEffectsSequence() {\n      if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\n        return;\n      }\n\n      if (this.lock) {\n        this.setVValue(this.pv);\n        return;\n      }\n\n      this.lock = true;\n      this._mdf = this._isFirstFrame;\n      var i;\n      var len = this.effectsSequence.length;\n      var finalValue = this.kf ? this.pv : this.data.k;\n\n      for (i = 0; i < len; i += 1) {\n        finalValue = this.effectsSequence[i](finalValue);\n      }\n\n      this.setVValue(finalValue);\n      this._isFirstFrame = false;\n      this.lock = false;\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function addEffect(effectFunction) {\n      this.effectsSequence.push(effectFunction);\n      this.container.addDynamicProperty(this);\n    }\n\n    function ValueProperty(elem, data, mult, container) {\n      this.propType = 'unidimensional';\n      this.mult = mult || 1;\n      this.data = data;\n      this.v = mult ? data.k * mult : data.k;\n      this.pv = data.k;\n      this._mdf = false;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.k = false;\n      this.kf = false;\n      this.vel = 0;\n      this.effectsSequence = [];\n      this._isFirstFrame = true;\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.addEffect = addEffect;\n    }\n\n    function MultiDimensionalProperty(elem, data, mult, container) {\n      this.propType = 'multidimensional';\n      this.mult = mult || 1;\n      this.data = data;\n      this._mdf = false;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.k = false;\n      this.kf = false;\n      this.frameId = -1;\n      var i;\n      var len = data.k.length;\n      this.v = createTypedArray('float32', len);\n      this.pv = createTypedArray('float32', len);\n      this.vel = createTypedArray('float32', len);\n\n      for (i = 0; i < len; i += 1) {\n        this.v[i] = data.k[i] * this.mult;\n        this.pv[i] = data.k[i];\n      }\n\n      this._isFirstFrame = true;\n      this.effectsSequence = [];\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.addEffect = addEffect;\n    }\n\n    function KeyframedValueProperty(elem, data, mult, container) {\n      this.propType = 'unidimensional';\n      this.keyframes = data.k;\n      this.keyframesMetadata = [];\n      this.offsetTime = elem.data.st;\n      this.frameId = -1;\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0,\n        value: 0,\n        _lastKeyframeIndex: -1\n      };\n      this.k = true;\n      this.kf = true;\n      this.data = data;\n      this.mult = mult || 1;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.v = initFrame;\n      this.pv = initFrame;\n      this._isFirstFrame = true;\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.interpolateValue = interpolateValue;\n      this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n      this.addEffect = addEffect;\n    }\n\n    function KeyframedMultidimensionalProperty(elem, data, mult, container) {\n      this.propType = 'multidimensional';\n      var i;\n      var len = data.k.length;\n      var s;\n      var e;\n      var to;\n      var ti;\n\n      for (i = 0; i < len - 1; i += 1) {\n        if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\n          s = data.k[i].s;\n          e = data.k[i + 1].s;\n          to = data.k[i].to;\n          ti = data.k[i].ti;\n\n          if (s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1]) || s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2])) {\n            data.k[i].to = null;\n            data.k[i].ti = null;\n          }\n\n          if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\n            if (s.length === 2 || s[2] === e[2] && to[2] === 0 && ti[2] === 0) {\n              data.k[i].to = null;\n              data.k[i].ti = null;\n            }\n          }\n        }\n      }\n\n      this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n      this.data = data;\n      this.keyframes = data.k;\n      this.keyframesMetadata = [];\n      this.offsetTime = elem.data.st;\n      this.k = true;\n      this.kf = true;\n      this._isFirstFrame = true;\n      this.mult = mult || 1;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.interpolateValue = interpolateValue;\n      this.frameId = -1;\n      var arrLen = data.k[0].s.length;\n      this.v = createTypedArray('float32', arrLen);\n      this.pv = createTypedArray('float32', arrLen);\n\n      for (i = 0; i < arrLen; i += 1) {\n        this.v[i] = initFrame;\n        this.pv[i] = initFrame;\n      }\n\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0,\n        value: createTypedArray('float32', arrLen)\n      };\n      this.addEffect = addEffect;\n    }\n\n    function getProp(elem, data, type, mult, container) {\n      var p;\n\n      if (!data.k.length) {\n        p = new ValueProperty(elem, data, mult, container);\n      } else if (typeof data.k[0] === 'number') {\n        p = new MultiDimensionalProperty(elem, data, mult, container);\n      } else {\n        switch (type) {\n          case 0:\n            p = new KeyframedValueProperty(elem, data, mult, container);\n            break;\n\n          case 1:\n            p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\n            break;\n\n          default:\n            break;\n        }\n      }\n\n      if (p.effectsSequence.length) {\n        container.addDynamicProperty(p);\n      }\n\n      return p;\n    }\n\n    var ob = {\n      getProp: getProp\n    };\n    return ob;\n  }();\n\n  function DynamicPropertyContainer() {}\n\n  DynamicPropertyContainer.prototype = {\n    addDynamicProperty: function addDynamicProperty(prop) {\n      if (this.dynamicProperties.indexOf(prop) === -1) {\n        this.dynamicProperties.push(prop);\n        this.container.addDynamicProperty(this);\n        this._isAnimated = true;\n      }\n    },\n    iterateDynamicProperties: function iterateDynamicProperties() {\n      this._mdf = false;\n      var i;\n      var len = this.dynamicProperties.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.dynamicProperties[i].getValue();\n\n        if (this.dynamicProperties[i]._mdf) {\n          this._mdf = true;\n        }\n      }\n    },\n    initDynamicPropertyContainer: function initDynamicPropertyContainer(container) {\n      this.container = container;\n      this.dynamicProperties = [];\n      this._mdf = false;\n      this._isAnimated = false;\n    }\n  };\n\n  var pointPool = function () {\n    function create() {\n      return createTypedArray('float32', 2);\n    }\n\n    return poolFactory(8, create);\n  }();\n\n  function ShapePath() {\n    this.c = false;\n    this._length = 0;\n    this._maxLength = 8;\n    this.v = createSizedArray(this._maxLength);\n    this.o = createSizedArray(this._maxLength);\n    this.i = createSizedArray(this._maxLength);\n  }\n\n  ShapePath.prototype.setPathData = function (closed, len) {\n    this.c = closed;\n    this.setLength(len);\n    var i = 0;\n\n    while (i < len) {\n      this.v[i] = pointPool.newElement();\n      this.o[i] = pointPool.newElement();\n      this.i[i] = pointPool.newElement();\n      i += 1;\n    }\n  };\n\n  ShapePath.prototype.setLength = function (len) {\n    while (this._maxLength < len) {\n      this.doubleArrayLength();\n    }\n\n    this._length = len;\n  };\n\n  ShapePath.prototype.doubleArrayLength = function () {\n    this.v = this.v.concat(createSizedArray(this._maxLength));\n    this.i = this.i.concat(createSizedArray(this._maxLength));\n    this.o = this.o.concat(createSizedArray(this._maxLength));\n    this._maxLength *= 2;\n  };\n\n  ShapePath.prototype.setXYAt = function (x, y, type, pos, replace) {\n    var arr;\n    this._length = Math.max(this._length, pos + 1);\n\n    if (this._length >= this._maxLength) {\n      this.doubleArrayLength();\n    }\n\n    switch (type) {\n      case 'v':\n        arr = this.v;\n        break;\n\n      case 'i':\n        arr = this.i;\n        break;\n\n      case 'o':\n        arr = this.o;\n        break;\n\n      default:\n        arr = [];\n        break;\n    }\n\n    if (!arr[pos] || arr[pos] && !replace) {\n      arr[pos] = pointPool.newElement();\n    }\n\n    arr[pos][0] = x;\n    arr[pos][1] = y;\n  };\n\n  ShapePath.prototype.setTripleAt = function (vX, vY, oX, oY, iX, iY, pos, replace) {\n    this.setXYAt(vX, vY, 'v', pos, replace);\n    this.setXYAt(oX, oY, 'o', pos, replace);\n    this.setXYAt(iX, iY, 'i', pos, replace);\n  };\n\n  ShapePath.prototype.reverse = function () {\n    var newPath = new ShapePath();\n    newPath.setPathData(this.c, this._length);\n    var vertices = this.v;\n    var outPoints = this.o;\n    var inPoints = this.i;\n    var init = 0;\n\n    if (this.c) {\n      newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\n      init = 1;\n    }\n\n    var cnt = this._length - 1;\n    var len = this._length;\n    var i;\n\n    for (i = init; i < len; i += 1) {\n      newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\n      cnt -= 1;\n    }\n\n    return newPath;\n  };\n\n  var shapePool = function () {\n    function create() {\n      return new ShapePath();\n    }\n\n    function release(shapePath) {\n      var len = shapePath._length;\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        pointPool.release(shapePath.v[i]);\n        pointPool.release(shapePath.i[i]);\n        pointPool.release(shapePath.o[i]);\n        shapePath.v[i] = null;\n        shapePath.i[i] = null;\n        shapePath.o[i] = null;\n      }\n\n      shapePath._length = 0;\n      shapePath.c = false;\n    }\n\n    function clone(shape) {\n      var cloned = factory.newElement();\n      var i;\n      var len = shape._length === undefined ? shape.v.length : shape._length;\n      cloned.setLength(len);\n      cloned.c = shape.c;\n\n      for (i = 0; i < len; i += 1) {\n        cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\n      }\n\n      return cloned;\n    }\n\n    var factory = poolFactory(4, create, release);\n    factory.clone = clone;\n    return factory;\n  }();\n\n  function ShapeCollection() {\n    this._length = 0;\n    this._maxLength = 4;\n    this.shapes = createSizedArray(this._maxLength);\n  }\n\n  ShapeCollection.prototype.addShape = function (shapeData) {\n    if (this._length === this._maxLength) {\n      this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\n      this._maxLength *= 2;\n    }\n\n    this.shapes[this._length] = shapeData;\n    this._length += 1;\n  };\n\n  ShapeCollection.prototype.releaseShapes = function () {\n    var i;\n\n    for (i = 0; i < this._length; i += 1) {\n      shapePool.release(this.shapes[i]);\n    }\n\n    this._length = 0;\n  };\n\n  var shapeCollectionPool = function () {\n    var ob = {\n      newShapeCollection: newShapeCollection,\n      release: release\n    };\n    var _length = 0;\n    var _maxLength = 4;\n    var pool = createSizedArray(_maxLength);\n\n    function newShapeCollection() {\n      var shapeCollection;\n\n      if (_length) {\n        _length -= 1;\n        shapeCollection = pool[_length];\n      } else {\n        shapeCollection = new ShapeCollection();\n      }\n\n      return shapeCollection;\n    }\n\n    function release(shapeCollection) {\n      var i;\n      var len = shapeCollection._length;\n\n      for (i = 0; i < len; i += 1) {\n        shapePool.release(shapeCollection.shapes[i]);\n      }\n\n      shapeCollection._length = 0;\n\n      if (_length === _maxLength) {\n        pool = pooling[\"double\"](pool);\n        _maxLength *= 2;\n      }\n\n      pool[_length] = shapeCollection;\n      _length += 1;\n    }\n\n    return ob;\n  }();\n\n  var ShapePropertyFactory = function () {\n    var initFrame = -999999;\n\n    function interpolateShape(frameNum, previousValue, caching) {\n      var iterationIndex = caching.lastIndex;\n      var keyPropS;\n      var keyPropE;\n      var isHold;\n      var j;\n      var k;\n      var jLen;\n      var kLen;\n      var perc;\n      var vertexValue;\n      var kf = this.keyframes;\n\n      if (frameNum < kf[0].t - this.offsetTime) {\n        keyPropS = kf[0].s[0];\n        isHold = true;\n        iterationIndex = 0;\n      } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {\n        keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\n        /* if(kf[kf.length - 1].s){\r\n                  keyPropS = kf[kf.length - 1].s[0];\r\n              }else{\r\n                  keyPropS = kf[kf.length - 2].e[0];\r\n              } */\n\n        isHold = true;\n      } else {\n        var i = iterationIndex;\n        var len = kf.length - 1;\n        var flag = true;\n        var keyData;\n        var nextKeyData;\n        var keyframeMetadata;\n\n        while (flag) {\n          keyData = kf[i];\n          nextKeyData = kf[i + 1];\n\n          if (nextKeyData.t - this.offsetTime > frameNum) {\n            break;\n          }\n\n          if (i < len - 1) {\n            i += 1;\n          } else {\n            flag = false;\n          }\n        }\n\n        keyframeMetadata = this.keyframesMetadata[i] || {};\n        isHold = keyData.h === 1;\n        iterationIndex = i;\n\n        if (!isHold) {\n          if (frameNum >= nextKeyData.t - this.offsetTime) {\n            perc = 1;\n          } else if (frameNum < keyData.t - this.offsetTime) {\n            perc = 0;\n          } else {\n            var fnc;\n\n            if (keyframeMetadata.__fnct) {\n              fnc = keyframeMetadata.__fnct;\n            } else {\n              fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\n              keyframeMetadata.__fnct = fnc;\n            }\n\n            perc = fnc((frameNum - (keyData.t - this.offsetTime)) / (nextKeyData.t - this.offsetTime - (keyData.t - this.offsetTime)));\n          }\n\n          keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\n        }\n\n        keyPropS = keyData.s[0];\n      }\n\n      jLen = previousValue._length;\n      kLen = keyPropS.i[0].length;\n      caching.lastIndex = iterationIndex;\n\n      for (j = 0; j < jLen; j += 1) {\n        for (k = 0; k < kLen; k += 1) {\n          vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\n          previousValue.i[j][k] = vertexValue;\n          vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\n          previousValue.o[j][k] = vertexValue;\n          vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\n          previousValue.v[j][k] = vertexValue;\n        }\n      }\n    }\n\n    function interpolateShapeCurrentTime() {\n      var frameNum = this.comp.renderedFrame - this.offsetTime;\n      var initTime = this.keyframes[0].t - this.offsetTime;\n      var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n      var lastFrame = this._caching.lastFrame;\n\n      if (!(lastFrame !== initFrame && (lastFrame < initTime && frameNum < initTime || lastFrame > endTime && frameNum > endTime))) {\n        /// /\n        this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\n        this.interpolateShape(frameNum, this.pv, this._caching); /// /\n      }\n\n      this._caching.lastFrame = frameNum;\n      return this.pv;\n    }\n\n    function resetShape() {\n      this.paths = this.localShapeCollection;\n    }\n\n    function shapesEqual(shape1, shape2) {\n      if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\n        return false;\n      }\n\n      var i;\n      var len = shape1._length;\n\n      for (i = 0; i < len; i += 1) {\n        if (shape1.v[i][0] !== shape2.v[i][0] || shape1.v[i][1] !== shape2.v[i][1] || shape1.o[i][0] !== shape2.o[i][0] || shape1.o[i][1] !== shape2.o[i][1] || shape1.i[i][0] !== shape2.i[i][0] || shape1.i[i][1] !== shape2.i[i][1]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    function setVValue(newPath) {\n      if (!shapesEqual(this.v, newPath)) {\n        this.v = shapePool.clone(newPath);\n        this.localShapeCollection.releaseShapes();\n        this.localShapeCollection.addShape(this.v);\n        this._mdf = true;\n        this.paths = this.localShapeCollection;\n      }\n    }\n\n    function processEffectsSequence() {\n      if (this.elem.globalData.frameId === this.frameId) {\n        return;\n      }\n\n      if (!this.effectsSequence.length) {\n        this._mdf = false;\n        return;\n      }\n\n      if (this.lock) {\n        this.setVValue(this.pv);\n        return;\n      }\n\n      this.lock = true;\n      this._mdf = false;\n      var finalValue;\n\n      if (this.kf) {\n        finalValue = this.pv;\n      } else if (this.data.ks) {\n        finalValue = this.data.ks.k;\n      } else {\n        finalValue = this.data.pt.k;\n      }\n\n      var i;\n      var len = this.effectsSequence.length;\n\n      for (i = 0; i < len; i += 1) {\n        finalValue = this.effectsSequence[i](finalValue);\n      }\n\n      this.setVValue(finalValue);\n      this.lock = false;\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function ShapeProperty(elem, data, type) {\n      this.propType = 'shape';\n      this.comp = elem.comp;\n      this.container = elem;\n      this.elem = elem;\n      this.data = data;\n      this.k = false;\n      this.kf = false;\n      this._mdf = false;\n      var pathData = type === 3 ? data.pt.k : data.ks.k;\n      this.v = shapePool.clone(pathData);\n      this.pv = shapePool.clone(this.v);\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.paths.addShape(this.v);\n      this.reset = resetShape;\n      this.effectsSequence = [];\n    }\n\n    function addEffect(effectFunction) {\n      this.effectsSequence.push(effectFunction);\n      this.container.addDynamicProperty(this);\n    }\n\n    ShapeProperty.prototype.interpolateShape = interpolateShape;\n    ShapeProperty.prototype.getValue = processEffectsSequence;\n    ShapeProperty.prototype.setVValue = setVValue;\n    ShapeProperty.prototype.addEffect = addEffect;\n\n    function KeyframedShapeProperty(elem, data, type) {\n      this.propType = 'shape';\n      this.comp = elem.comp;\n      this.elem = elem;\n      this.container = elem;\n      this.offsetTime = elem.data.st;\n      this.keyframes = type === 3 ? data.pt.k : data.ks.k;\n      this.keyframesMetadata = [];\n      this.k = true;\n      this.kf = true;\n      var len = this.keyframes[0].s[0].i.length;\n      this.v = shapePool.newElement();\n      this.v.setPathData(this.keyframes[0].s[0].c, len);\n      this.pv = shapePool.clone(this.v);\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.paths.addShape(this.v);\n      this.lastFrame = initFrame;\n      this.reset = resetShape;\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0\n      };\n      this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\n    }\n\n    KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\n    KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\n    KeyframedShapeProperty.prototype.setVValue = setVValue;\n    KeyframedShapeProperty.prototype.addEffect = addEffect;\n\n    var EllShapeProperty = function () {\n      var cPoint = roundCorner;\n\n      function EllShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.setPathData(true, 4);\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.paths = this.localShapeCollection;\n        this.localShapeCollection.addShape(this.v);\n        this.d = data.d;\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.frameId = -1;\n        this.initDynamicPropertyContainer(elem);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertEllToPath();\n        }\n      }\n\n      EllShapePropertyFactory.prototype = {\n        reset: resetShape,\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertEllToPath();\n          }\n        },\n        convertEllToPath: function convertEllToPath() {\n          var p0 = this.p.v[0];\n          var p1 = this.p.v[1];\n          var s0 = this.s.v[0] / 2;\n          var s1 = this.s.v[1] / 2;\n\n          var _cw = this.d !== 3;\n\n          var _v = this.v;\n          _v.v[0][0] = p0;\n          _v.v[0][1] = p1 - s1;\n          _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.v[1][1] = p1;\n          _v.v[2][0] = p0;\n          _v.v[2][1] = p1 + s1;\n          _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.v[3][1] = p1;\n          _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n          _v.i[0][1] = p1 - s1;\n          _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.i[1][1] = p1 - s1 * cPoint;\n          _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n          _v.i[2][1] = p1 + s1;\n          _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.i[3][1] = p1 + s1 * cPoint;\n          _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n          _v.o[0][1] = p1 - s1;\n          _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.o[1][1] = p1 + s1 * cPoint;\n          _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n          _v.o[2][1] = p1 + s1;\n          _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.o[3][1] = p1 - s1 * cPoint;\n        }\n      };\n      extendPrototype([DynamicPropertyContainer], EllShapePropertyFactory);\n      return EllShapePropertyFactory;\n    }();\n\n    var StarShapeProperty = function () {\n      function StarShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.setPathData(true, 0);\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.data = data;\n        this.frameId = -1;\n        this.d = data.d;\n        this.initDynamicPropertyContainer(elem);\n\n        if (data.sy === 1) {\n          this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\n          this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\n          this.convertToPath = this.convertStarToPath;\n        } else {\n          this.convertToPath = this.convertPolygonToPath;\n        }\n\n        this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\n        this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\n        this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.localShapeCollection.addShape(this.v);\n        this.paths = this.localShapeCollection;\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertToPath();\n        }\n      }\n\n      StarShapePropertyFactory.prototype = {\n        reset: resetShape,\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertToPath();\n          }\n        },\n        convertStarToPath: function convertStarToPath() {\n          var numPts = Math.floor(this.pt.v) * 2;\n          var angle = Math.PI * 2 / numPts;\n          /* this.v.v.length = numPts;\r\n                  this.v.i.length = numPts;\r\n                  this.v.o.length = numPts; */\n\n          var longFlag = true;\n          var longRad = this.or.v;\n          var shortRad = this.ir.v;\n          var longRound = this.os.v;\n          var shortRound = this.is.v;\n          var longPerimSegment = 2 * Math.PI * longRad / (numPts * 2);\n          var shortPerimSegment = 2 * Math.PI * shortRad / (numPts * 2);\n          var i;\n          var rad;\n          var roundness;\n          var perimSegment;\n          var currentAng = -Math.PI / 2;\n          currentAng += this.r.v;\n          var dir = this.data.d === 3 ? -1 : 1;\n          this.v._length = 0;\n\n          for (i = 0; i < numPts; i += 1) {\n            rad = longFlag ? longRad : shortRad;\n            roundness = longFlag ? longRound : shortRound;\n            perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\n            var x = rad * Math.cos(currentAng);\n            var y = rad * Math.sin(currentAng);\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n            x += +this.p.v[0];\n            y += +this.p.v[1];\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n            /* this.v.v[i] = [x,y];\r\n                      this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                      this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                      this.v._length = numPts; */\n\n            longFlag = !longFlag;\n            currentAng += angle * dir;\n          }\n        },\n        convertPolygonToPath: function convertPolygonToPath() {\n          var numPts = Math.floor(this.pt.v);\n          var angle = Math.PI * 2 / numPts;\n          var rad = this.or.v;\n          var roundness = this.os.v;\n          var perimSegment = 2 * Math.PI * rad / (numPts * 4);\n          var i;\n          var currentAng = -Math.PI * 0.5;\n          var dir = this.data.d === 3 ? -1 : 1;\n          currentAng += this.r.v;\n          this.v._length = 0;\n\n          for (i = 0; i < numPts; i += 1) {\n            var x = rad * Math.cos(currentAng);\n            var y = rad * Math.sin(currentAng);\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n            x += +this.p.v[0];\n            y += +this.p.v[1];\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n            currentAng += angle * dir;\n          }\n\n          this.paths.length = 0;\n          this.paths[0] = this.v;\n        }\n      };\n      extendPrototype([DynamicPropertyContainer], StarShapePropertyFactory);\n      return StarShapePropertyFactory;\n    }();\n\n    var RectShapeProperty = function () {\n      function RectShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.c = true;\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.localShapeCollection.addShape(this.v);\n        this.paths = this.localShapeCollection;\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.frameId = -1;\n        this.d = data.d;\n        this.initDynamicPropertyContainer(elem);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n        this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertRectToPath();\n        }\n      }\n\n      RectShapePropertyFactory.prototype = {\n        convertRectToPath: function convertRectToPath() {\n          var p0 = this.p.v[0];\n          var p1 = this.p.v[1];\n          var v0 = this.s.v[0] / 2;\n          var v1 = this.s.v[1] / 2;\n          var round = bmMin(v0, v1, this.r.v);\n          var cPoint = round * (1 - roundCorner);\n          this.v._length = 0;\n\n          if (this.d === 2 || this.d === 1) {\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);\n            this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);\n\n            if (round !== 0) {\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);\n            } else {\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);\n            }\n          } else {\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);\n\n            if (round !== 0) {\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);\n              this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);\n            } else {\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);\n              this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);\n            }\n          }\n        },\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertRectToPath();\n          }\n        },\n        reset: resetShape\n      };\n      extendPrototype([DynamicPropertyContainer], RectShapePropertyFactory);\n      return RectShapePropertyFactory;\n    }();\n\n    function getShapeProp(elem, data, type) {\n      var prop;\n\n      if (type === 3 || type === 4) {\n        var dataProp = type === 3 ? data.pt : data.ks;\n        var keys = dataProp.k;\n\n        if (keys.length) {\n          prop = new KeyframedShapeProperty(elem, data, type);\n        } else {\n          prop = new ShapeProperty(elem, data, type);\n        }\n      } else if (type === 5) {\n        prop = new RectShapeProperty(elem, data);\n      } else if (type === 6) {\n        prop = new EllShapeProperty(elem, data);\n      } else if (type === 7) {\n        prop = new StarShapeProperty(elem, data);\n      }\n\n      if (prop.k) {\n        elem.addDynamicProperty(prop);\n      }\n\n      return prop;\n    }\n\n    function getConstructorFunction() {\n      return ShapeProperty;\n    }\n\n    function getKeyframedConstructorFunction() {\n      return KeyframedShapeProperty;\n    }\n\n    var ob = {};\n    ob.getShapeProp = getShapeProp;\n    ob.getConstructorFunction = getConstructorFunction;\n    ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\n    return ob;\n  }();\n\n  /*!\r\n   Transformation Matrix v2.0\r\n   (c) Epistemex 2014-2015\r\n   www.epistemex.com\r\n   By Ken Fyrstenberg\r\n   Contributions by leeoniya.\r\n   License: MIT, header required.\r\n   */\n\n  /**\r\n   * 2D transformation matrix object initialized with identity matrix.\r\n   *\r\n   * The matrix can synchronize a canvas context by supplying the context\r\n   * as an argument, or later apply current absolute transform to an\r\n   * existing context.\r\n   *\r\n   * All values are handled as floating point values.\r\n   *\r\n   * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n   * @prop {number} a - scale x\r\n   * @prop {number} b - shear y\r\n   * @prop {number} c - shear x\r\n   * @prop {number} d - scale y\r\n   * @prop {number} e - translate x\r\n   * @prop {number} f - translate y\r\n   * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n   * @constructor\r\n   */\n\n  var Matrix = function () {\n    var _cos = Math.cos;\n    var _sin = Math.sin;\n    var _tan = Math.tan;\n    var _rnd = Math.round;\n\n    function reset() {\n      this.props[0] = 1;\n      this.props[1] = 0;\n      this.props[2] = 0;\n      this.props[3] = 0;\n      this.props[4] = 0;\n      this.props[5] = 1;\n      this.props[6] = 0;\n      this.props[7] = 0;\n      this.props[8] = 0;\n      this.props[9] = 0;\n      this.props[10] = 1;\n      this.props[11] = 0;\n      this.props[12] = 0;\n      this.props[13] = 0;\n      this.props[14] = 0;\n      this.props[15] = 1;\n      return this;\n    }\n\n    function rotate(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n\n    function rotateX(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateY(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateZ(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n\n    function shear(sx, sy) {\n      return this._t(1, sy, sx, 1, 0, 0);\n    }\n\n    function skew(ax, ay) {\n      return this.shear(_tan(ax), _tan(ay));\n    }\n\n    function skewFromAxis(ax, angle) {\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); // return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\n    }\n\n    function scale(sx, sy, sz) {\n      if (!sz && sz !== 0) {\n        sz = 1;\n      }\n\n      if (sx === 1 && sy === 1 && sz === 1) {\n        return this;\n      }\n\n      return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\n    }\n\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\n      this.props[0] = a;\n      this.props[1] = b;\n      this.props[2] = c;\n      this.props[3] = d;\n      this.props[4] = e;\n      this.props[5] = f;\n      this.props[6] = g;\n      this.props[7] = h;\n      this.props[8] = i;\n      this.props[9] = j;\n      this.props[10] = k;\n      this.props[11] = l;\n      this.props[12] = m;\n      this.props[13] = n;\n      this.props[14] = o;\n      this.props[15] = p;\n      return this;\n    }\n\n    function translate(tx, ty, tz) {\n      tz = tz || 0;\n\n      if (tx !== 0 || ty !== 0 || tz !== 0) {\n        return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\n      }\n\n      return this;\n    }\n\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\n      var _p = this.props;\n\n      if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\n        // NOTE: commenting this condition because TurboFan deoptimizes code when present\n        // if(m2 !== 0 || n2 !== 0 || o2 !== 0){\n        _p[12] = _p[12] * a2 + _p[15] * m2;\n        _p[13] = _p[13] * f2 + _p[15] * n2;\n        _p[14] = _p[14] * k2 + _p[15] * o2;\n        _p[15] *= p2; // }\n\n        this._identityCalculated = false;\n        return this;\n      }\n\n      var a1 = _p[0];\n      var b1 = _p[1];\n      var c1 = _p[2];\n      var d1 = _p[3];\n      var e1 = _p[4];\n      var f1 = _p[5];\n      var g1 = _p[6];\n      var h1 = _p[7];\n      var i1 = _p[8];\n      var j1 = _p[9];\n      var k1 = _p[10];\n      var l1 = _p[11];\n      var m1 = _p[12];\n      var n1 = _p[13];\n      var o1 = _p[14];\n      var p1 = _p[15];\n      /* matrix order (canvas compatible):\r\n           * ace\r\n           * bdf\r\n           * 001\r\n           */\n\n      _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\n      _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\n      _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\n      _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\n      _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\n      _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\n      _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\n      _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\n      _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\n      _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\n      _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\n      _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\n      _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\n      _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\n      _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\n      _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\n      this._identityCalculated = false;\n      return this;\n    }\n\n    function isIdentity() {\n      if (!this._identityCalculated) {\n        this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\n        this._identityCalculated = true;\n      }\n\n      return this._identity;\n    }\n\n    function equals(matr) {\n      var i = 0;\n\n      while (i < 16) {\n        if (matr.props[i] !== this.props[i]) {\n          return false;\n        }\n\n        i += 1;\n      }\n\n      return true;\n    }\n\n    function clone(matr) {\n      var i;\n\n      for (i = 0; i < 16; i += 1) {\n        matr.props[i] = this.props[i];\n      }\n\n      return matr;\n    }\n\n    function cloneFromProps(props) {\n      var i;\n\n      for (i = 0; i < 16; i += 1) {\n        this.props[i] = props[i];\n      }\n    }\n\n    function applyToPoint(x, y, z) {\n      return {\n        x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\n        y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\n        z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\n      };\n      /* return {\r\n           x: x * me.a + y * me.c + me.e,\r\n           y: x * me.b + y * me.d + me.f\r\n           }; */\n    }\n\n    function applyToX(x, y, z) {\n      return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\n    }\n\n    function applyToY(x, y, z) {\n      return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\n    }\n\n    function applyToZ(x, y, z) {\n      return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\n    }\n\n    function getInverseMatrix() {\n      var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\n      var a = this.props[5] / determinant;\n      var b = -this.props[1] / determinant;\n      var c = -this.props[4] / determinant;\n      var d = this.props[0] / determinant;\n      var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\n      var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\n      var inverseMatrix = new Matrix();\n      inverseMatrix.props[0] = a;\n      inverseMatrix.props[1] = b;\n      inverseMatrix.props[4] = c;\n      inverseMatrix.props[5] = d;\n      inverseMatrix.props[12] = e;\n      inverseMatrix.props[13] = f;\n      return inverseMatrix;\n    }\n\n    function inversePoint(pt) {\n      var inverseMatrix = this.getInverseMatrix();\n      return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0);\n    }\n\n    function inversePoints(pts) {\n      var i;\n      var len = pts.length;\n      var retPts = [];\n\n      for (i = 0; i < len; i += 1) {\n        retPts[i] = inversePoint(pts[i]);\n      }\n\n      return retPts;\n    }\n\n    function applyToTriplePoints(pt1, pt2, pt3) {\n      var arr = createTypedArray('float32', 6);\n\n      if (this.isIdentity()) {\n        arr[0] = pt1[0];\n        arr[1] = pt1[1];\n        arr[2] = pt2[0];\n        arr[3] = pt2[1];\n        arr[4] = pt3[0];\n        arr[5] = pt3[1];\n      } else {\n        var p0 = this.props[0];\n        var p1 = this.props[1];\n        var p4 = this.props[4];\n        var p5 = this.props[5];\n        var p12 = this.props[12];\n        var p13 = this.props[13];\n        arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\n        arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\n        arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\n        arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\n        arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\n        arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\n      }\n\n      return arr;\n    }\n\n    function applyToPointArray(x, y, z) {\n      var arr;\n\n      if (this.isIdentity()) {\n        arr = [x, y, z];\n      } else {\n        arr = [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12], x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13], x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\n      }\n\n      return arr;\n    }\n\n    function applyToPointStringified(x, y) {\n      if (this.isIdentity()) {\n        return x + ',' + y;\n      }\n\n      var _p = this.props;\n      return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100 + ',' + Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\n    }\n\n    function toCSS() {\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n\n      /* if(this.isIdentity()) {\r\n              return '';\r\n          } */\n      var i = 0;\n      var props = this.props;\n      var cssValue = 'matrix3d(';\n      var v = 10000;\n\n      while (i < 16) {\n        cssValue += _rnd(props[i] * v) / v;\n        cssValue += i === 15 ? ')' : ',';\n        i += 1;\n      }\n\n      return cssValue;\n    }\n\n    function roundMatrixProperty(val) {\n      var v = 10000;\n\n      if (val < 0.000001 && val > 0 || val > -0.000001 && val < 0) {\n        return _rnd(val * v) / v;\n      }\n\n      return val;\n    }\n\n    function to2dCSS() {\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n\n      /* if(this.isIdentity()) {\r\n              return '';\r\n          } */\n      var props = this.props;\n\n      var _a = roundMatrixProperty(props[0]);\n\n      var _b = roundMatrixProperty(props[1]);\n\n      var _c = roundMatrixProperty(props[4]);\n\n      var _d = roundMatrixProperty(props[5]);\n\n      var _e = roundMatrixProperty(props[12]);\n\n      var _f = roundMatrixProperty(props[13]);\n\n      return 'matrix(' + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + ')';\n    }\n\n    return function () {\n      this.reset = reset;\n      this.rotate = rotate;\n      this.rotateX = rotateX;\n      this.rotateY = rotateY;\n      this.rotateZ = rotateZ;\n      this.skew = skew;\n      this.skewFromAxis = skewFromAxis;\n      this.shear = shear;\n      this.scale = scale;\n      this.setTransform = setTransform;\n      this.translate = translate;\n      this.transform = transform;\n      this.applyToPoint = applyToPoint;\n      this.applyToX = applyToX;\n      this.applyToY = applyToY;\n      this.applyToZ = applyToZ;\n      this.applyToPointArray = applyToPointArray;\n      this.applyToTriplePoints = applyToTriplePoints;\n      this.applyToPointStringified = applyToPointStringified;\n      this.toCSS = toCSS;\n      this.to2dCSS = to2dCSS;\n      this.clone = clone;\n      this.cloneFromProps = cloneFromProps;\n      this.equals = equals;\n      this.inversePoints = inversePoints;\n      this.inversePoint = inversePoint;\n      this.getInverseMatrix = getInverseMatrix;\n      this._t = this.transform;\n      this.isIdentity = isIdentity;\n      this._identity = true;\n      this._identityCalculated = false;\n      this.props = createTypedArray('float32', 16);\n      this.reset();\n    };\n  }();\n\n  function _typeof$3(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$3 = function _typeof(obj) { return typeof obj; }; } else { _typeof$3 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$3(obj); }\n  var lottie = {};\n  var standalone = '__[STANDALONE]__';\n  var animationData = '__[ANIMATIONDATA]__';\n  var renderer = '';\n\n  function setLocation(href) {\n    setLocationHref(href);\n  }\n\n  function searchAnimations() {\n    if (standalone === true) {\n      animationManager.searchAnimations(animationData, standalone, renderer);\n    } else {\n      animationManager.searchAnimations();\n    }\n  }\n\n  function setSubframeRendering(flag) {\n    setSubframeEnabled(flag);\n  }\n\n  function setPrefix(prefix) {\n    setIdPrefix(prefix);\n  }\n\n  function loadAnimation(params) {\n    if (standalone === true) {\n      params.animationData = JSON.parse(animationData);\n    }\n\n    return animationManager.loadAnimation(params);\n  }\n\n  function setQuality(value) {\n    if (typeof value === 'string') {\n      switch (value) {\n        case 'high':\n          setDefaultCurveSegments(200);\n          break;\n\n        default:\n        case 'medium':\n          setDefaultCurveSegments(50);\n          break;\n\n        case 'low':\n          setDefaultCurveSegments(10);\n          break;\n      }\n    } else if (!isNaN(value) && value > 1) {\n      setDefaultCurveSegments(value);\n    }\n\n    if (getDefaultCurveSegments() >= 50) {\n      roundValues(false);\n    } else {\n      roundValues(true);\n    }\n  }\n\n  function inBrowser() {\n    return typeof navigator !== 'undefined';\n  }\n\n  function installPlugin(type, plugin) {\n    if (type === 'expressions') {\n      setExpressionsPlugin(plugin);\n    }\n  }\n\n  function getFactory(name) {\n    switch (name) {\n      case 'propertyFactory':\n        return PropertyFactory;\n\n      case 'shapePropertyFactory':\n        return ShapePropertyFactory;\n\n      case 'matrix':\n        return Matrix;\n\n      default:\n        return null;\n    }\n  }\n\n  lottie.play = animationManager.play;\n  lottie.pause = animationManager.pause;\n  lottie.setLocationHref = setLocation;\n  lottie.togglePause = animationManager.togglePause;\n  lottie.setSpeed = animationManager.setSpeed;\n  lottie.setDirection = animationManager.setDirection;\n  lottie.stop = animationManager.stop;\n  lottie.searchAnimations = searchAnimations;\n  lottie.registerAnimation = animationManager.registerAnimation;\n  lottie.loadAnimation = loadAnimation;\n  lottie.setSubframeRendering = setSubframeRendering;\n  lottie.resize = animationManager.resize; // lottie.start = start;\n\n  lottie.goToAndStop = animationManager.goToAndStop;\n  lottie.destroy = animationManager.destroy;\n  lottie.setQuality = setQuality;\n  lottie.inBrowser = inBrowser;\n  lottie.installPlugin = installPlugin;\n  lottie.freeze = animationManager.freeze;\n  lottie.unfreeze = animationManager.unfreeze;\n  lottie.setVolume = animationManager.setVolume;\n  lottie.mute = animationManager.mute;\n  lottie.unmute = animationManager.unmute;\n  lottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\n  lottie.useWebWorker = setWebWorker;\n  lottie.setIDPrefix = setPrefix;\n  lottie.__getFactory = getFactory;\n  lottie.version = '5.9.6';\n\n  function checkReady() {\n    if (document.readyState === 'complete') {\n      clearInterval(readyStateCheckInterval);\n      searchAnimations();\n    }\n  }\n\n  function getQueryVariable(variable) {\n    var vars = queryString.split('&');\n\n    for (var i = 0; i < vars.length; i += 1) {\n      var pair = vars[i].split('=');\n\n      if (decodeURIComponent(pair[0]) == variable) {\n        // eslint-disable-line eqeqeq\n        return decodeURIComponent(pair[1]);\n      }\n    }\n\n    return null;\n  }\n\n  var queryString = '';\n\n  if (standalone) {\n    var scripts = document.getElementsByTagName('script');\n    var index = scripts.length - 1;\n    var myScript = scripts[index] || {\n      src: ''\n    };\n    queryString = myScript.src ? myScript.src.replace(/^[^\\?]+\\??/, '') : ''; // eslint-disable-line no-useless-escape\n\n    renderer = getQueryVariable('renderer');\n  }\n\n  var readyStateCheckInterval = setInterval(checkReady, 100); // this adds bodymovin to the window object for backwards compatibility\n\n  try {\n    if (!((typeof exports === \"undefined\" ? \"undefined\" : _typeof$3(exports)) === 'object' && typeof module !== 'undefined') && !(typeof define === 'function' && define.amd) // eslint-disable-line no-undef\n    ) {\n      window.bodymovin = lottie;\n    }\n  } catch (err) {//\n  }\n\n  var ShapeModifiers = function () {\n    var ob = {};\n    var modifiers = {};\n    ob.registerModifier = registerModifier;\n    ob.getModifier = getModifier;\n\n    function registerModifier(nm, factory) {\n      if (!modifiers[nm]) {\n        modifiers[nm] = factory;\n      }\n    }\n\n    function getModifier(nm, elem, data) {\n      return new modifiers[nm](elem, data);\n    }\n\n    return ob;\n  }();\n\n  function ShapeModifier() {}\n\n  ShapeModifier.prototype.initModifierProperties = function () {};\n\n  ShapeModifier.prototype.addShapeToModifier = function () {};\n\n  ShapeModifier.prototype.addShape = function (data) {\n    if (!this.closed) {\n      // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\n      data.sh.container.addDynamicProperty(data.sh);\n      var shapeData = {\n        shape: data.sh,\n        data: data,\n        localShapeCollection: shapeCollectionPool.newShapeCollection()\n      };\n      this.shapes.push(shapeData);\n      this.addShapeToModifier(shapeData);\n\n      if (this._isAnimated) {\n        data.setAsAnimated();\n      }\n    }\n  };\n\n  ShapeModifier.prototype.init = function (elem, data) {\n    this.shapes = [];\n    this.elem = elem;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, data);\n    this.frameId = initialDefaultFrame;\n    this.closed = false;\n    this.k = false;\n\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  };\n\n  ShapeModifier.prototype.processKeys = function () {\n    if (this.elem.globalData.frameId === this.frameId) {\n      return;\n    }\n\n    this.frameId = this.elem.globalData.frameId;\n    this.iterateDynamicProperties();\n  };\n\n  extendPrototype([DynamicPropertyContainer], ShapeModifier);\n\n  function TrimModifier() {}\n\n  extendPrototype([ShapeModifier], TrimModifier);\n\n  TrimModifier.prototype.initModifierProperties = function (elem, data) {\n    this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\n    this.sValue = 0;\n    this.eValue = 0;\n    this.getValue = this.processKeys;\n    this.m = data.m;\n    this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\n  };\n\n  TrimModifier.prototype.addShapeToModifier = function (shapeData) {\n    shapeData.pathsData = [];\n  };\n\n  TrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\n    var segments = [];\n\n    if (e <= 1) {\n      segments.push({\n        s: s,\n        e: e\n      });\n    } else if (s >= 1) {\n      segments.push({\n        s: s - 1,\n        e: e - 1\n      });\n    } else {\n      segments.push({\n        s: s,\n        e: 1\n      });\n      segments.push({\n        s: 0,\n        e: e - 1\n      });\n    }\n\n    var shapeSegments = [];\n    var i;\n    var len = segments.length;\n    var segmentOb;\n\n    for (i = 0; i < len; i += 1) {\n      segmentOb = segments[i];\n\n      if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {\n        var shapeS;\n        var shapeE;\n\n        if (segmentOb.s * totalModifierLength <= addedLength) {\n          shapeS = 0;\n        } else {\n          shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\n        }\n\n        if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\n          shapeE = 1;\n        } else {\n          shapeE = (segmentOb.e * totalModifierLength - addedLength) / shapeLength;\n        }\n\n        shapeSegments.push([shapeS, shapeE]);\n      }\n    }\n\n    if (!shapeSegments.length) {\n      shapeSegments.push([0, 0]);\n    }\n\n    return shapeSegments;\n  };\n\n  TrimModifier.prototype.releasePathsData = function (pathsData) {\n    var i;\n    var len = pathsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      segmentsLengthPool.release(pathsData[i]);\n    }\n\n    pathsData.length = 0;\n    return pathsData;\n  };\n\n  TrimModifier.prototype.processShapes = function (_isFirstFrame) {\n    var s;\n    var e;\n\n    if (this._mdf || _isFirstFrame) {\n      var o = this.o.v % 360 / 360;\n\n      if (o < 0) {\n        o += 1;\n      }\n\n      if (this.s.v > 1) {\n        s = 1 + o;\n      } else if (this.s.v < 0) {\n        s = 0 + o;\n      } else {\n        s = this.s.v + o;\n      }\n\n      if (this.e.v > 1) {\n        e = 1 + o;\n      } else if (this.e.v < 0) {\n        e = 0 + o;\n      } else {\n        e = this.e.v + o;\n      }\n\n      if (s > e) {\n        var _s = s;\n        s = e;\n        e = _s;\n      }\n\n      s = Math.round(s * 10000) * 0.0001;\n      e = Math.round(e * 10000) * 0.0001;\n      this.sValue = s;\n      this.eValue = e;\n    } else {\n      s = this.sValue;\n      e = this.eValue;\n    }\n\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var pathsData;\n    var pathData;\n    var totalShapeLength;\n    var totalModifierLength = 0;\n\n    if (e === s) {\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].localShapeCollection.releaseShapes();\n        this.shapes[i].shape._mdf = true;\n        this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\n\n        if (this._mdf) {\n          this.shapes[i].pathsData.length = 0;\n        }\n      }\n    } else if (!(e === 1 && s === 0 || e === 0 && s === 1)) {\n      var segments = [];\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i]; // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\n\n        if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\n          shapeData.shape.paths = shapeData.localShapeCollection;\n        } else {\n          shapePaths = shapeData.shape.paths;\n          jLen = shapePaths._length;\n          totalShapeLength = 0;\n\n          if (!shapeData.shape._mdf && shapeData.pathsData.length) {\n            totalShapeLength = shapeData.totalShapeLength;\n          } else {\n            pathsData = this.releasePathsData(shapeData.pathsData);\n\n            for (j = 0; j < jLen; j += 1) {\n              pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\n              pathsData.push(pathData);\n              totalShapeLength += pathData.totalLength;\n            }\n\n            shapeData.totalShapeLength = totalShapeLength;\n            shapeData.pathsData = pathsData;\n          }\n\n          totalModifierLength += totalShapeLength;\n          shapeData.shape._mdf = true;\n        }\n      }\n\n      var shapeS = s;\n      var shapeE = e;\n      var addedLength = 0;\n      var edges;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        shapeData = this.shapes[i];\n\n        if (shapeData.shape._mdf) {\n          localShapeCollection = shapeData.localShapeCollection;\n          localShapeCollection.releaseShapes(); // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\n\n          if (this.m === 2 && len > 1) {\n            edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\n            addedLength += shapeData.totalShapeLength;\n          } else {\n            edges = [[shapeS, shapeE]];\n          }\n\n          jLen = edges.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            shapeS = edges[j][0];\n            shapeE = edges[j][1];\n            segments.length = 0;\n\n            if (shapeE <= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength * shapeE\n              });\n            } else if (shapeS >= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * (shapeS - 1),\n                e: shapeData.totalShapeLength * (shapeE - 1)\n              });\n            } else {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength\n              });\n              segments.push({\n                s: 0,\n                e: shapeData.totalShapeLength * (shapeE - 1)\n              });\n            }\n\n            var newShapesData = this.addShapes(shapeData, segments[0]);\n\n            if (segments[0].s !== segments[0].e) {\n              if (segments.length > 1) {\n                var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\n\n                if (lastShapeInCollection.c) {\n                  var lastShape = newShapesData.pop();\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1], lastShape);\n                } else {\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1]);\n                }\n              }\n\n              this.addPaths(newShapesData, localShapeCollection);\n            }\n          }\n\n          shapeData.shape.paths = localShapeCollection;\n        }\n      }\n    } else if (this._mdf) {\n      for (i = 0; i < len; i += 1) {\n        // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\n        // Don't remove this even if it's losing cached info.\n        this.shapes[i].pathsData.length = 0;\n        this.shapes[i].shape._mdf = true;\n      }\n    }\n  };\n\n  TrimModifier.prototype.addPaths = function (newPaths, localShapeCollection) {\n    var i;\n    var len = newPaths.length;\n\n    for (i = 0; i < len; i += 1) {\n      localShapeCollection.addShape(newPaths[i]);\n    }\n  };\n\n  TrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\n    shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\n    shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\n\n    if (newShape) {\n      shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\n    }\n\n    shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\n  };\n\n  TrimModifier.prototype.addSegmentFromArray = function (points, shapePath, pos, newShape) {\n    shapePath.setXYAt(points[1], points[5], 'o', pos);\n    shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\n\n    if (newShape) {\n      shapePath.setXYAt(points[0], points[4], 'v', pos);\n    }\n\n    shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\n  };\n\n  TrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\n    var pathsData = shapeData.pathsData;\n    var shapePaths = shapeData.shape.paths.shapes;\n    var i;\n    var len = shapeData.shape.paths._length;\n    var j;\n    var jLen;\n    var addedLength = 0;\n    var currentLengthData;\n    var segmentCount;\n    var lengths;\n    var segment;\n    var shapes = [];\n    var initPos;\n    var newShape = true;\n\n    if (!shapePath) {\n      shapePath = shapePool.newElement();\n      segmentCount = 0;\n      initPos = 0;\n    } else {\n      segmentCount = shapePath._length;\n      initPos = shapePath._length;\n    }\n\n    shapes.push(shapePath);\n\n    for (i = 0; i < len; i += 1) {\n      lengths = pathsData[i].lengths;\n      shapePath.c = shapePaths[i].c;\n      jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\n\n      for (j = 1; j < jLen; j += 1) {\n        currentLengthData = lengths[j - 1];\n\n        if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\n          addedLength += currentLengthData.addedLength;\n          shapePath.c = false;\n        } else if (addedLength > shapeSegment.e) {\n          shapePath.c = false;\n          break;\n        } else {\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n\n            newShape = false;\n            shapePath.c = false;\n          }\n\n          addedLength += currentLengthData.addedLength;\n          segmentCount += 1;\n        }\n      }\n\n      if (shapePaths[i].c && lengths.length) {\n        currentLengthData = lengths[j - 1];\n\n        if (addedLength <= shapeSegment.e) {\n          var segmentLength = lengths[j - 1].addedLength;\n\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n\n            newShape = false;\n            shapePath.c = false;\n          }\n        } else {\n          shapePath.c = false;\n        }\n\n        addedLength += currentLengthData.addedLength;\n        segmentCount += 1;\n      }\n\n      if (shapePath._length) {\n        shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\n        shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\n      }\n\n      if (addedLength > shapeSegment.e) {\n        break;\n      }\n\n      if (i < len - 1) {\n        shapePath = shapePool.newElement();\n        newShape = true;\n        shapes.push(shapePath);\n        segmentCount = 0;\n      }\n    }\n\n    return shapes;\n  };\n\n  function PuckerAndBloatModifier() {}\n\n  extendPrototype([ShapeModifier], PuckerAndBloatModifier);\n\n  PuckerAndBloatModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\n    this._isAnimated = !!this.amount.effectsSequence.length;\n  };\n\n  PuckerAndBloatModifier.prototype.processPath = function (path, amount) {\n    var percent = amount / 100;\n    var centerPoint = [0, 0];\n    var pathLength = path._length;\n    var i = 0;\n\n    for (i = 0; i < pathLength; i += 1) {\n      centerPoint[0] += path.v[i][0];\n      centerPoint[1] += path.v[i][1];\n    }\n\n    centerPoint[0] /= pathLength;\n    centerPoint[1] /= pathLength;\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n    var vX;\n    var vY;\n    var oX;\n    var oY;\n    var iX;\n    var iY;\n\n    for (i = 0; i < pathLength; i += 1) {\n      vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\n      vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\n      oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\n      oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\n      iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\n      iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\n      clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i);\n    }\n\n    return clonedPath;\n  };\n\n  PuckerAndBloatModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var amount = this.amount.v;\n\n    if (amount !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  var TransformPropertyFactory = function () {\n    var defaultVector = [0, 0];\n\n    function applyToMatrix(mat) {\n      var _mdf = this._mdf;\n      this.iterateDynamicProperties();\n      this._mdf = this._mdf || _mdf;\n\n      if (this.a) {\n        mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n      }\n\n      if (this.s) {\n        mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n      }\n\n      if (this.sk) {\n        mat.skewFromAxis(-this.sk.v, this.sa.v);\n      }\n\n      if (this.r) {\n        mat.rotate(-this.r.v);\n      } else {\n        mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n      }\n\n      if (this.data.p.s) {\n        if (this.data.p.z) {\n          mat.translate(this.px.v, this.py.v, -this.pz.v);\n        } else {\n          mat.translate(this.px.v, this.py.v, 0);\n        }\n      } else {\n        mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n      }\n    }\n\n    function processKeys(forceRender) {\n      if (this.elem.globalData.frameId === this.frameId) {\n        return;\n      }\n\n      if (this._isDirty) {\n        this.precalculateMatrix();\n        this._isDirty = false;\n      }\n\n      this.iterateDynamicProperties();\n\n      if (this._mdf || forceRender) {\n        var frameRate;\n        this.v.cloneFromProps(this.pre.props);\n\n        if (this.appliedTransformations < 1) {\n          this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n        }\n\n        if (this.appliedTransformations < 2) {\n          this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n        }\n\n        if (this.sk && this.appliedTransformations < 3) {\n          this.v.skewFromAxis(-this.sk.v, this.sa.v);\n        }\n\n        if (this.r && this.appliedTransformations < 4) {\n          this.v.rotate(-this.r.v);\n        } else if (!this.r && this.appliedTransformations < 4) {\n          this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n        }\n\n        if (this.autoOriented) {\n          var v1;\n          var v2;\n          frameRate = this.elem.globalData.frameRate;\n\n          if (this.p && this.p.keyframes && this.p.getValueAtTime) {\n            if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\n              v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\n              v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\n            } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\n              v1 = this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length - 1].t / frameRate, 0);\n              v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\n            } else {\n              v1 = this.p.pv;\n              v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\n            }\n          } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\n            v1 = [];\n            v2 = [];\n            var px = this.px;\n            var py = this.py;\n\n            if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {\n              v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\n              v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\n              v2[0] = px.getValueAtTime(px.keyframes[0].t / frameRate, 0);\n              v2[1] = py.getValueAtTime(py.keyframes[0].t / frameRate, 0);\n            } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\n              v1[0] = px.getValueAtTime(px.keyframes[px.keyframes.length - 1].t / frameRate, 0);\n              v1[1] = py.getValueAtTime(py.keyframes[py.keyframes.length - 1].t / frameRate, 0);\n              v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\n              v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\n            } else {\n              v1 = [px.pv, py.pv];\n              v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);\n              v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);\n            }\n          } else {\n            v2 = defaultVector;\n            v1 = v2;\n          }\n\n          this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\n        }\n\n        if (this.data.p && this.data.p.s) {\n          if (this.data.p.z) {\n            this.v.translate(this.px.v, this.py.v, -this.pz.v);\n          } else {\n            this.v.translate(this.px.v, this.py.v, 0);\n          }\n        } else {\n          this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n        }\n      }\n\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function precalculateMatrix() {\n      if (!this.a.k) {\n        this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n        this.appliedTransformations = 1;\n      } else {\n        return;\n      }\n\n      if (!this.s.effectsSequence.length) {\n        this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n        this.appliedTransformations = 2;\n      } else {\n        return;\n      }\n\n      if (this.sk) {\n        if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\n          this.pre.skewFromAxis(-this.sk.v, this.sa.v);\n          this.appliedTransformations = 3;\n        } else {\n          return;\n        }\n      }\n\n      if (this.r) {\n        if (!this.r.effectsSequence.length) {\n          this.pre.rotate(-this.r.v);\n          this.appliedTransformations = 4;\n        }\n      } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\n        this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n        this.appliedTransformations = 4;\n      }\n    }\n\n    function autoOrient() {//\n      // var prevP = this.getValueAtTime();\n    }\n\n    function addDynamicProperty(prop) {\n      this._addDynamicProperty(prop);\n\n      this.elem.addDynamicProperty(prop);\n      this._isDirty = true;\n    }\n\n    function TransformProperty(elem, data, container) {\n      this.elem = elem;\n      this.frameId = -1;\n      this.propType = 'transform';\n      this.data = data;\n      this.v = new Matrix(); // Precalculated matrix with non animated properties\n\n      this.pre = new Matrix();\n      this.appliedTransformations = 0;\n      this.initDynamicPropertyContainer(container || elem);\n\n      if (data.p && data.p.s) {\n        this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\n        this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\n\n        if (data.p.z) {\n          this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\n        }\n      } else {\n        this.p = PropertyFactory.getProp(elem, data.p || {\n          k: [0, 0, 0]\n        }, 1, 0, this);\n      }\n\n      if (data.rx) {\n        this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\n        this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\n        this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\n\n        if (data.or.k[0].ti) {\n          var i;\n          var len = data.or.k.length;\n\n          for (i = 0; i < len; i += 1) {\n            data.or.k[i].to = null;\n            data.or.k[i].ti = null;\n          }\n        }\n\n        this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this); // sh Indicates it needs to be capped between -180 and 180\n\n        this.or.sh = true;\n      } else {\n        this.r = PropertyFactory.getProp(elem, data.r || {\n          k: 0\n        }, 0, degToRads, this);\n      }\n\n      if (data.sk) {\n        this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\n        this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\n      }\n\n      this.a = PropertyFactory.getProp(elem, data.a || {\n        k: [0, 0, 0]\n      }, 1, 0, this);\n      this.s = PropertyFactory.getProp(elem, data.s || {\n        k: [100, 100, 100]\n      }, 1, 0.01, this); // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\n\n      if (data.o) {\n        this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\n      } else {\n        this.o = {\n          _mdf: false,\n          v: 1\n        };\n      }\n\n      this._isDirty = true;\n\n      if (!this.dynamicProperties.length) {\n        this.getValue(true);\n      }\n    }\n\n    TransformProperty.prototype = {\n      applyToMatrix: applyToMatrix,\n      getValue: processKeys,\n      precalculateMatrix: precalculateMatrix,\n      autoOrient: autoOrient\n    };\n    extendPrototype([DynamicPropertyContainer], TransformProperty);\n    TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\n    TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\n\n    function getTransformProperty(elem, data, container) {\n      return new TransformProperty(elem, data, container);\n    }\n\n    return {\n      getTransformProperty: getTransformProperty\n    };\n  }();\n\n  function RepeaterModifier() {}\n\n  extendPrototype([ShapeModifier], RepeaterModifier);\n\n  RepeaterModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\n    this.tr = TransformPropertyFactory.getTransformProperty(elem, data.tr, this);\n    this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\n    this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\n    this.data = data;\n\n    if (!this.dynamicProperties.length) {\n      this.getValue(true);\n    }\n\n    this._isAnimated = !!this.dynamicProperties.length;\n    this.pMatrix = new Matrix();\n    this.rMatrix = new Matrix();\n    this.sMatrix = new Matrix();\n    this.tMatrix = new Matrix();\n    this.matrix = new Matrix();\n  };\n\n  RepeaterModifier.prototype.applyTransforms = function (pMatrix, rMatrix, sMatrix, transform, perc, inv) {\n    var dir = inv ? -1 : 1;\n    var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\n    var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\n    pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\n    rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    rMatrix.rotate(-transform.r.v * dir * perc);\n    rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n    sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);\n    sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n  };\n\n  RepeaterModifier.prototype.init = function (elem, arr, pos, elemsData) {\n    this.elem = elem;\n    this.arr = arr;\n    this.pos = pos;\n    this.elemsData = elemsData;\n    this._currentCopies = 0;\n    this._elements = [];\n    this._groups = [];\n    this.frameId = -1;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, arr[pos]);\n\n    while (pos > 0) {\n      pos -= 1; // this._elements.unshift(arr.splice(pos,1)[0]);\n\n      this._elements.unshift(arr[pos]);\n    }\n\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  };\n\n  RepeaterModifier.prototype.resetElements = function (elements) {\n    var i;\n    var len = elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      elements[i]._processed = false;\n\n      if (elements[i].ty === 'gr') {\n        this.resetElements(elements[i].it);\n      }\n    }\n  };\n\n  RepeaterModifier.prototype.cloneElements = function (elements) {\n    var newElements = JSON.parse(JSON.stringify(elements));\n    this.resetElements(newElements);\n    return newElements;\n  };\n\n  RepeaterModifier.prototype.changeGroupRender = function (elements, renderFlag) {\n    var i;\n    var len = elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      elements[i]._render = renderFlag;\n\n      if (elements[i].ty === 'gr') {\n        this.changeGroupRender(elements[i].it, renderFlag);\n      }\n    }\n  };\n\n  RepeaterModifier.prototype.processShapes = function (_isFirstFrame) {\n    var items;\n    var itemsTransform;\n    var i;\n    var dir;\n    var cont;\n    var hasReloaded = false;\n\n    if (this._mdf || _isFirstFrame) {\n      var copies = Math.ceil(this.c.v);\n\n      if (this._groups.length < copies) {\n        while (this._groups.length < copies) {\n          var group = {\n            it: this.cloneElements(this._elements),\n            ty: 'gr'\n          };\n          group.it.push({\n            a: {\n              a: 0,\n              ix: 1,\n              k: [0, 0]\n            },\n            nm: 'Transform',\n            o: {\n              a: 0,\n              ix: 7,\n              k: 100\n            },\n            p: {\n              a: 0,\n              ix: 2,\n              k: [0, 0]\n            },\n            r: {\n              a: 1,\n              ix: 6,\n              k: [{\n                s: 0,\n                e: 0,\n                t: 0\n              }, {\n                s: 0,\n                e: 0,\n                t: 1\n              }]\n            },\n            s: {\n              a: 0,\n              ix: 3,\n              k: [100, 100]\n            },\n            sa: {\n              a: 0,\n              ix: 5,\n              k: 0\n            },\n            sk: {\n              a: 0,\n              ix: 4,\n              k: 0\n            },\n            ty: 'tr'\n          });\n          this.arr.splice(0, 0, group);\n\n          this._groups.splice(0, 0, group);\n\n          this._currentCopies += 1;\n        }\n\n        this.elem.reloadShapes();\n        hasReloaded = true;\n      }\n\n      cont = 0;\n      var renderFlag;\n\n      for (i = 0; i <= this._groups.length - 1; i += 1) {\n        renderFlag = cont < copies;\n        this._groups[i]._render = renderFlag;\n        this.changeGroupRender(this._groups[i].it, renderFlag);\n\n        if (!renderFlag) {\n          var elems = this.elemsData[i].it;\n          var transformData = elems[elems.length - 1];\n\n          if (transformData.transform.op.v !== 0) {\n            transformData.transform.op._mdf = true;\n            transformData.transform.op.v = 0;\n          } else {\n            transformData.transform.op._mdf = false;\n          }\n        }\n\n        cont += 1;\n      }\n\n      this._currentCopies = copies; /// /\n\n      var offset = this.o.v;\n      var offsetModulo = offset % 1;\n      var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\n      var pProps = this.pMatrix.props;\n      var rProps = this.rMatrix.props;\n      var sProps = this.sMatrix.props;\n      this.pMatrix.reset();\n      this.rMatrix.reset();\n      this.sMatrix.reset();\n      this.tMatrix.reset();\n      this.matrix.reset();\n      var iteration = 0;\n\n      if (offset > 0) {\n        while (iteration < roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          iteration += 1;\n        }\n\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\n          iteration += offsetModulo;\n        }\n      } else if (offset < 0) {\n        while (iteration > roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\n          iteration -= 1;\n        }\n\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);\n          iteration -= offsetModulo;\n        }\n      }\n\n      i = this.data.m === 1 ? 0 : this._currentCopies - 1;\n      dir = this.data.m === 1 ? 1 : -1;\n      cont = this._currentCopies;\n      var j;\n      var jLen;\n\n      while (cont) {\n        items = this.elemsData[i].it;\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        jLen = itemsTransform.length;\n        items[items.length - 1].transform.mProps._mdf = true;\n        items[items.length - 1].transform.op._mdf = true;\n        items[items.length - 1].transform.op.v = this._currentCopies === 1 ? this.so.v : this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\n\n        if (iteration !== 0) {\n          if (i !== 0 && dir === 1 || i !== this._currentCopies - 1 && dir === -1) {\n            this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          }\n\n          this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\n          this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\n          this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n\n          this.matrix.reset();\n        } else {\n          this.matrix.reset();\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n        }\n\n        iteration += 1;\n        cont -= 1;\n        i += dir;\n      }\n    } else {\n      cont = this._currentCopies;\n      i = 0;\n      dir = 1;\n\n      while (cont) {\n        items = this.elemsData[i].it;\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        items[items.length - 1].transform.mProps._mdf = false;\n        items[items.length - 1].transform.op._mdf = false;\n        cont -= 1;\n        i += dir;\n      }\n    }\n\n    return hasReloaded;\n  };\n\n  RepeaterModifier.prototype.addShape = function () {};\n\n  function RoundCornersModifier() {}\n\n  extendPrototype([ShapeModifier], RoundCornersModifier);\n\n  RoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\n    this._isAnimated = !!this.rd.effectsSequence.length;\n  };\n\n  RoundCornersModifier.prototype.processPath = function (path, round) {\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n    var i;\n    var len = path._length;\n    var currentV;\n    var currentI;\n    var currentO;\n    var closerV;\n    var distance;\n    var newPosPerc;\n    var index = 0;\n    var vX;\n    var vY;\n    var oX;\n    var oY;\n    var iX;\n    var iY;\n\n    for (i = 0; i < len; i += 1) {\n      currentV = path.v[i];\n      currentO = path.o[i];\n      currentI = path.i[i];\n\n      if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\n        if ((i === 0 || i === len - 1) && !path.c) {\n          clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\n          /* clonedPath.v[index] = currentV;\r\n                  clonedPath.o[index] = currentO;\r\n                  clonedPath.i[index] = currentI; */\n\n          index += 1;\n        } else {\n          if (i === 0) {\n            closerV = path.v[len - 1];\n          } else {\n            closerV = path.v[i - 1];\n          }\n\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n          iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n          vX = iX;\n          iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;\n          vY = iY;\n          oX = vX - (vX - currentV[0]) * roundCorner;\n          oY = vY - (vY - currentV[1]) * roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n\n          if (i === len - 1) {\n            closerV = path.v[0];\n          } else {\n            closerV = path.v[i + 1];\n          }\n\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n          oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n          vX = oX;\n          oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;\n          vY = oY;\n          iX = vX - (vX - currentV[0]) * roundCorner;\n          iY = vY - (vY - currentV[1]) * roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n        }\n      } else {\n        clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\n        index += 1;\n      }\n    }\n\n    return clonedPath;\n  };\n\n  RoundCornersModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var rd = this.rd.v;\n\n    if (rd !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  function getFontProperties(fontData) {\n    var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\n    var fWeight = 'normal';\n    var fStyle = 'normal';\n    var len = styles.length;\n    var styleName;\n\n    for (var i = 0; i < len; i += 1) {\n      styleName = styles[i].toLowerCase();\n\n      switch (styleName) {\n        case 'italic':\n          fStyle = 'italic';\n          break;\n\n        case 'bold':\n          fWeight = '700';\n          break;\n\n        case 'black':\n          fWeight = '900';\n          break;\n\n        case 'medium':\n          fWeight = '500';\n          break;\n\n        case 'regular':\n        case 'normal':\n          fWeight = '400';\n          break;\n\n        case 'light':\n        case 'thin':\n          fWeight = '200';\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    return {\n      style: fStyle,\n      weight: fontData.fWeight || fWeight\n    };\n  }\n\n  var FontManager = function () {\n    var maxWaitingTime = 5000;\n    var emptyChar = {\n      w: 0,\n      size: 0,\n      shapes: [],\n      data: {\n        shapes: []\n      }\n    };\n    var combinedCharacters = []; // Hindi characters\n\n    combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366, 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379, 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\n    var surrogateModifiers = ['d83cdffb', 'd83cdffc', 'd83cdffd', 'd83cdffe', 'd83cdfff'];\n    var zeroWidthJoiner = [65039, 8205];\n\n    function trimFontOptions(font) {\n      var familyArray = font.split(',');\n      var i;\n      var len = familyArray.length;\n      var enabledFamilies = [];\n\n      for (i = 0; i < len; i += 1) {\n        if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\n          enabledFamilies.push(familyArray[i]);\n        }\n      }\n\n      return enabledFamilies.join(',');\n    }\n\n    function setUpNode(font, family) {\n      var parentNode = createTag('span'); // Node is invisible to screen readers.\n\n      parentNode.setAttribute('aria-hidden', true);\n      parentNode.style.fontFamily = family;\n      var node = createTag('span'); // Characters that vary significantly among different fonts\n\n      node.innerText = 'giItT1WQy@!-/#'; // Visible - so we can measure it - but not on the screen\n\n      parentNode.style.position = 'absolute';\n      parentNode.style.left = '-10000px';\n      parentNode.style.top = '-10000px'; // Large font size makes even subtle changes obvious\n\n      parentNode.style.fontSize = '300px'; // Reset any font properties\n\n      parentNode.style.fontVariant = 'normal';\n      parentNode.style.fontStyle = 'normal';\n      parentNode.style.fontWeight = 'normal';\n      parentNode.style.letterSpacing = '0';\n      parentNode.appendChild(node);\n      document.body.appendChild(parentNode); // Remember width with no applied web font\n\n      var width = node.offsetWidth;\n      node.style.fontFamily = trimFontOptions(font) + ', ' + family;\n      return {\n        node: node,\n        w: width,\n        parent: parentNode\n      };\n    }\n\n    function checkLoadedFonts() {\n      var i;\n      var len = this.fonts.length;\n      var node;\n      var w;\n      var loadedCount = len;\n\n      for (i = 0; i < len; i += 1) {\n        if (this.fonts[i].loaded) {\n          loadedCount -= 1;\n        } else if (this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0) {\n          this.fonts[i].loaded = true;\n        } else {\n          node = this.fonts[i].monoCase.node;\n          w = this.fonts[i].monoCase.w;\n\n          if (node.offsetWidth !== w) {\n            loadedCount -= 1;\n            this.fonts[i].loaded = true;\n          } else {\n            node = this.fonts[i].sansCase.node;\n            w = this.fonts[i].sansCase.w;\n\n            if (node.offsetWidth !== w) {\n              loadedCount -= 1;\n              this.fonts[i].loaded = true;\n            }\n          }\n\n          if (this.fonts[i].loaded) {\n            this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\n            this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\n          }\n        }\n      }\n\n      if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\n        setTimeout(this.checkLoadedFontsBinded, 20);\n      } else {\n        setTimeout(this.setIsLoadedBinded, 10);\n      }\n    }\n\n    function createHelper(fontData, def) {\n      var engine = document.body && def ? 'svg' : 'canvas';\n      var helper;\n      var fontProps = getFontProperties(fontData);\n\n      if (engine === 'svg') {\n        var tHelper = createNS('text');\n        tHelper.style.fontSize = '100px'; // tHelper.style.fontFamily = fontData.fFamily;\n\n        tHelper.setAttribute('font-family', fontData.fFamily);\n        tHelper.setAttribute('font-style', fontProps.style);\n        tHelper.setAttribute('font-weight', fontProps.weight);\n        tHelper.textContent = '1';\n\n        if (fontData.fClass) {\n          tHelper.style.fontFamily = 'inherit';\n          tHelper.setAttribute('class', fontData.fClass);\n        } else {\n          tHelper.style.fontFamily = fontData.fFamily;\n        }\n\n        def.appendChild(tHelper);\n        helper = tHelper;\n      } else {\n        var tCanvasHelper = new OffscreenCanvas(500, 500).getContext('2d');\n        tCanvasHelper.font = fontProps.style + ' ' + fontProps.weight + ' 100px ' + fontData.fFamily;\n        helper = tCanvasHelper;\n      }\n\n      function measure(text) {\n        if (engine === 'svg') {\n          helper.textContent = text;\n          return helper.getComputedTextLength();\n        }\n\n        return helper.measureText(text).width;\n      }\n\n      return {\n        measureText: measure\n      };\n    }\n\n    function addFonts(fontData, defs) {\n      if (!fontData) {\n        this.isLoaded = true;\n        return;\n      }\n\n      if (this.chars) {\n        this.isLoaded = true;\n        this.fonts = fontData.list;\n        return;\n      }\n\n      if (!document.body) {\n        this.isLoaded = true;\n        fontData.list.forEach(function (data) {\n          data.helper = createHelper(data);\n          data.cache = {};\n        });\n        this.fonts = fontData.list;\n        return;\n      }\n\n      var fontArr = fontData.list;\n      var i;\n      var len = fontArr.length;\n      var _pendingFonts = len;\n\n      for (i = 0; i < len; i += 1) {\n        var shouldLoadFont = true;\n        var loadedSelector;\n        var j;\n        fontArr[i].loaded = false;\n        fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\n        fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\n\n        if (!fontArr[i].fPath) {\n          fontArr[i].loaded = true;\n          _pendingFonts -= 1;\n        } else if (fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3) {\n          loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"' + fontArr[i].fFamily + '\"], style[f-origin=\"3\"][f-family=\"' + fontArr[i].fFamily + '\"]');\n\n          if (loadedSelector.length > 0) {\n            shouldLoadFont = false;\n          }\n\n          if (shouldLoadFont) {\n            var s = createTag('style');\n            s.setAttribute('f-forigin', fontArr[i].fOrigin);\n            s.setAttribute('f-origin', fontArr[i].origin);\n            s.setAttribute('f-family', fontArr[i].fFamily);\n            s.type = 'text/css';\n            s.innerText = '@font-face {font-family: ' + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\n            defs.appendChild(s);\n          }\n        } else if (fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1) {\n          loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\n\n          for (j = 0; j < loadedSelector.length; j += 1) {\n            if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\n              // Font is already loaded\n              shouldLoadFont = false;\n            }\n          }\n\n          if (shouldLoadFont) {\n            var l = createTag('link');\n            l.setAttribute('f-forigin', fontArr[i].fOrigin);\n            l.setAttribute('f-origin', fontArr[i].origin);\n            l.type = 'text/css';\n            l.rel = 'stylesheet';\n            l.href = fontArr[i].fPath;\n            document.body.appendChild(l);\n          }\n        } else if (fontArr[i].fOrigin === 't' || fontArr[i].origin === 2) {\n          loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\n\n          for (j = 0; j < loadedSelector.length; j += 1) {\n            if (fontArr[i].fPath === loadedSelector[j].src) {\n              // Font is already loaded\n              shouldLoadFont = false;\n            }\n          }\n\n          if (shouldLoadFont) {\n            var sc = createTag('link');\n            sc.setAttribute('f-forigin', fontArr[i].fOrigin);\n            sc.setAttribute('f-origin', fontArr[i].origin);\n            sc.setAttribute('rel', 'stylesheet');\n            sc.setAttribute('href', fontArr[i].fPath);\n            defs.appendChild(sc);\n          }\n        }\n\n        fontArr[i].helper = createHelper(fontArr[i], defs);\n        fontArr[i].cache = {};\n        this.fonts.push(fontArr[i]);\n      }\n\n      if (_pendingFonts === 0) {\n        this.isLoaded = true;\n      } else {\n        // On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\n        // Adding this timeout seems to fix it\n        setTimeout(this.checkLoadedFonts.bind(this), 100);\n      }\n    }\n\n    function addChars(chars) {\n      if (!chars) {\n        return;\n      }\n\n      if (!this.chars) {\n        this.chars = [];\n      }\n\n      var i;\n      var len = chars.length;\n      var j;\n      var jLen = this.chars.length;\n      var found;\n\n      for (i = 0; i < len; i += 1) {\n        j = 0;\n        found = false;\n\n        while (j < jLen) {\n          if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\n            found = true;\n          }\n\n          j += 1;\n        }\n\n        if (!found) {\n          this.chars.push(chars[i]);\n          jLen += 1;\n        }\n      }\n    }\n\n    function getCharData(_char, style, font) {\n      var i = 0;\n      var len = this.chars.length;\n\n      while (i < len) {\n        if (this.chars[i].ch === _char && this.chars[i].style === style && this.chars[i].fFamily === font) {\n          return this.chars[i];\n        }\n\n        i += 1;\n      }\n\n      if ((typeof _char === 'string' && _char.charCodeAt(0) !== 13 || !_char) && console && console.warn // eslint-disable-line no-console\n      && !this._warned) {\n        this._warned = true;\n        console.warn('Missing character from exported characters list: ', _char, style, font); // eslint-disable-line no-console\n      }\n\n      return emptyChar;\n    }\n\n    function measureText(_char2, fontName, size) {\n      var fontData = this.getFontByName(fontName);\n\n      var index = _char2.charCodeAt(0);\n\n      if (!fontData.cache[index + 1]) {\n        var tHelper = fontData.helper;\n\n        if (_char2 === ' ') {\n          var doubleSize = tHelper.measureText('|' + _char2 + '|');\n          var singleSize = tHelper.measureText('||');\n          fontData.cache[index + 1] = (doubleSize - singleSize) / 100;\n        } else {\n          fontData.cache[index + 1] = tHelper.measureText(_char2) / 100;\n        }\n      }\n\n      return fontData.cache[index + 1] * size;\n    }\n\n    function getFontByName(name) {\n      var i = 0;\n      var len = this.fonts.length;\n\n      while (i < len) {\n        if (this.fonts[i].fName === name) {\n          return this.fonts[i];\n        }\n\n        i += 1;\n      }\n\n      return this.fonts[0];\n    }\n\n    function isModifier(firstCharCode, secondCharCode) {\n      var sum = firstCharCode.toString(16) + secondCharCode.toString(16);\n      return surrogateModifiers.indexOf(sum) !== -1;\n    }\n\n    function isZeroWidthJoiner(firstCharCode, secondCharCode) {\n      if (!secondCharCode) {\n        return firstCharCode === zeroWidthJoiner[1];\n      }\n\n      return firstCharCode === zeroWidthJoiner[0] && secondCharCode === zeroWidthJoiner[1];\n    }\n\n    function isCombinedCharacter(_char3) {\n      return combinedCharacters.indexOf(_char3) !== -1;\n    }\n\n    function setIsLoaded() {\n      this.isLoaded = true;\n    }\n\n    var Font = function Font() {\n      this.fonts = [];\n      this.chars = null;\n      this.typekitLoaded = 0;\n      this.isLoaded = false;\n      this._warned = false;\n      this.initTime = Date.now();\n      this.setIsLoadedBinded = this.setIsLoaded.bind(this);\n      this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);\n    };\n\n    Font.isModifier = isModifier;\n    Font.isZeroWidthJoiner = isZeroWidthJoiner;\n    Font.isCombinedCharacter = isCombinedCharacter;\n    var fontPrototype = {\n      addChars: addChars,\n      addFonts: addFonts,\n      getCharData: getCharData,\n      getFontByName: getFontByName,\n      measureText: measureText,\n      checkLoadedFonts: checkLoadedFonts,\n      setIsLoaded: setIsLoaded\n    };\n    Font.prototype = fontPrototype;\n    return Font;\n  }();\n\n  function RenderableElement() {}\n\n  RenderableElement.prototype = {\n    initRenderable: function initRenderable() {\n      // layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\n      this.isInRange = false; // layer's display state\n\n      this.hidden = false; // If layer's transparency equals 0, it can be hidden\n\n      this.isTransparent = false; // list of animated components\n\n      this.renderableComponents = [];\n    },\n    addRenderableComponent: function addRenderableComponent(component) {\n      if (this.renderableComponents.indexOf(component) === -1) {\n        this.renderableComponents.push(component);\n      }\n    },\n    removeRenderableComponent: function removeRenderableComponent(component) {\n      if (this.renderableComponents.indexOf(component) !== -1) {\n        this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\n      }\n    },\n    prepareRenderableFrame: function prepareRenderableFrame(num) {\n      this.checkLayerLimits(num);\n    },\n    checkTransparency: function checkTransparency() {\n      if (this.finalTransform.mProp.o.v <= 0) {\n        if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {\n          this.isTransparent = true;\n          this.hide();\n        }\n      } else if (this.isTransparent) {\n        this.isTransparent = false;\n        this.show();\n      }\n    },\n\n    /**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       *\r\n       */\n    checkLayerLimits: function checkLayerLimits(num) {\n      if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\n        if (this.isInRange !== true) {\n          this.globalData._mdf = true;\n          this._mdf = true;\n          this.isInRange = true;\n          this.show();\n        }\n      } else if (this.isInRange !== false) {\n        this.globalData._mdf = true;\n        this.isInRange = false;\n        this.hide();\n      }\n    },\n    renderRenderable: function renderRenderable() {\n      var i;\n      var len = this.renderableComponents.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.renderableComponents[i].renderFrame(this._isFirstFrame);\n      }\n      /* this.maskManager.renderFrame(this.finalTransform.mat);\r\n          this.renderableEffectsManager.renderFrame(this._isFirstFrame); */\n\n    },\n    sourceRectAtTime: function sourceRectAtTime() {\n      return {\n        top: 0,\n        left: 0,\n        width: 100,\n        height: 100\n      };\n    },\n    getLayerSize: function getLayerSize() {\n      if (this.data.ty === 5) {\n        return {\n          w: this.data.textData.width,\n          h: this.data.textData.height\n        };\n      }\n\n      return {\n        w: this.data.width,\n        h: this.data.height\n      };\n    }\n  };\n\n  var MaskManagerInterface = function () {\n    function MaskInterface(mask, data) {\n      this._mask = mask;\n      this._data = data;\n    }\n\n    Object.defineProperty(MaskInterface.prototype, 'maskPath', {\n      get: function get() {\n        if (this._mask.prop.k) {\n          this._mask.prop.getValue();\n        }\n\n        return this._mask.prop;\n      }\n    });\n    Object.defineProperty(MaskInterface.prototype, 'maskOpacity', {\n      get: function get() {\n        if (this._mask.op.k) {\n          this._mask.op.getValue();\n        }\n\n        return this._mask.op.v * 100;\n      }\n    });\n\n    var MaskManager = function MaskManager(maskManager) {\n      var _masksInterfaces = createSizedArray(maskManager.viewData.length);\n\n      var i;\n      var len = maskManager.viewData.length;\n\n      for (i = 0; i < len; i += 1) {\n        _masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\n      }\n\n      var maskFunction = function maskFunction(name) {\n        i = 0;\n\n        while (i < len) {\n          if (maskManager.masksProperties[i].nm === name) {\n            return _masksInterfaces[i];\n          }\n\n          i += 1;\n        }\n\n        return null;\n      };\n\n      return maskFunction;\n    };\n\n    return MaskManager;\n  }();\n\n  var ExpressionPropertyInterface = function () {\n    var defaultUnidimensionalValue = {\n      pv: 0,\n      v: 0,\n      mult: 1\n    };\n    var defaultMultidimensionalValue = {\n      pv: [0, 0, 0],\n      v: [0, 0, 0],\n      mult: 1\n    };\n\n    function completeProperty(expressionValue, property, type) {\n      Object.defineProperty(expressionValue, 'velocity', {\n        get: function get() {\n          return property.getVelocityAtTime(property.comp.currentFrame);\n        }\n      });\n      expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\n\n      expressionValue.key = function (pos) {\n        if (!expressionValue.numKeys) {\n          return 0;\n        }\n\n        var value = '';\n\n        if ('s' in property.keyframes[pos - 1]) {\n          value = property.keyframes[pos - 1].s;\n        } else if ('e' in property.keyframes[pos - 2]) {\n          value = property.keyframes[pos - 2].e;\n        } else {\n          value = property.keyframes[pos - 2].s;\n        }\n\n        var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value); // eslint-disable-line no-new-wrappers\n\n        valueProp.time = property.keyframes[pos - 1].t / property.elem.comp.globalData.frameRate;\n        valueProp.value = type === 'unidimensional' ? value[0] : value;\n        return valueProp;\n      };\n\n      expressionValue.valueAtTime = property.getValueAtTime;\n      expressionValue.speedAtTime = property.getSpeedAtTime;\n      expressionValue.velocityAtTime = property.getVelocityAtTime;\n      expressionValue.propertyGroup = property.propertyGroup;\n    }\n\n    function UnidimensionalPropertyInterface(property) {\n      if (!property || !('pv' in property)) {\n        property = defaultUnidimensionalValue;\n      }\n\n      var mult = 1 / property.mult;\n      var val = property.pv * mult;\n      var expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\n\n      expressionValue.value = val;\n      completeProperty(expressionValue, property, 'unidimensional');\n      return function () {\n        if (property.k) {\n          property.getValue();\n        }\n\n        val = property.v * mult;\n\n        if (expressionValue.value !== val) {\n          expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\n\n          expressionValue.value = val;\n          completeProperty(expressionValue, property, 'unidimensional');\n        }\n\n        return expressionValue;\n      };\n    }\n\n    function MultidimensionalPropertyInterface(property) {\n      if (!property || !('pv' in property)) {\n        property = defaultMultidimensionalValue;\n      }\n\n      var mult = 1 / property.mult;\n      var len = property.data && property.data.l || property.pv.length;\n      var expressionValue = createTypedArray('float32', len);\n      var arrValue = createTypedArray('float32', len);\n      expressionValue.value = arrValue;\n      completeProperty(expressionValue, property, 'multidimensional');\n      return function () {\n        if (property.k) {\n          property.getValue();\n        }\n\n        for (var i = 0; i < len; i += 1) {\n          arrValue[i] = property.v[i] * mult;\n          expressionValue[i] = arrValue[i];\n        }\n\n        return expressionValue;\n      };\n    } // TODO: try to avoid using this getter\n\n\n    function defaultGetter() {\n      return defaultUnidimensionalValue;\n    }\n\n    return function (property) {\n      if (!property) {\n        return defaultGetter;\n      }\n\n      if (property.propType === 'unidimensional') {\n        return UnidimensionalPropertyInterface(property);\n      }\n\n      return MultidimensionalPropertyInterface(property);\n    };\n  }();\n\n  var TransformExpressionInterface = function () {\n    return function (transform) {\n      function _thisFunction(name) {\n        switch (name) {\n          case 'scale':\n          case 'Scale':\n          case 'ADBE Scale':\n          case 6:\n            return _thisFunction.scale;\n\n          case 'rotation':\n          case 'Rotation':\n          case 'ADBE Rotation':\n          case 'ADBE Rotate Z':\n          case 10:\n            return _thisFunction.rotation;\n\n          case 'ADBE Rotate X':\n            return _thisFunction.xRotation;\n\n          case 'ADBE Rotate Y':\n            return _thisFunction.yRotation;\n\n          case 'position':\n          case 'Position':\n          case 'ADBE Position':\n          case 2:\n            return _thisFunction.position;\n\n          case 'ADBE Position_0':\n            return _thisFunction.xPosition;\n\n          case 'ADBE Position_1':\n            return _thisFunction.yPosition;\n\n          case 'ADBE Position_2':\n            return _thisFunction.zPosition;\n\n          case 'anchorPoint':\n          case 'AnchorPoint':\n          case 'Anchor Point':\n          case 'ADBE AnchorPoint':\n          case 1:\n            return _thisFunction.anchorPoint;\n\n          case 'opacity':\n          case 'Opacity':\n          case 11:\n            return _thisFunction.opacity;\n\n          default:\n            return null;\n        }\n      }\n\n      Object.defineProperty(_thisFunction, 'rotation', {\n        get: ExpressionPropertyInterface(transform.r || transform.rz)\n      });\n      Object.defineProperty(_thisFunction, 'zRotation', {\n        get: ExpressionPropertyInterface(transform.rz || transform.r)\n      });\n      Object.defineProperty(_thisFunction, 'xRotation', {\n        get: ExpressionPropertyInterface(transform.rx)\n      });\n      Object.defineProperty(_thisFunction, 'yRotation', {\n        get: ExpressionPropertyInterface(transform.ry)\n      });\n      Object.defineProperty(_thisFunction, 'scale', {\n        get: ExpressionPropertyInterface(transform.s)\n      });\n\n      var _px;\n\n      var _py;\n\n      var _pz;\n\n      var _transformFactory;\n\n      if (transform.p) {\n        _transformFactory = ExpressionPropertyInterface(transform.p);\n      } else {\n        _px = ExpressionPropertyInterface(transform.px);\n        _py = ExpressionPropertyInterface(transform.py);\n\n        if (transform.pz) {\n          _pz = ExpressionPropertyInterface(transform.pz);\n        }\n      }\n\n      Object.defineProperty(_thisFunction, 'position', {\n        get: function get() {\n          if (transform.p) {\n            return _transformFactory();\n          }\n\n          return [_px(), _py(), _pz ? _pz() : 0];\n        }\n      });\n      Object.defineProperty(_thisFunction, 'xPosition', {\n        get: ExpressionPropertyInterface(transform.px)\n      });\n      Object.defineProperty(_thisFunction, 'yPosition', {\n        get: ExpressionPropertyInterface(transform.py)\n      });\n      Object.defineProperty(_thisFunction, 'zPosition', {\n        get: ExpressionPropertyInterface(transform.pz)\n      });\n      Object.defineProperty(_thisFunction, 'anchorPoint', {\n        get: ExpressionPropertyInterface(transform.a)\n      });\n      Object.defineProperty(_thisFunction, 'opacity', {\n        get: ExpressionPropertyInterface(transform.o)\n      });\n      Object.defineProperty(_thisFunction, 'skew', {\n        get: ExpressionPropertyInterface(transform.sk)\n      });\n      Object.defineProperty(_thisFunction, 'skewAxis', {\n        get: ExpressionPropertyInterface(transform.sa)\n      });\n      Object.defineProperty(_thisFunction, 'orientation', {\n        get: ExpressionPropertyInterface(transform.or)\n      });\n      return _thisFunction;\n    };\n  }();\n\n  var LayerExpressionInterface = function () {\n    function getMatrix(time) {\n      var toWorldMat = new Matrix();\n\n      if (time !== undefined) {\n        var propMatrix = this._elem.finalTransform.mProp.getValueAtTime(time);\n\n        propMatrix.clone(toWorldMat);\n      } else {\n        var transformMat = this._elem.finalTransform.mProp;\n        transformMat.applyToMatrix(toWorldMat);\n      }\n\n      return toWorldMat;\n    }\n\n    function toWorldVec(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      toWorldMat.props[12] = 0;\n      toWorldMat.props[13] = 0;\n      toWorldMat.props[14] = 0;\n      return this.applyPoint(toWorldMat, arr);\n    }\n\n    function toWorld(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      return this.applyPoint(toWorldMat, arr);\n    }\n\n    function fromWorldVec(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      toWorldMat.props[12] = 0;\n      toWorldMat.props[13] = 0;\n      toWorldMat.props[14] = 0;\n      return this.invertPoint(toWorldMat, arr);\n    }\n\n    function fromWorld(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      return this.invertPoint(toWorldMat, arr);\n    }\n\n    function applyPoint(matrix, arr) {\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\n        }\n      }\n\n      return matrix.applyToPointArray(arr[0], arr[1], arr[2] || 0);\n    }\n\n    function invertPoint(matrix, arr) {\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\n        }\n      }\n\n      return matrix.inversePoint(arr);\n    }\n\n    function fromComp(arr) {\n      var toWorldMat = new Matrix();\n      toWorldMat.reset();\n\n      this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\n\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\n        }\n\n        return toWorldMat.inversePoint(arr);\n      }\n\n      return toWorldMat.inversePoint(arr);\n    }\n\n    function sampleImage() {\n      return [1, 1, 1, 1];\n    }\n\n    return function (elem) {\n      var transformInterface;\n\n      function _registerMaskInterface(maskManager) {\n        _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\n      }\n\n      function _registerEffectsInterface(effects) {\n        _thisLayerFunction.effect = effects;\n      }\n\n      function _thisLayerFunction(name) {\n        switch (name) {\n          case 'ADBE Root Vectors Group':\n          case 'Contents':\n          case 2:\n            return _thisLayerFunction.shapeInterface;\n\n          case 1:\n          case 6:\n          case 'Transform':\n          case 'transform':\n          case 'ADBE Transform Group':\n            return transformInterface;\n\n          case 4:\n          case 'ADBE Effect Parade':\n          case 'effects':\n          case 'Effects':\n            return _thisLayerFunction.effect;\n\n          case 'ADBE Text Properties':\n            return _thisLayerFunction.textInterface;\n\n          default:\n            return null;\n        }\n      }\n\n      _thisLayerFunction.getMatrix = getMatrix;\n      _thisLayerFunction.invertPoint = invertPoint;\n      _thisLayerFunction.applyPoint = applyPoint;\n      _thisLayerFunction.toWorld = toWorld;\n      _thisLayerFunction.toWorldVec = toWorldVec;\n      _thisLayerFunction.fromWorld = fromWorld;\n      _thisLayerFunction.fromWorldVec = fromWorldVec;\n      _thisLayerFunction.toComp = toWorld;\n      _thisLayerFunction.fromComp = fromComp;\n      _thisLayerFunction.sampleImage = sampleImage;\n      _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\n      _thisLayerFunction._elem = elem;\n      transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\n      var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\n      Object.defineProperties(_thisLayerFunction, {\n        hasParent: {\n          get: function get() {\n            return elem.hierarchy.length;\n          }\n        },\n        parent: {\n          get: function get() {\n            return elem.hierarchy[0].layerInterface;\n          }\n        },\n        rotation: getDescriptor(transformInterface, 'rotation'),\n        scale: getDescriptor(transformInterface, 'scale'),\n        position: getDescriptor(transformInterface, 'position'),\n        opacity: getDescriptor(transformInterface, 'opacity'),\n        anchorPoint: anchorPointDescriptor,\n        anchor_point: anchorPointDescriptor,\n        transform: {\n          get: function get() {\n            return transformInterface;\n          }\n        },\n        active: {\n          get: function get() {\n            return elem.isInRange;\n          }\n        }\n      });\n      _thisLayerFunction.startTime = elem.data.st;\n      _thisLayerFunction.index = elem.data.ind;\n      _thisLayerFunction.source = elem.data.refId;\n      _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\n      _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\n      _thisLayerFunction.inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n      _thisLayerFunction.outPoint = elem.data.op / elem.comp.globalData.frameRate;\n      _thisLayerFunction._name = elem.data.nm;\n      _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\n      _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\n      return _thisLayerFunction;\n    };\n  }();\n\n  var propertyGroupFactory = function () {\n    return function (interfaceFunction, parentPropertyGroup) {\n      return function (val) {\n        val = val === undefined ? 1 : val;\n\n        if (val <= 0) {\n          return interfaceFunction;\n        }\n\n        return parentPropertyGroup(val - 1);\n      };\n    };\n  }();\n\n  var PropertyInterface = function () {\n    return function (propertyName, propertyGroup) {\n      var interfaceFunction = {\n        _name: propertyName\n      };\n\n      function _propertyGroup(val) {\n        val = val === undefined ? 1 : val;\n\n        if (val <= 0) {\n          return interfaceFunction;\n        }\n\n        return propertyGroup(val - 1);\n      }\n\n      return _propertyGroup;\n    };\n  }();\n\n  var EffectsExpressionInterface = function () {\n    var ob = {\n      createEffectsInterface: createEffectsInterface\n    };\n\n    function createEffectsInterface(elem, propertyGroup) {\n      if (elem.effectsManager) {\n        var effectElements = [];\n        var effectsData = elem.data.ef;\n        var i;\n        var len = elem.effectsManager.effectElements.length;\n\n        for (i = 0; i < len; i += 1) {\n          effectElements.push(createGroupInterface(effectsData[i], elem.effectsManager.effectElements[i], propertyGroup, elem));\n        }\n\n        var effects = elem.data.ef || [];\n\n        var groupInterface = function groupInterface(name) {\n          i = 0;\n          len = effects.length;\n\n          while (i < len) {\n            if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n              return effectElements[i];\n            }\n\n            i += 1;\n          }\n\n          return null;\n        };\n\n        Object.defineProperty(groupInterface, 'numProperties', {\n          get: function get() {\n            return effects.length;\n          }\n        });\n        return groupInterface;\n      }\n\n      return null;\n    }\n\n    function createGroupInterface(data, elements, propertyGroup, elem) {\n      function groupInterface(name) {\n        var effects = data.ef;\n        var i = 0;\n        var len = effects.length;\n\n        while (i < len) {\n          if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n            if (effects[i].ty === 5) {\n              return effectElements[i];\n            }\n\n            return effectElements[i]();\n          }\n\n          i += 1;\n        }\n\n        throw new Error();\n      }\n\n      var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\n\n      var effectElements = [];\n      var i;\n      var len = data.ef.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (data.ef[i].ty === 5) {\n          effectElements.push(createGroupInterface(data.ef[i], elements.effectElements[i], elements.effectElements[i].propertyGroup, elem));\n        } else {\n          effectElements.push(createValueInterface(elements.effectElements[i], data.ef[i].ty, elem, _propertyGroup));\n        }\n      }\n\n      if (data.mn === 'ADBE Color Control') {\n        Object.defineProperty(groupInterface, 'color', {\n          get: function get() {\n            return effectElements[0]();\n          }\n        });\n      }\n\n      Object.defineProperties(groupInterface, {\n        numProperties: {\n          get: function get() {\n            return data.np;\n          }\n        },\n        _name: {\n          value: data.nm\n        },\n        propertyGroup: {\n          value: _propertyGroup\n        }\n      });\n      groupInterface.enabled = data.en !== 0;\n      groupInterface.active = groupInterface.enabled;\n      return groupInterface;\n    }\n\n    function createValueInterface(element, type, elem, propertyGroup) {\n      var expressionProperty = ExpressionPropertyInterface(element.p);\n\n      function interfaceFunction() {\n        if (type === 10) {\n          return elem.comp.compInterface(element.p.v);\n        }\n\n        return expressionProperty();\n      }\n\n      if (element.p.setGroupProperty) {\n        element.p.setGroupProperty(PropertyInterface('', propertyGroup));\n      }\n\n      return interfaceFunction;\n    }\n\n    return ob;\n  }();\n\n  var CompExpressionInterface = function () {\n    return function (comp) {\n      function _thisLayerFunction(name) {\n        var i = 0;\n        var len = comp.layers.length;\n\n        while (i < len) {\n          if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\n            return comp.elements[i].layerInterface;\n          }\n\n          i += 1;\n        }\n\n        return null; // return {active:false};\n      }\n\n      Object.defineProperty(_thisLayerFunction, '_name', {\n        value: comp.data.nm\n      });\n      _thisLayerFunction.layer = _thisLayerFunction;\n      _thisLayerFunction.pixelAspect = 1;\n      _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\n      _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\n      _thisLayerFunction.pixelAspect = 1;\n      _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\n      _thisLayerFunction.displayStartTime = 0;\n      _thisLayerFunction.numLayers = comp.layers.length;\n      return _thisLayerFunction;\n    };\n  }();\n\n  var ShapePathInterface = function () {\n    return function pathInterfaceFactory(shape, view, propertyGroup) {\n      var prop = view.sh;\n\n      function interfaceFunction(val) {\n        if (val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2) {\n          return interfaceFunction.path;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        path: {\n          get: function get() {\n            if (prop.k) {\n              prop.getValue();\n            }\n\n            return prop;\n          }\n        },\n        shape: {\n          get: function get() {\n            if (prop.k) {\n              prop.getValue();\n            }\n\n            return prop;\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        ix: {\n          value: shape.ix\n        },\n        propertyIndex: {\n          value: shape.ix\n        },\n        mn: {\n          value: shape.mn\n        },\n        propertyGroup: {\n          value: propertyGroup\n        }\n      });\n      return interfaceFunction;\n    };\n  }();\n\n  var ShapeExpressionInterface = function () {\n    function iterateElements(shapes, view, propertyGroup) {\n      var arr = [];\n      var i;\n      var len = shapes ? shapes.length : 0;\n\n      for (i = 0; i < len; i += 1) {\n        if (shapes[i].ty === 'gr') {\n          arr.push(groupInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'fl') {\n          arr.push(fillInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'st') {\n          arr.push(strokeInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'tm') {\n          arr.push(trimInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'tr') {// arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\n        } else if (shapes[i].ty === 'el') {\n          arr.push(ellipseInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'sr') {\n          arr.push(starInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'sh') {\n          arr.push(ShapePathInterface(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rc') {\n          arr.push(rectInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rd') {\n          arr.push(roundedInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rp') {\n          arr.push(repeaterInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'gf') {\n          arr.push(gradientFillInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else {\n          arr.push(defaultInterfaceFactory(shapes[i], view[i], propertyGroup));\n        }\n      }\n\n      return arr;\n    }\n\n    function contentsInterfaceFactory(shape, view, propertyGroup) {\n      var interfaces;\n\n      var interfaceFunction = function _interfaceFunction(value) {\n        var i = 0;\n        var len = interfaces.length;\n\n        while (i < len) {\n          if (interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value) {\n            return interfaces[i];\n          }\n\n          i += 1;\n        }\n\n        if (typeof value === 'number') {\n          return interfaces[value - 1];\n        }\n\n        return null;\n      };\n\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\n      interfaceFunction.numProperties = interfaces.length;\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n      interfaceFunction.transform = transformInterface;\n      interfaceFunction.propertyIndex = shape.cix;\n      interfaceFunction._name = shape.nm;\n      return interfaceFunction;\n    }\n\n    function groupInterfaceFactory(shape, view, propertyGroup) {\n      var interfaceFunction = function _interfaceFunction(value) {\n        switch (value) {\n          case 'ADBE Vectors Group':\n          case 'Contents':\n          case 2:\n            return interfaceFunction.content;\n          // Not necessary for now. Keeping them here in case a new case appears\n          // case 'ADBE Vector Transform Group':\n          // case 3:\n\n          default:\n            return interfaceFunction.transform;\n        }\n      };\n\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      var content = contentsInterfaceFactory(shape, view, interfaceFunction.propertyGroup);\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n      interfaceFunction.content = content;\n      interfaceFunction.transform = transformInterface;\n      Object.defineProperty(interfaceFunction, '_name', {\n        get: function get() {\n          return shape.nm;\n        }\n      }); // interfaceFunction.content = interfaceFunction;\n\n      interfaceFunction.numProperties = shape.np;\n      interfaceFunction.propertyIndex = shape.ix;\n      interfaceFunction.nm = shape.nm;\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function fillInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === 'Color' || val === 'color') {\n          return interfaceFunction.color;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        color: {\n          get: ExpressionPropertyInterface(view.c)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n      return interfaceFunction;\n    }\n\n    function gradientFillInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === 'Start Point' || val === 'start point') {\n          return interfaceFunction.startPoint;\n        }\n\n        if (val === 'End Point' || val === 'end point') {\n          return interfaceFunction.endPoint;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        startPoint: {\n          get: ExpressionPropertyInterface(view.s)\n        },\n        endPoint: {\n          get: ExpressionPropertyInterface(view.e)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        type: {\n          get: function get() {\n            return 'a';\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.s.setGroupProperty(PropertyInterface('Start Point', propertyGroup));\n      view.e.setGroupProperty(PropertyInterface('End Point', propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n      return interfaceFunction;\n    }\n\n    function defaultInterfaceFactory() {\n      function interfaceFunction() {\n        return null;\n      }\n\n      return interfaceFunction;\n    }\n\n    function strokeInterfaceFactory(shape, view, propertyGroup) {\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\n\n      function addPropertyToDashOb(i) {\n        Object.defineProperty(dashOb, shape.d[i].nm, {\n          get: ExpressionPropertyInterface(view.d.dataProps[i].p)\n        });\n      }\n\n      var i;\n      var len = shape.d ? shape.d.length : 0;\n      var dashOb = {};\n\n      for (i = 0; i < len; i += 1) {\n        addPropertyToDashOb(i);\n        view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\n      }\n\n      function interfaceFunction(val) {\n        if (val === 'Color' || val === 'color') {\n          return interfaceFunction.color;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        if (val === 'Stroke Width' || val === 'stroke width') {\n          return interfaceFunction.strokeWidth;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        color: {\n          get: ExpressionPropertyInterface(view.c)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        strokeWidth: {\n          get: ExpressionPropertyInterface(view.w)\n        },\n        dash: {\n          get: function get() {\n            return dashOb;\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\n      return interfaceFunction;\n    }\n\n    function trimInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === shape.e.ix || val === 'End' || val === 'end') {\n          return interfaceFunction.end;\n        }\n\n        if (val === shape.s.ix) {\n          return interfaceFunction.start;\n        }\n\n        if (val === shape.o.ix) {\n          return interfaceFunction.offset;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      interfaceFunction.propertyIndex = shape.ix;\n      view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\n      view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n      interfaceFunction.propertyIndex = shape.ix;\n      interfaceFunction.propertyGroup = propertyGroup;\n      Object.defineProperties(interfaceFunction, {\n        start: {\n          get: ExpressionPropertyInterface(view.s)\n        },\n        end: {\n          get: ExpressionPropertyInterface(view.e)\n        },\n        offset: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function transformInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.a.ix === value || value === 'Anchor Point') {\n          return interfaceFunction.anchorPoint;\n        }\n\n        if (shape.o.ix === value || value === 'Opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        if (shape.p.ix === value || value === 'Position') {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation') {\n          return interfaceFunction.rotation;\n        }\n\n        if (shape.s.ix === value || value === 'Scale') {\n          return interfaceFunction.scale;\n        }\n\n        if (shape.sk && shape.sk.ix === value || value === 'Skew') {\n          return interfaceFunction.skew;\n        }\n\n        if (shape.sa && shape.sa.ix === value || value === 'Skew Axis') {\n          return interfaceFunction.skewAxis;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\n      view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\n      view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n\n      if (view.transform.mProps.sk) {\n        view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\n        view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\n      }\n\n      view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        opacity: {\n          get: ExpressionPropertyInterface(view.transform.mProps.o)\n        },\n        position: {\n          get: ExpressionPropertyInterface(view.transform.mProps.p)\n        },\n        anchorPoint: {\n          get: ExpressionPropertyInterface(view.transform.mProps.a)\n        },\n        scale: {\n          get: ExpressionPropertyInterface(view.transform.mProps.s)\n        },\n        rotation: {\n          get: ExpressionPropertyInterface(view.transform.mProps.r)\n        },\n        skew: {\n          get: ExpressionPropertyInterface(view.transform.mProps.sk)\n        },\n        skewAxis: {\n          get: ExpressionPropertyInterface(view.transform.mProps.sa)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.ty = 'tr';\n      interfaceFunction.mn = shape.mn;\n      interfaceFunction.propertyGroup = propertyGroup;\n      return interfaceFunction;\n    }\n\n    function ellipseInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.s.ix === value) {\n          return interfaceFunction.size;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      interfaceFunction.propertyIndex = shape.ix;\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        size: {\n          get: ExpressionPropertyInterface(prop.s)\n        },\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function starInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value) {\n          return interfaceFunction.rotation;\n        }\n\n        if (shape.pt.ix === value) {\n          return interfaceFunction.points;\n        }\n\n        if (shape.or.ix === value || value === 'ADBE Vector Star Outer Radius') {\n          return interfaceFunction.outerRadius;\n        }\n\n        if (shape.os.ix === value) {\n          return interfaceFunction.outerRoundness;\n        }\n\n        if (shape.ir && (shape.ir.ix === value || value === 'ADBE Vector Star Inner Radius')) {\n          return interfaceFunction.innerRadius;\n        }\n\n        if (shape.is && shape.is.ix === value) {\n          return interfaceFunction.innerRoundness;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\n      prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\n      prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n\n      if (shape.ir) {\n        prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\n        prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        rotation: {\n          get: ExpressionPropertyInterface(prop.r)\n        },\n        points: {\n          get: ExpressionPropertyInterface(prop.pt)\n        },\n        outerRadius: {\n          get: ExpressionPropertyInterface(prop.or)\n        },\n        outerRoundness: {\n          get: ExpressionPropertyInterface(prop.os)\n        },\n        innerRadius: {\n          get: ExpressionPropertyInterface(prop.ir)\n        },\n        innerRoundness: {\n          get: ExpressionPropertyInterface(prop.is)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function rectInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value) {\n          return interfaceFunction.roundness;\n        }\n\n        if (shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size') {\n          return interfaceFunction.size;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        roundness: {\n          get: ExpressionPropertyInterface(prop.r)\n        },\n        size: {\n          get: ExpressionPropertyInterface(prop.s)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function roundedInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.r.ix === value || value === 'Round Corners 1') {\n          return interfaceFunction.radius;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        radius: {\n          get: ExpressionPropertyInterface(prop.rd)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function repeaterInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.c.ix === value || value === 'Copies') {\n          return interfaceFunction.copies;\n        }\n\n        if (shape.o.ix === value || value === 'Offset') {\n          return interfaceFunction.offset;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\n      prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        copies: {\n          get: ExpressionPropertyInterface(prop.c)\n        },\n        offset: {\n          get: ExpressionPropertyInterface(prop.o)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    return function (shapes, view, propertyGroup) {\n      var interfaces;\n\n      function _interfaceFunction(value) {\n        if (typeof value === 'number') {\n          value = value === undefined ? 1 : value;\n\n          if (value === 0) {\n            return propertyGroup;\n          }\n\n          return interfaces[value - 1];\n        }\n\n        var i = 0;\n        var len = interfaces.length;\n\n        while (i < len) {\n          if (interfaces[i]._name === value) {\n            return interfaces[i];\n          }\n\n          i += 1;\n        }\n\n        return null;\n      }\n\n      function parentGroupWrapper() {\n        return propertyGroup;\n      }\n\n      _interfaceFunction.propertyGroup = propertyGroupFactory(_interfaceFunction, parentGroupWrapper);\n      interfaces = iterateElements(shapes, view, _interfaceFunction.propertyGroup);\n      _interfaceFunction.numProperties = interfaces.length;\n      _interfaceFunction._name = 'Contents';\n      return _interfaceFunction;\n    };\n  }();\n\n  var TextExpressionInterface = function () {\n    return function (elem) {\n      var _prevValue;\n\n      var _sourceText;\n\n      function _thisLayerFunction(name) {\n        switch (name) {\n          case 'ADBE Text Document':\n            return _thisLayerFunction.sourceText;\n\n          default:\n            return null;\n        }\n      }\n\n      Object.defineProperty(_thisLayerFunction, 'sourceText', {\n        get: function get() {\n          elem.textProperty.getValue();\n          var stringValue = elem.textProperty.currentData.t;\n\n          if (stringValue !== _prevValue) {\n            elem.textProperty.currentData.t = _prevValue;\n            _sourceText = new String(stringValue); // eslint-disable-line no-new-wrappers\n            // If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\n\n            _sourceText.value = stringValue || new String(stringValue); // eslint-disable-line no-new-wrappers\n          }\n\n          return _sourceText;\n        }\n      });\n      return _thisLayerFunction;\n    };\n  }();\n\n  var getBlendMode = function () {\n    var blendModeEnums = {\n      0: 'source-over',\n      1: 'multiply',\n      2: 'screen',\n      3: 'overlay',\n      4: 'darken',\n      5: 'lighten',\n      6: 'color-dodge',\n      7: 'color-burn',\n      8: 'hard-light',\n      9: 'soft-light',\n      10: 'difference',\n      11: 'exclusion',\n      12: 'hue',\n      13: 'saturation',\n      14: 'color',\n      15: 'luminosity'\n    };\n    return function (mode) {\n      return blendModeEnums[mode] || '';\n    };\n  }();\n\n  function SliderEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function AngleEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function ColorEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n  }\n\n  function PointEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n  }\n\n  function LayerIndexEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function MaskIndexEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function CheckboxEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function NoValueEffect() {\n    this.p = {};\n  }\n\n  function EffectsManager(data, element) {\n    var effects = data.ef || [];\n    this.effectElements = [];\n    var i;\n    var len = effects.length;\n    var effectItem;\n\n    for (i = 0; i < len; i += 1) {\n      effectItem = new GroupEffect(effects[i], element);\n      this.effectElements.push(effectItem);\n    }\n  }\n\n  function GroupEffect(data, element) {\n    this.init(data, element);\n  }\n\n  extendPrototype([DynamicPropertyContainer], GroupEffect);\n  GroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\n\n  GroupEffect.prototype.init = function (data, element) {\n    this.data = data;\n    this.effectElements = [];\n    this.initDynamicPropertyContainer(element);\n    var i;\n    var len = this.data.ef.length;\n    var eff;\n    var effects = this.data.ef;\n\n    for (i = 0; i < len; i += 1) {\n      eff = null;\n\n      switch (effects[i].ty) {\n        case 0:\n          eff = new SliderEffect(effects[i], element, this);\n          break;\n\n        case 1:\n          eff = new AngleEffect(effects[i], element, this);\n          break;\n\n        case 2:\n          eff = new ColorEffect(effects[i], element, this);\n          break;\n\n        case 3:\n          eff = new PointEffect(effects[i], element, this);\n          break;\n\n        case 4:\n        case 7:\n          eff = new CheckboxEffect(effects[i], element, this);\n          break;\n\n        case 10:\n          eff = new LayerIndexEffect(effects[i], element, this);\n          break;\n\n        case 11:\n          eff = new MaskIndexEffect(effects[i], element, this);\n          break;\n\n        case 5:\n          eff = new EffectsManager(effects[i], element, this);\n          break;\n        // case 6:\n\n        default:\n          eff = new NoValueEffect(effects[i], element, this);\n          break;\n      }\n\n      if (eff) {\n        this.effectElements.push(eff);\n      }\n    }\n  };\n\n  function BaseElement() {}\n\n  BaseElement.prototype = {\n    checkMasks: function checkMasks() {\n      if (!this.data.hasMask) {\n        return false;\n      }\n\n      var i = 0;\n      var len = this.data.masksProperties.length;\n\n      while (i < len) {\n        if (this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false) {\n          return true;\n        }\n\n        i += 1;\n      }\n\n      return false;\n    },\n    initExpressions: function initExpressions() {\n      this.layerInterface = LayerExpressionInterface(this);\n\n      if (this.data.hasMask && this.maskManager) {\n        this.layerInterface.registerMaskInterface(this.maskManager);\n      }\n\n      var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\n      this.layerInterface.registerEffectsInterface(effectsInterface);\n\n      if (this.data.ty === 0 || this.data.xt) {\n        this.compInterface = CompExpressionInterface(this);\n      } else if (this.data.ty === 4) {\n        this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);\n        this.layerInterface.content = this.layerInterface.shapeInterface;\n      } else if (this.data.ty === 5) {\n        this.layerInterface.textInterface = TextExpressionInterface(this);\n        this.layerInterface.text = this.layerInterface.textInterface;\n      }\n    },\n    setBlendMode: function setBlendMode() {\n      var blendModeValue = getBlendMode(this.data.bm);\n      var elem = this.baseElement || this.layerElement;\n      elem.style['mix-blend-mode'] = blendModeValue;\n    },\n    initBaseData: function initBaseData(data, globalData, comp) {\n      this.globalData = globalData;\n      this.comp = comp;\n      this.data = data;\n      this.layerId = createElementID(); // Stretch factor for old animations missing this property.\n\n      if (!this.data.sr) {\n        this.data.sr = 1;\n      } // effects manager\n\n\n      this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);\n    },\n    getType: function getType() {\n      return this.type;\n    },\n    sourceRectAtTime: function sourceRectAtTime() {}\n  };\n\n  /**\r\n   * @file\r\n   * Handles element's layer frame update.\r\n   * Checks layer in point and out point\r\n   *\r\n   */\n  function FrameElement() {}\n\n  FrameElement.prototype = {\n    /**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       */\n    initFrame: function initFrame() {\n      // set to true when inpoint is rendered\n      this._isFirstFrame = false; // list of animated properties\n\n      this.dynamicProperties = []; // If layer has been modified in current tick this will be true\n\n      this._mdf = false;\n    },\n\n    /**\r\n       * @function\r\n       * Calculates all dynamic values\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       * @param {boolean} isVisible\r\n       * if layers is currently in range\r\n       *\r\n       */\n    prepareProperties: function prepareProperties(num, isVisible) {\n      var i;\n      var len = this.dynamicProperties.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (isVisible || this._isParent && this.dynamicProperties[i].propType === 'transform') {\n          this.dynamicProperties[i].getValue();\n\n          if (this.dynamicProperties[i]._mdf) {\n            this.globalData._mdf = true;\n            this._mdf = true;\n          }\n        }\n      }\n    },\n    addDynamicProperty: function addDynamicProperty(prop) {\n      if (this.dynamicProperties.indexOf(prop) === -1) {\n        this.dynamicProperties.push(prop);\n      }\n    }\n  };\n\n  function _typeof$2(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$2 = function _typeof(obj) { return typeof obj; }; } else { _typeof$2 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$2(obj); }\n\n  var FootageInterface = function () {\n    var outlineInterfaceFactory = function outlineInterfaceFactory(elem) {\n      var currentPropertyName = '';\n      var currentProperty = elem.getFootageData();\n\n      function init() {\n        currentPropertyName = '';\n        currentProperty = elem.getFootageData();\n        return searchProperty;\n      }\n\n      function searchProperty(value) {\n        if (currentProperty[value]) {\n          currentPropertyName = value;\n          currentProperty = currentProperty[value];\n\n          if (_typeof$2(currentProperty) === 'object') {\n            return searchProperty;\n          }\n\n          return currentProperty;\n        }\n\n        var propertyNameIndex = value.indexOf(currentPropertyName);\n\n        if (propertyNameIndex !== -1) {\n          var index = parseInt(value.substr(propertyNameIndex + currentPropertyName.length), 10);\n          currentProperty = currentProperty[index];\n\n          if (_typeof$2(currentProperty) === 'object') {\n            return searchProperty;\n          }\n\n          return currentProperty;\n        }\n\n        return '';\n      }\n\n      return init;\n    };\n\n    var dataInterfaceFactory = function dataInterfaceFactory(elem) {\n      function interfaceFunction(value) {\n        if (value === 'Outline') {\n          return interfaceFunction.outlineInterface();\n        }\n\n        return null;\n      }\n\n      interfaceFunction._name = 'Outline';\n      interfaceFunction.outlineInterface = outlineInterfaceFactory(elem);\n      return interfaceFunction;\n    };\n\n    return function (elem) {\n      function _interfaceFunction(value) {\n        if (value === 'Data') {\n          return _interfaceFunction.dataInterface;\n        }\n\n        return null;\n      }\n\n      _interfaceFunction._name = 'Data';\n      _interfaceFunction.dataInterface = dataInterfaceFactory(elem);\n      return _interfaceFunction;\n    };\n  }();\n\n  function FootageElement(data, globalData, comp) {\n    this.initFrame();\n    this.initRenderable();\n    this.assetData = globalData.getAssetData(data.refId);\n    this.footageData = globalData.imageLoader.getAsset(this.assetData);\n    this.initBaseData(data, globalData, comp);\n  }\n\n  FootageElement.prototype.prepareFrame = function () {};\n\n  extendPrototype([RenderableElement, BaseElement, FrameElement], FootageElement);\n\n  FootageElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  FootageElement.prototype.renderFrame = function () {};\n\n  FootageElement.prototype.destroy = function () {};\n\n  FootageElement.prototype.initExpressions = function () {\n    this.layerInterface = FootageInterface(this);\n  };\n\n  FootageElement.prototype.getFootageData = function () {\n    return this.footageData;\n  };\n\n  function AudioElement(data, globalData, comp) {\n    this.initFrame();\n    this.initRenderable();\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initBaseData(data, globalData, comp);\n    this._isPlaying = false;\n    this._canPlay = false;\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    this.audio = this.globalData.audioController.createAudio(assetPath);\n    this._currentTime = 0;\n    this.globalData.audioController.addAudio(this);\n    this._volumeMultiplier = 1;\n    this._volume = 1;\n    this._previousVolume = null;\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n    this.lv = PropertyFactory.getProp(this, data.au && data.au.lv ? data.au.lv : {\n      k: [100]\n    }, 1, 0.01, this);\n  }\n\n  AudioElement.prototype.prepareFrame = function (num) {\n    this.prepareRenderableFrame(num, true);\n    this.prepareProperties(num, true);\n\n    if (!this.tm._placeholder) {\n      var timeRemapped = this.tm.v;\n      this._currentTime = timeRemapped;\n    } else {\n      this._currentTime = num / this.data.sr;\n    }\n\n    this._volume = this.lv.v[0];\n    var totalVolume = this._volume * this._volumeMultiplier;\n\n    if (this._previousVolume !== totalVolume) {\n      this._previousVolume = totalVolume;\n      this.audio.volume(totalVolume);\n    }\n  };\n\n  extendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);\n\n  AudioElement.prototype.renderFrame = function () {\n    if (this.isInRange && this._canPlay) {\n      if (!this._isPlaying) {\n        this.audio.play();\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\n        this._isPlaying = true;\n      } else if (!this.audio.playing() || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1) {\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\n      }\n    }\n  };\n\n  AudioElement.prototype.show = function () {// this.audio.play()\n  };\n\n  AudioElement.prototype.hide = function () {\n    this.audio.pause();\n    this._isPlaying = false;\n  };\n\n  AudioElement.prototype.pause = function () {\n    this.audio.pause();\n    this._isPlaying = false;\n    this._canPlay = false;\n  };\n\n  AudioElement.prototype.resume = function () {\n    this._canPlay = true;\n  };\n\n  AudioElement.prototype.setRate = function (rateValue) {\n    this.audio.rate(rateValue);\n  };\n\n  AudioElement.prototype.volume = function (volumeValue) {\n    this._volumeMultiplier = volumeValue;\n    this._previousVolume = volumeValue * this._volume;\n    this.audio.volume(this._previousVolume);\n  };\n\n  AudioElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  AudioElement.prototype.destroy = function () {};\n\n  AudioElement.prototype.sourceRectAtTime = function () {};\n\n  AudioElement.prototype.initExpressions = function () {};\n\n  function BaseRenderer() {}\n\n  BaseRenderer.prototype.checkLayers = function (num) {\n    var i;\n    var len = this.layers.length;\n    var data;\n    this.completeLayers = true;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (!this.elements[i]) {\n        data = this.layers[i];\n\n        if (data.ip - data.st <= num - this.layers[i].st && data.op - data.st > num - this.layers[i].st) {\n          this.buildItem(i);\n        }\n      }\n\n      this.completeLayers = this.elements[i] ? this.completeLayers : false;\n    }\n\n    this.checkPendingElements();\n  };\n\n  BaseRenderer.prototype.createItem = function (layer) {\n    switch (layer.ty) {\n      case 2:\n        return this.createImage(layer);\n\n      case 0:\n        return this.createComp(layer);\n\n      case 1:\n        return this.createSolid(layer);\n\n      case 3:\n        return this.createNull(layer);\n\n      case 4:\n        return this.createShape(layer);\n\n      case 5:\n        return this.createText(layer);\n\n      case 6:\n        return this.createAudio(layer);\n\n      case 13:\n        return this.createCamera(layer);\n\n      case 15:\n        return this.createFootage(layer);\n\n      default:\n        return this.createNull(layer);\n    }\n  };\n\n  BaseRenderer.prototype.createCamera = function () {\n    throw new Error('You\\'re using a 3d camera. Try the html renderer.');\n  };\n\n  BaseRenderer.prototype.createAudio = function (data) {\n    return new AudioElement(data, this.globalData, this);\n  };\n\n  BaseRenderer.prototype.createFootage = function (data) {\n    return new FootageElement(data, this.globalData, this);\n  };\n\n  BaseRenderer.prototype.buildAllItems = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.buildItem(i);\n    }\n\n    this.checkPendingElements();\n  };\n\n  BaseRenderer.prototype.includeLayers = function (newLayers) {\n    this.completeLayers = false;\n    var i;\n    var len = newLayers.length;\n    var j;\n    var jLen = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      j = 0;\n\n      while (j < jLen) {\n        if (this.layers[j].id === newLayers[i].id) {\n          this.layers[j] = newLayers[i];\n          break;\n        }\n\n        j += 1;\n      }\n    }\n  };\n\n  BaseRenderer.prototype.setProjectInterface = function (pInterface) {\n    this.globalData.projectInterface = pInterface;\n  };\n\n  BaseRenderer.prototype.initItems = function () {\n    if (!this.globalData.progressiveLoad) {\n      this.buildAllItems();\n    }\n  };\n\n  BaseRenderer.prototype.buildElementParenting = function (element, parentName, hierarchy) {\n    var elements = this.elements;\n    var layers = this.layers;\n    var i = 0;\n    var len = layers.length;\n\n    while (i < len) {\n      if (layers[i].ind == parentName) {\n        // eslint-disable-line eqeqeq\n        if (!elements[i] || elements[i] === true) {\n          this.buildItem(i);\n          this.addPendingElement(element);\n        } else {\n          hierarchy.push(elements[i]);\n          elements[i].setAsParent();\n\n          if (layers[i].parent !== undefined) {\n            this.buildElementParenting(element, layers[i].parent, hierarchy);\n          } else {\n            element.setHierarchy(hierarchy);\n          }\n        }\n      }\n\n      i += 1;\n    }\n  };\n\n  BaseRenderer.prototype.addPendingElement = function (element) {\n    this.pendingElements.push(element);\n  };\n\n  BaseRenderer.prototype.searchExtraCompositions = function (assets) {\n    var i;\n    var len = assets.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (assets[i].xt) {\n        var comp = this.createComp(assets[i]);\n        comp.initExpressions();\n        this.globalData.projectInterface.registerComposition(comp);\n      }\n    }\n  };\n\n  BaseRenderer.prototype.getElementByPath = function (path) {\n    var pathValue = path.shift();\n    var element;\n\n    if (typeof pathValue === 'number') {\n      element = this.elements[pathValue];\n    } else {\n      var i;\n      var len = this.elements.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (this.elements[i].data.nm === pathValue) {\n          element = this.elements[i];\n          break;\n        }\n      }\n    }\n\n    if (path.length === 0) {\n      return element;\n    }\n\n    return element.getElementByPath(path);\n  };\n\n  BaseRenderer.prototype.setupGlobalData = function (animData, fontsContainer) {\n    this.globalData.fontManager = new FontManager();\n    this.globalData.fontManager.addChars(animData.chars);\n    this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\n    this.globalData.imageLoader = this.animationItem.imagePreloader;\n    this.globalData.audioController = this.animationItem.audioController;\n    this.globalData.frameId = 0;\n    this.globalData.frameRate = animData.fr;\n    this.globalData.nm = animData.nm;\n    this.globalData.compSize = {\n      w: animData.w,\n      h: animData.h\n    };\n  };\n\n  function TransformElement() {}\n\n  TransformElement.prototype = {\n    initTransform: function initTransform() {\n      this.finalTransform = {\n        mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {\n          o: 0\n        },\n        _matMdf: false,\n        _opMdf: false,\n        mat: new Matrix()\n      };\n\n      if (this.data.ao) {\n        this.finalTransform.mProp.autoOriented = true;\n      } // TODO: check TYPE 11: Guided elements\n\n\n      if (this.data.ty !== 11) {// this.createElements();\n      }\n    },\n    renderTransform: function renderTransform() {\n      this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\n      this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\n\n      if (this.hierarchy) {\n        var mat;\n        var finalMat = this.finalTransform.mat;\n        var i = 0;\n        var len = this.hierarchy.length; // Checking if any of the transformation matrices in the hierarchy chain has changed.\n\n        if (!this.finalTransform._matMdf) {\n          while (i < len) {\n            if (this.hierarchy[i].finalTransform.mProp._mdf) {\n              this.finalTransform._matMdf = true;\n              break;\n            }\n\n            i += 1;\n          }\n        }\n\n        if (this.finalTransform._matMdf) {\n          mat = this.finalTransform.mProp.v.props;\n          finalMat.cloneFromProps(mat);\n\n          for (i = 0; i < len; i += 1) {\n            mat = this.hierarchy[i].finalTransform.mProp.v.props;\n            finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\n          }\n        }\n      }\n    },\n    globalToLocal: function globalToLocal(pt) {\n      var transforms = [];\n      transforms.push(this.finalTransform);\n      var flag = true;\n      var comp = this.comp;\n\n      while (flag) {\n        if (comp.finalTransform) {\n          if (comp.data.hasMask) {\n            transforms.splice(0, 0, comp.finalTransform);\n          }\n\n          comp = comp.comp;\n        } else {\n          flag = false;\n        }\n      }\n\n      var i;\n      var len = transforms.length;\n      var ptNew;\n\n      for (i = 0; i < len; i += 1) {\n        ptNew = transforms[i].mat.applyToPointArray(0, 0, 0); // ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\n\n        pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\n      }\n\n      return pt;\n    },\n    mHelper: new Matrix()\n  };\n\n  function MaskElement(data, element, globalData) {\n    this.data = data;\n    this.element = element;\n    this.globalData = globalData;\n    this.storedData = [];\n    this.masksProperties = this.data.masksProperties || [];\n    this.maskElement = null;\n    var defs = this.globalData.defs;\n    var i;\n    var len = this.masksProperties ? this.masksProperties.length : 0;\n    this.viewData = createSizedArray(len);\n    this.solidPath = '';\n    var path;\n    var properties = this.masksProperties;\n    var count = 0;\n    var currentMasks = [];\n    var j;\n    var jLen;\n    var layerId = createElementID();\n    var rect;\n    var expansor;\n    var feMorph;\n    var x;\n    var maskType = 'clipPath';\n    var maskRef = 'clip-path';\n\n    for (i = 0; i < len; i += 1) {\n      if (properties[i].mode !== 'a' && properties[i].mode !== 'n' || properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x) {\n        maskType = 'mask';\n        maskRef = 'mask';\n      }\n\n      if ((properties[i].mode === 's' || properties[i].mode === 'i') && count === 0) {\n        rect = createNS('rect');\n        rect.setAttribute('fill', '#ffffff');\n        rect.setAttribute('width', this.element.comp.data.w || 0);\n        rect.setAttribute('height', this.element.comp.data.h || 0);\n        currentMasks.push(rect);\n      } else {\n        rect = null;\n      }\n\n      path = createNS('path');\n\n      if (properties[i].mode === 'n') {\n        // TODO move this to a factory or to a constructor\n        this.viewData[i] = {\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n          elem: path,\n          lastPath: ''\n        };\n        defs.appendChild(path);\n      } else {\n        count += 1;\n        path.setAttribute('fill', properties[i].mode === 's' ? '#000000' : '#ffffff');\n        path.setAttribute('clip-rule', 'nonzero');\n        var filterID;\n\n        if (properties[i].x.k !== 0) {\n          maskType = 'mask';\n          maskRef = 'mask';\n          x = PropertyFactory.getProp(this.element, properties[i].x, 0, null, this.element);\n          filterID = createElementID();\n          expansor = createNS('filter');\n          expansor.setAttribute('id', filterID);\n          feMorph = createNS('feMorphology');\n          feMorph.setAttribute('operator', 'erode');\n          feMorph.setAttribute('in', 'SourceGraphic');\n          feMorph.setAttribute('radius', '0');\n          expansor.appendChild(feMorph);\n          defs.appendChild(expansor);\n          path.setAttribute('stroke', properties[i].mode === 's' ? '#000000' : '#ffffff');\n        } else {\n          feMorph = null;\n          x = null;\n        } // TODO move this to a factory or to a constructor\n\n\n        this.storedData[i] = {\n          elem: path,\n          x: x,\n          expan: feMorph,\n          lastPath: '',\n          lastOperator: '',\n          filterId: filterID,\n          lastRadius: 0\n        };\n\n        if (properties[i].mode === 'i') {\n          jLen = currentMasks.length;\n          var g = createNS('g');\n\n          for (j = 0; j < jLen; j += 1) {\n            g.appendChild(currentMasks[j]);\n          }\n\n          var mask = createNS('mask');\n          mask.setAttribute('mask-type', 'alpha');\n          mask.setAttribute('id', layerId + '_' + count);\n          mask.appendChild(path);\n          defs.appendChild(mask);\n          g.setAttribute('mask', 'url(' + getLocationHref() + '#' + layerId + '_' + count + ')');\n          currentMasks.length = 0;\n          currentMasks.push(g);\n        } else {\n          currentMasks.push(path);\n        }\n\n        if (properties[i].inv && !this.solidPath) {\n          this.solidPath = this.createLayerSolidPath();\n        } // TODO move this to a factory or to a constructor\n\n\n        this.viewData[i] = {\n          elem: path,\n          lastPath: '',\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n          invRect: rect\n        };\n\n        if (!this.viewData[i].prop.k) {\n          this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\n        }\n      }\n    }\n\n    this.maskElement = createNS(maskType);\n    len = currentMasks.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.maskElement.appendChild(currentMasks[i]);\n    }\n\n    if (count > 0) {\n      this.maskElement.setAttribute('id', layerId);\n      this.element.maskedElement.setAttribute(maskRef, 'url(' + getLocationHref() + '#' + layerId + ')');\n      defs.appendChild(this.maskElement);\n    }\n\n    if (this.viewData.length) {\n      this.element.addRenderableComponent(this);\n    }\n  }\n\n  MaskElement.prototype.getMaskProperty = function (pos) {\n    return this.viewData[pos].prop;\n  };\n\n  MaskElement.prototype.renderFrame = function (isFirstFrame) {\n    var finalMat = this.element.finalTransform.mat;\n    var i;\n    var len = this.masksProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.viewData[i].prop._mdf || isFirstFrame) {\n        this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\n      }\n\n      if (this.viewData[i].op._mdf || isFirstFrame) {\n        this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\n      }\n\n      if (this.masksProperties[i].mode !== 'n') {\n        if (this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {\n          this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS());\n        }\n\n        if (this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)) {\n          var feMorph = this.storedData[i].expan;\n\n          if (this.storedData[i].x.v < 0) {\n            if (this.storedData[i].lastOperator !== 'erode') {\n              this.storedData[i].lastOperator = 'erode';\n              this.storedData[i].elem.setAttribute('filter', 'url(' + getLocationHref() + '#' + this.storedData[i].filterId + ')');\n            }\n\n            feMorph.setAttribute('radius', -this.storedData[i].x.v);\n          } else {\n            if (this.storedData[i].lastOperator !== 'dilate') {\n              this.storedData[i].lastOperator = 'dilate';\n              this.storedData[i].elem.setAttribute('filter', null);\n            }\n\n            this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\n          }\n        }\n      }\n    }\n  };\n\n  MaskElement.prototype.getMaskelement = function () {\n    return this.maskElement;\n  };\n\n  MaskElement.prototype.createLayerSolidPath = function () {\n    var path = 'M0,0 ';\n    path += ' h' + this.globalData.compSize.w;\n    path += ' v' + this.globalData.compSize.h;\n    path += ' h-' + this.globalData.compSize.w;\n    path += ' v-' + this.globalData.compSize.h + ' ';\n    return path;\n  };\n\n  MaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\n    var pathString = ' M' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n    var i;\n    var len;\n    len = pathNodes._length;\n\n    for (i = 1; i < len; i += 1) {\n      // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[i][0] + ',' + pathNodes.i[i][1] + ' ' + pathNodes.v[i][0] + ',' + pathNodes.v[i][1];\n    } // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\n\n\n    if (pathNodes.c && len > 1) {\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[0][0] + ',' + pathNodes.i[0][1] + ' ' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n    } // pathNodes.__renderedString = pathString;\n\n\n    if (viewData.lastPath !== pathString) {\n      var pathShapeValue = '';\n\n      if (viewData.elem) {\n        if (pathNodes.c) {\n          pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\n        }\n\n        viewData.elem.setAttribute('d', pathShapeValue);\n      }\n\n      viewData.lastPath = pathString;\n    }\n  };\n\n  MaskElement.prototype.destroy = function () {\n    this.element = null;\n    this.globalData = null;\n    this.maskElement = null;\n    this.data = null;\n    this.masksProperties = null;\n  };\n\n  var filtersFactory = function () {\n    var ob = {};\n    ob.createFilter = createFilter;\n    ob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\n\n    function createFilter(filId, skipCoordinates) {\n      var fil = createNS('filter');\n      fil.setAttribute('id', filId);\n\n      if (skipCoordinates !== true) {\n        fil.setAttribute('filterUnits', 'objectBoundingBox');\n        fil.setAttribute('x', '0%');\n        fil.setAttribute('y', '0%');\n        fil.setAttribute('width', '100%');\n        fil.setAttribute('height', '100%');\n      }\n\n      return fil;\n    }\n\n    function createAlphaToLuminanceFilter() {\n      var feColorMatrix = createNS('feColorMatrix');\n      feColorMatrix.setAttribute('type', 'matrix');\n      feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n      feColorMatrix.setAttribute('values', '0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\n      return feColorMatrix;\n    }\n\n    return ob;\n  }();\n\n  var featureSupport = function () {\n    var ob = {\n      maskType: true\n    };\n\n    if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\n      ob.maskType = false;\n    }\n\n    return ob;\n  }();\n\n  var registeredEffects = {};\n  var idPrefix = 'filter_result_';\n\n  function SVGEffects(elem) {\n    var i;\n    var source = 'SourceGraphic';\n    var len = elem.data.ef ? elem.data.ef.length : 0;\n    var filId = createElementID();\n    var fil = filtersFactory.createFilter(filId, true);\n    var count = 0;\n    this.filters = [];\n    var filterManager;\n\n    for (i = 0; i < len; i += 1) {\n      filterManager = null;\n      var type = elem.data.ef[i].ty;\n\n      if (registeredEffects[type]) {\n        var Effect = registeredEffects[type].effect;\n        filterManager = new Effect(fil, elem.effectsManager.effectElements[i], elem, idPrefix + count, source);\n        source = idPrefix + count;\n\n        if (registeredEffects[type].countsAsEffect) {\n          count += 1;\n        }\n      }\n\n      if (filterManager) {\n        this.filters.push(filterManager);\n      }\n    }\n\n    if (count) {\n      elem.globalData.defs.appendChild(fil);\n      elem.layerElement.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n    }\n\n    if (this.filters.length) {\n      elem.addRenderableComponent(this);\n    }\n  }\n\n  SVGEffects.prototype.renderFrame = function (_isFirstFrame) {\n    var i;\n    var len = this.filters.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.filters[i].renderFrame(_isFirstFrame);\n    }\n  };\n\n  function registerEffect(id, effect, countsAsEffect) {\n    registeredEffects[id] = {\n      effect: effect,\n      countsAsEffect: countsAsEffect\n    };\n  }\n\n  function SVGBaseElement() {}\n\n  SVGBaseElement.prototype = {\n    initRendererElement: function initRendererElement() {\n      this.layerElement = createNS('g');\n    },\n    createContainerElements: function createContainerElements() {\n      this.matteElement = createNS('g');\n      this.transformedElement = this.layerElement;\n      this.maskedElement = this.layerElement;\n      this._sizeChanged = false;\n      var layerElementParent = null; // If this layer acts as a mask for the following layer\n\n      var filId;\n      var fil;\n      var gg;\n\n      if (this.data.td) {\n        if (this.data.td == 3 || this.data.td == 1) {\n          // eslint-disable-line eqeqeq\n          var masker = createNS('mask');\n          masker.setAttribute('id', this.layerId);\n          masker.setAttribute('mask-type', this.data.td == 3 ? 'luminance' : 'alpha'); // eslint-disable-line eqeqeq\n\n          masker.appendChild(this.layerElement);\n          layerElementParent = masker;\n          this.globalData.defs.appendChild(masker); // This is only for IE and Edge when mask if of type alpha\n\n          if (!featureSupport.maskType && this.data.td == 1) {\n            // eslint-disable-line eqeqeq\n            masker.setAttribute('mask-type', 'luminance');\n            filId = createElementID();\n            fil = filtersFactory.createFilter(filId);\n            this.globalData.defs.appendChild(fil);\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n            gg = createNS('g');\n            gg.appendChild(this.layerElement);\n            layerElementParent = gg;\n            masker.appendChild(gg);\n            gg.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n          }\n        } else if (this.data.td == 2) {\n          // eslint-disable-line eqeqeq\n          var maskGroup = createNS('mask');\n          maskGroup.setAttribute('id', this.layerId);\n          maskGroup.setAttribute('mask-type', 'alpha');\n          var maskGrouper = createNS('g');\n          maskGroup.appendChild(maskGrouper);\n          filId = createElementID();\n          fil = filtersFactory.createFilter(filId); /// /\n          // This solution doesn't work on Android when meta tag with viewport attribute is set\n\n          /* var feColorMatrix = createNS('feColorMatrix');\r\n                  feColorMatrix.setAttribute('type', 'matrix');\r\n                  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n                  feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\r\n                  fil.appendChild(feColorMatrix); */\n          /// /\n\n          var feCTr = createNS('feComponentTransfer');\n          feCTr.setAttribute('in', 'SourceGraphic');\n          fil.appendChild(feCTr);\n          var feFunc = createNS('feFuncA');\n          feFunc.setAttribute('type', 'table');\n          feFunc.setAttribute('tableValues', '1.0 0.0');\n          feCTr.appendChild(feFunc); /// /\n\n          this.globalData.defs.appendChild(fil);\n          var alphaRect = createNS('rect');\n          alphaRect.setAttribute('width', this.comp.data.w);\n          alphaRect.setAttribute('height', this.comp.data.h);\n          alphaRect.setAttribute('x', '0');\n          alphaRect.setAttribute('y', '0');\n          alphaRect.setAttribute('fill', '#ffffff');\n          alphaRect.setAttribute('opacity', '0');\n          maskGrouper.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n          maskGrouper.appendChild(alphaRect);\n          maskGrouper.appendChild(this.layerElement);\n          layerElementParent = maskGrouper;\n\n          if (!featureSupport.maskType) {\n            maskGroup.setAttribute('mask-type', 'luminance');\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n            gg = createNS('g');\n            maskGrouper.appendChild(alphaRect);\n            gg.appendChild(this.layerElement);\n            layerElementParent = gg;\n            maskGrouper.appendChild(gg);\n          }\n\n          this.globalData.defs.appendChild(maskGroup);\n        }\n      } else if (this.data.tt) {\n        this.matteElement.appendChild(this.layerElement);\n        layerElementParent = this.matteElement;\n        this.baseElement = this.matteElement;\n      } else {\n        this.baseElement = this.layerElement;\n      }\n\n      if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n      }\n\n      if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n      } // Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\n\n\n      if (this.data.ty === 0 && !this.data.hd) {\n        var cp = createNS('clipPath');\n        var pt = createNS('path');\n        pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0 L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\n        var clipId = createElementID();\n        cp.setAttribute('id', clipId);\n        cp.appendChild(pt);\n        this.globalData.defs.appendChild(cp);\n\n        if (this.checkMasks()) {\n          var cpGroup = createNS('g');\n          cpGroup.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\n          cpGroup.appendChild(this.layerElement);\n          this.transformedElement = cpGroup;\n\n          if (layerElementParent) {\n            layerElementParent.appendChild(this.transformedElement);\n          } else {\n            this.baseElement = this.transformedElement;\n          }\n        } else {\n          this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\n        }\n      }\n\n      if (this.data.bm !== 0) {\n        this.setBlendMode();\n      }\n    },\n    renderElement: function renderElement() {\n      if (this.finalTransform._matMdf) {\n        this.transformedElement.setAttribute('transform', this.finalTransform.mat.to2dCSS());\n      }\n\n      if (this.finalTransform._opMdf) {\n        this.transformedElement.setAttribute('opacity', this.finalTransform.mProp.o.v);\n      }\n    },\n    destroyBaseElement: function destroyBaseElement() {\n      this.layerElement = null;\n      this.matteElement = null;\n      this.maskManager.destroy();\n    },\n    getBaseElement: function getBaseElement() {\n      if (this.data.hd) {\n        return null;\n      }\n\n      return this.baseElement;\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\n      this.renderableEffectsManager = new SVGEffects(this);\n    },\n    setMatte: function setMatte(id) {\n      if (!this.matteElement) {\n        return;\n      }\n\n      this.matteElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\n    }\n  };\n\n  /**\r\n   * @file\r\n   * Handles AE's layer parenting property.\r\n   *\r\n   */\n  function HierarchyElement() {}\n\n  HierarchyElement.prototype = {\n    /**\r\n       * @function\r\n       * Initializes hierarchy properties\r\n       *\r\n       */\n    initHierarchy: function initHierarchy() {\n      // element's parent list\n      this.hierarchy = []; // if element is parent of another layer _isParent will be true\n\n      this._isParent = false;\n      this.checkParenting();\n    },\n\n    /**\r\n       * @function\r\n       * Sets layer's hierarchy.\r\n       * @param {array} hierarch\r\n       * layer's parent list\r\n       *\r\n       */\n    setHierarchy: function setHierarchy(hierarchy) {\n      this.hierarchy = hierarchy;\n    },\n\n    /**\r\n       * @function\r\n       * Sets layer as parent.\r\n       *\r\n       */\n    setAsParent: function setAsParent() {\n      this._isParent = true;\n    },\n\n    /**\r\n       * @function\r\n       * Searches layer's parenting chain\r\n       *\r\n       */\n    checkParenting: function checkParenting() {\n      if (this.data.parent !== undefined) {\n        this.comp.buildElementParenting(this, this.data.parent, []);\n      }\n    }\n  };\n\n  function RenderableDOMElement() {}\n\n  (function () {\n    var _prototype = {\n      initElement: function initElement(data, globalData, comp) {\n        this.initFrame();\n        this.initBaseData(data, globalData, comp);\n        this.initTransform(data, globalData, comp);\n        this.initHierarchy();\n        this.initRenderable();\n        this.initRendererElement();\n        this.createContainerElements();\n        this.createRenderableComponents();\n        this.createContent();\n        this.hide();\n      },\n      hide: function hide() {\n        // console.log('HIDE', this);\n        if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n          var elem = this.baseElement || this.layerElement;\n          elem.style.display = 'none';\n          this.hidden = true;\n        }\n      },\n      show: function show() {\n        // console.log('SHOW', this);\n        if (this.isInRange && !this.isTransparent) {\n          if (!this.data.hd) {\n            var elem = this.baseElement || this.layerElement;\n            elem.style.display = 'block';\n          }\n\n          this.hidden = false;\n          this._isFirstFrame = true;\n        }\n      },\n      renderFrame: function renderFrame() {\n        // If it is exported as hidden (data.hd === true) no need to render\n        // If it is not visible no need to render\n        if (this.data.hd || this.hidden) {\n          return;\n        }\n\n        this.renderTransform();\n        this.renderRenderable();\n        this.renderElement();\n        this.renderInnerContent();\n\n        if (this._isFirstFrame) {\n          this._isFirstFrame = false;\n        }\n      },\n      renderInnerContent: function renderInnerContent() {},\n      prepareFrame: function prepareFrame(num) {\n        this._mdf = false;\n        this.prepareRenderableFrame(num);\n        this.prepareProperties(num, this.isInRange);\n        this.checkTransparency();\n      },\n      destroy: function destroy() {\n        this.innerElem = null;\n        this.destroyBaseElement();\n      }\n    };\n    extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\n  })();\n\n  function IImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initElement(data, globalData, comp);\n    this.sourceRect = {\n      top: 0,\n      left: 0,\n      width: this.assetData.w,\n      height: this.assetData.h\n    };\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);\n\n  IImageElement.prototype.createContent = function () {\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    this.innerElem = createNS('image');\n    this.innerElem.setAttribute('width', this.assetData.w + 'px');\n    this.innerElem.setAttribute('height', this.assetData.h + 'px');\n    this.innerElem.setAttribute('preserveAspectRatio', this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\n    this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n    this.layerElement.appendChild(this.innerElem);\n  };\n\n  IImageElement.prototype.sourceRectAtTime = function () {\n    return this.sourceRect;\n  };\n\n  function ProcessedElement(element, position) {\n    this.elem = element;\n    this.pos = position;\n  }\n\n  function IShapeElement() {}\n\n  IShapeElement.prototype = {\n    addShapeToModifiers: function addShapeToModifiers(data) {\n      var i;\n      var len = this.shapeModifiers.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.shapeModifiers[i].addShape(data);\n      }\n    },\n    isShapeInAnimatedModifiers: function isShapeInAnimatedModifiers(data) {\n      var i = 0;\n      var len = this.shapeModifiers.length;\n\n      while (i < len) {\n        if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n    renderModifiers: function renderModifiers() {\n      if (!this.shapeModifiers.length) {\n        return;\n      }\n\n      var i;\n      var len = this.shapes.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].sh.reset();\n      }\n\n      len = this.shapeModifiers.length;\n      var shouldBreakProcess;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        shouldBreakProcess = this.shapeModifiers[i].processShapes(this._isFirstFrame); // workaround to fix cases where a repeater resets the shape so the following processes get called twice\n        // TODO: find a better solution for this\n\n        if (shouldBreakProcess) {\n          break;\n        }\n      }\n    },\n    searchProcessedElement: function searchProcessedElement(elem) {\n      var elements = this.processedElements;\n      var i = 0;\n      var len = elements.length;\n\n      while (i < len) {\n        if (elements[i].elem === elem) {\n          return elements[i].pos;\n        }\n\n        i += 1;\n      }\n\n      return 0;\n    },\n    addProcessedElement: function addProcessedElement(elem, pos) {\n      var elements = this.processedElements;\n      var i = elements.length;\n\n      while (i) {\n        i -= 1;\n\n        if (elements[i].elem === elem) {\n          elements[i].pos = pos;\n          return;\n        }\n      }\n\n      elements.push(new ProcessedElement(elem, pos));\n    },\n    prepareFrame: function prepareFrame(num) {\n      this.prepareRenderableFrame(num);\n      this.prepareProperties(num, this.isInRange);\n    }\n  };\n\n  var lineCapEnum = {\n    1: 'butt',\n    2: 'round',\n    3: 'square'\n  };\n  var lineJoinEnum = {\n    1: 'miter',\n    2: 'round',\n    3: 'bevel'\n  };\n\n  function SVGShapeData(transformers, level, shape) {\n    this.caches = [];\n    this.styles = [];\n    this.transformers = transformers;\n    this.lStr = '';\n    this.sh = shape;\n    this.lvl = level; // TODO find if there are some cases where _isAnimated can be false.\n    // For now, since shapes add up with other shapes. They have to be calculated every time.\n    // One way of finding out is checking if all styles associated to this shape depend only of this shape\n\n    this._isAnimated = !!shape.k; // TODO: commenting this for now since all shapes are animated\n\n    var i = 0;\n    var len = transformers.length;\n\n    while (i < len) {\n      if (transformers[i].mProps.dynamicProperties.length) {\n        this._isAnimated = true;\n        break;\n      }\n\n      i += 1;\n    }\n  }\n\n  SVGShapeData.prototype.setAsAnimated = function () {\n    this._isAnimated = true;\n  };\n\n  function SVGStyleData(data, level) {\n    this.data = data;\n    this.type = data.ty;\n    this.d = '';\n    this.lvl = level;\n    this._mdf = false;\n    this.closed = data.hd === true;\n    this.pElem = createNS('path');\n    this.msElem = null;\n  }\n\n  SVGStyleData.prototype.reset = function () {\n    this.d = '';\n    this._mdf = false;\n  };\n\n  function DashProperty(elem, data, renderer, container) {\n    this.elem = elem;\n    this.frameId = -1;\n    this.dataProps = createSizedArray(data.length);\n    this.renderer = renderer;\n    this.k = false;\n    this.dashStr = '';\n    this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\n    this.dashoffset = createTypedArray('float32', 1);\n    this.initDynamicPropertyContainer(container);\n    var i;\n    var len = data.length || 0;\n    var prop;\n\n    for (i = 0; i < len; i += 1) {\n      prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\n      this.k = prop.k || this.k;\n      this.dataProps[i] = {\n        n: data[i].n,\n        p: prop\n      };\n    }\n\n    if (!this.k) {\n      this.getValue(true);\n    }\n\n    this._isAnimated = this.k;\n  }\n\n  DashProperty.prototype.getValue = function (forceRender) {\n    if (this.elem.globalData.frameId === this.frameId && !forceRender) {\n      return;\n    }\n\n    this.frameId = this.elem.globalData.frameId;\n    this.iterateDynamicProperties();\n    this._mdf = this._mdf || forceRender;\n\n    if (this._mdf) {\n      var i = 0;\n      var len = this.dataProps.length;\n\n      if (this.renderer === 'svg') {\n        this.dashStr = '';\n      }\n\n      for (i = 0; i < len; i += 1) {\n        if (this.dataProps[i].n !== 'o') {\n          if (this.renderer === 'svg') {\n            this.dashStr += ' ' + this.dataProps[i].p.v;\n          } else {\n            this.dashArray[i] = this.dataProps[i].p.v;\n          }\n        } else {\n          this.dashoffset[0] = this.dataProps[i].p.v;\n        }\n      }\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], DashProperty);\n\n  function SVGStrokeStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n    this.style = styleOb;\n    this._isAnimated = !!this._isAnimated;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\n\n  function SVGFillStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n    this.style = styleOb;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGFillStyleData);\n\n  function SVGNoStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.style = styleOb;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGNoStyleData);\n\n  function GradientProperty(elem, data, container) {\n    this.data = data;\n    this.c = createTypedArray('uint8c', data.p * 4);\n    var cLength = data.k.k[0].s ? data.k.k[0].s.length - data.p * 4 : data.k.k.length - data.p * 4;\n    this.o = createTypedArray('float32', cLength);\n    this._cmdf = false;\n    this._omdf = false;\n    this._collapsable = this.checkCollapsable();\n    this._hasOpacity = cLength;\n    this.initDynamicPropertyContainer(container);\n    this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\n    this.k = this.prop.k;\n    this.getValue(true);\n  }\n\n  GradientProperty.prototype.comparePoints = function (values, points) {\n    var i = 0;\n    var len = this.o.length / 2;\n    var diff;\n\n    while (i < len) {\n      diff = Math.abs(values[i * 4] - values[points * 4 + i * 2]);\n\n      if (diff > 0.01) {\n        return false;\n      }\n\n      i += 1;\n    }\n\n    return true;\n  };\n\n  GradientProperty.prototype.checkCollapsable = function () {\n    if (this.o.length / 2 !== this.c.length / 4) {\n      return false;\n    }\n\n    if (this.data.k.k[0].s) {\n      var i = 0;\n      var len = this.data.k.k.length;\n\n      while (i < len) {\n        if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\n          return false;\n        }\n\n        i += 1;\n      }\n    } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\n      return false;\n    }\n\n    return true;\n  };\n\n  GradientProperty.prototype.getValue = function (forceRender) {\n    this.prop.getValue();\n    this._mdf = false;\n    this._cmdf = false;\n    this._omdf = false;\n\n    if (this.prop._mdf || forceRender) {\n      var i;\n      var len = this.data.p * 4;\n      var mult;\n      var val;\n\n      for (i = 0; i < len; i += 1) {\n        mult = i % 4 === 0 ? 100 : 255;\n        val = Math.round(this.prop.v[i] * mult);\n\n        if (this.c[i] !== val) {\n          this.c[i] = val;\n          this._cmdf = !forceRender;\n        }\n      }\n\n      if (this.o.length) {\n        len = this.prop.v.length;\n\n        for (i = this.data.p * 4; i < len; i += 1) {\n          mult = i % 2 === 0 ? 100 : 1;\n          val = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\n\n          if (this.o[i - this.data.p * 4] !== val) {\n            this.o[i - this.data.p * 4] = val;\n            this._omdf = !forceRender;\n          }\n        }\n      }\n\n      this._mdf = !forceRender;\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], GradientProperty);\n\n  function SVGGradientFillStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.initGradientData(elem, data, styleOb);\n  }\n\n  SVGGradientFillStyleData.prototype.initGradientData = function (elem, data, styleOb) {\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.s = PropertyFactory.getProp(elem, data.s, 1, null, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 1, null, this);\n    this.h = PropertyFactory.getProp(elem, data.h || {\n      k: 0\n    }, 0, 0.01, this);\n    this.a = PropertyFactory.getProp(elem, data.a || {\n      k: 0\n    }, 0, degToRads, this);\n    this.g = new GradientProperty(elem, data.g, this);\n    this.style = styleOb;\n    this.stops = [];\n    this.setGradientData(styleOb.pElem, data);\n    this.setGradientOpacity(data, styleOb);\n    this._isAnimated = !!this._isAnimated;\n  };\n\n  SVGGradientFillStyleData.prototype.setGradientData = function (pathElement, data) {\n    var gradientId = createElementID();\n    var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n    gfill.setAttribute('id', gradientId);\n    gfill.setAttribute('spreadMethod', 'pad');\n    gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\n    var stops = [];\n    var stop;\n    var j;\n    var jLen;\n    jLen = data.g.p * 4;\n\n    for (j = 0; j < jLen; j += 4) {\n      stop = createNS('stop');\n      gfill.appendChild(stop);\n      stops.push(stop);\n    }\n\n    pathElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + gradientId + ')');\n    this.gf = gfill;\n    this.cst = stops;\n  };\n\n  SVGGradientFillStyleData.prototype.setGradientOpacity = function (data, styleOb) {\n    if (this.g._hasOpacity && !this.g._collapsable) {\n      var stop;\n      var j;\n      var jLen;\n      var mask = createNS('mask');\n      var maskElement = createNS('path');\n      mask.appendChild(maskElement);\n      var opacityId = createElementID();\n      var maskId = createElementID();\n      mask.setAttribute('id', maskId);\n      var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n      opFill.setAttribute('id', opacityId);\n      opFill.setAttribute('spreadMethod', 'pad');\n      opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\n      jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\n      var stops = this.stops;\n\n      for (j = data.g.p * 4; j < jLen; j += 2) {\n        stop = createNS('stop');\n        stop.setAttribute('stop-color', 'rgb(255,255,255)');\n        opFill.appendChild(stop);\n        stops.push(stop);\n      }\n\n      maskElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + opacityId + ')');\n\n      if (data.ty === 'gs') {\n        maskElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\n        maskElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\n\n        if (data.lj === 1) {\n          maskElement.setAttribute('stroke-miterlimit', data.ml);\n        }\n      }\n\n      this.of = opFill;\n      this.ms = mask;\n      this.ost = stops;\n      this.maskId = maskId;\n      styleOb.msElem = maskElement;\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\n\n  function SVGGradientStrokeStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n    this.initGradientData(elem, data, styleOb);\n    this._isAnimated = !!this._isAnimated;\n  }\n\n  extendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\n\n  function ShapeGroupData() {\n    this.it = [];\n    this.prevViewData = [];\n    this.gr = createNS('g');\n  }\n\n  function SVGTransformData(mProps, op, container) {\n    this.transform = {\n      mProps: mProps,\n      op: op,\n      container: container\n    };\n    this.elements = [];\n    this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\n  }\n\n  var buildShapeString = function buildShapeString(pathNodes, length, closed, mat) {\n    if (length === 0) {\n      return '';\n    }\n\n    var _o = pathNodes.o;\n    var _i = pathNodes.i;\n    var _v = pathNodes.v;\n    var i;\n    var shapeString = ' M' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n\n    for (i = 1; i < length; i += 1) {\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[i][0], _i[i][1]) + ' ' + mat.applyToPointStringified(_v[i][0], _v[i][1]);\n    }\n\n    if (closed && length) {\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[0][0], _i[0][1]) + ' ' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n      shapeString += 'z';\n    }\n\n    return shapeString;\n  };\n\n  var SVGElementsRenderer = function () {\n    var _identityMatrix = new Matrix();\n\n    var _matrixHelper = new Matrix();\n\n    var ob = {\n      createRenderFunction: createRenderFunction\n    };\n\n    function createRenderFunction(data) {\n      switch (data.ty) {\n        case 'fl':\n          return renderFill;\n\n        case 'gf':\n          return renderGradient;\n\n        case 'gs':\n          return renderGradientStroke;\n\n        case 'st':\n          return renderStroke;\n\n        case 'sh':\n        case 'el':\n        case 'rc':\n        case 'sr':\n          return renderPath;\n\n        case 'tr':\n          return renderContentTransform;\n\n        case 'no':\n          return renderNoop;\n\n        default:\n          return null;\n      }\n    }\n\n    function renderContentTransform(styleData, itemData, isFirstFrame) {\n      if (isFirstFrame || itemData.transform.op._mdf) {\n        itemData.transform.container.setAttribute('opacity', itemData.transform.op.v);\n      }\n\n      if (isFirstFrame || itemData.transform.mProps._mdf) {\n        itemData.transform.container.setAttribute('transform', itemData.transform.mProps.v.to2dCSS());\n      }\n    }\n\n    function renderNoop() {}\n\n    function renderPath(styleData, itemData, isFirstFrame) {\n      var j;\n      var jLen;\n      var pathStringTransformed;\n      var redraw;\n      var pathNodes;\n      var l;\n      var lLen = itemData.styles.length;\n      var lvl = itemData.lvl;\n      var paths;\n      var mat;\n      var props;\n      var iterations;\n      var k;\n\n      for (l = 0; l < lLen; l += 1) {\n        redraw = itemData.sh._mdf || isFirstFrame;\n\n        if (itemData.styles[l].lvl < lvl) {\n          mat = _matrixHelper.reset();\n          iterations = lvl - itemData.styles[l].lvl;\n          k = itemData.transformers.length - 1;\n\n          while (!redraw && iterations > 0) {\n            redraw = itemData.transformers[k].mProps._mdf || redraw;\n            iterations -= 1;\n            k -= 1;\n          }\n\n          if (redraw) {\n            iterations = lvl - itemData.styles[l].lvl;\n            k = itemData.transformers.length - 1;\n\n            while (iterations > 0) {\n              props = itemData.transformers[k].mProps.v.props;\n              mat.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\n              iterations -= 1;\n              k -= 1;\n            }\n          }\n        } else {\n          mat = _identityMatrix;\n        }\n\n        paths = itemData.sh.paths;\n        jLen = paths._length;\n\n        if (redraw) {\n          pathStringTransformed = '';\n\n          for (j = 0; j < jLen; j += 1) {\n            pathNodes = paths.shapes[j];\n\n            if (pathNodes && pathNodes._length) {\n              pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\n            }\n          }\n\n          itemData.caches[l] = pathStringTransformed;\n        } else {\n          pathStringTransformed = itemData.caches[l];\n        }\n\n        itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\n        itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\n      }\n    }\n\n    function renderFill(styleData, itemData, isFirstFrame) {\n      var styleElem = itemData.style;\n\n      if (itemData.c._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('fill', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\n      }\n\n      if (itemData.o._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('fill-opacity', itemData.o.v);\n      }\n    }\n\n    function renderGradientStroke(styleData, itemData, isFirstFrame) {\n      renderGradient(styleData, itemData, isFirstFrame);\n      renderStroke(styleData, itemData, isFirstFrame);\n    }\n\n    function renderGradient(styleData, itemData, isFirstFrame) {\n      var gfill = itemData.gf;\n      var hasOpacity = itemData.g._hasOpacity;\n      var pt1 = itemData.s.v;\n      var pt2 = itemData.e.v;\n\n      if (itemData.o._mdf || isFirstFrame) {\n        var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\n        itemData.style.pElem.setAttribute(attr, itemData.o.v);\n      }\n\n      if (itemData.s._mdf || isFirstFrame) {\n        var attr1 = styleData.t === 1 ? 'x1' : 'cx';\n        var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\n        gfill.setAttribute(attr1, pt1[0]);\n        gfill.setAttribute(attr2, pt1[1]);\n\n        if (hasOpacity && !itemData.g._collapsable) {\n          itemData.of.setAttribute(attr1, pt1[0]);\n          itemData.of.setAttribute(attr2, pt1[1]);\n        }\n      }\n\n      var stops;\n      var i;\n      var len;\n      var stop;\n\n      if (itemData.g._cmdf || isFirstFrame) {\n        stops = itemData.cst;\n        var cValues = itemData.g.c;\n        len = stops.length;\n\n        for (i = 0; i < len; i += 1) {\n          stop = stops[i];\n          stop.setAttribute('offset', cValues[i * 4] + '%');\n          stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\n        }\n      }\n\n      if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\n        var oValues = itemData.g.o;\n\n        if (itemData.g._collapsable) {\n          stops = itemData.cst;\n        } else {\n          stops = itemData.ost;\n        }\n\n        len = stops.length;\n\n        for (i = 0; i < len; i += 1) {\n          stop = stops[i];\n\n          if (!itemData.g._collapsable) {\n            stop.setAttribute('offset', oValues[i * 2] + '%');\n          }\n\n          stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\n        }\n      }\n\n      if (styleData.t === 1) {\n        if (itemData.e._mdf || isFirstFrame) {\n          gfill.setAttribute('x2', pt2[0]);\n          gfill.setAttribute('y2', pt2[1]);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('x2', pt2[0]);\n            itemData.of.setAttribute('y2', pt2[1]);\n          }\n        }\n      } else {\n        var rad;\n\n        if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\n          rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n          gfill.setAttribute('r', rad);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('r', rad);\n          }\n        }\n\n        if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\n          if (!rad) {\n            rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n          }\n\n          var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n          var percent = itemData.h.v;\n\n          if (percent >= 1) {\n            percent = 0.99;\n          } else if (percent <= -1) {\n            percent = -0.99;\n          }\n\n          var dist = rad * percent;\n          var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n          var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n          gfill.setAttribute('fx', x);\n          gfill.setAttribute('fy', y);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('fx', x);\n            itemData.of.setAttribute('fy', y);\n          }\n        } // gfill.setAttribute('fy','200');\n\n      }\n    }\n\n    function renderStroke(styleData, itemData, isFirstFrame) {\n      var styleElem = itemData.style;\n      var d = itemData.d;\n\n      if (d && (d._mdf || isFirstFrame) && d.dashStr) {\n        styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\n        styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\n      }\n\n      if (itemData.c && (itemData.c._mdf || isFirstFrame)) {\n        styleElem.pElem.setAttribute('stroke', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\n      }\n\n      if (itemData.o._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\n      }\n\n      if (itemData.w._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\n\n        if (styleElem.msElem) {\n          styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\n        }\n      }\n    }\n\n    return ob;\n  }();\n\n  function SVGShapeElement(data, globalData, comp) {\n    // List of drawable elements\n    this.shapes = []; // Full shape data\n\n    this.shapesData = data.shapes; // List of styles that will be applied to shapes\n\n    this.stylesList = []; // List of modifiers that will be applied to shapes\n\n    this.shapeModifiers = []; // List of items in shape tree\n\n    this.itemsData = []; // List of items in previous shape tree\n\n    this.processedElements = []; // List of animated components\n\n    this.animatedContents = [];\n    this.initElement(data, globalData, comp); // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n    // List of elements that have been created\n\n    this.prevViewData = []; // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);\n\n  SVGShapeElement.prototype.initSecondaryElement = function () {};\n\n  SVGShapeElement.prototype.identityMatrix = new Matrix();\n\n  SVGShapeElement.prototype.buildExpressionInterface = function () {};\n\n  SVGShapeElement.prototype.createContent = function () {\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n    this.filterUniqueShapes();\n  };\n  /*\r\n  This method searches for multiple shapes that affect a single element and one of them is animated\r\n  */\n\n\n  SVGShapeElement.prototype.filterUniqueShapes = function () {\n    var i;\n    var len = this.shapes.length;\n    var shape;\n    var j;\n    var jLen = this.stylesList.length;\n    var style;\n    var tempShapes = [];\n    var areAnimated = false;\n\n    for (j = 0; j < jLen; j += 1) {\n      style = this.stylesList[j];\n      areAnimated = false;\n      tempShapes.length = 0;\n\n      for (i = 0; i < len; i += 1) {\n        shape = this.shapes[i];\n\n        if (shape.styles.indexOf(style) !== -1) {\n          tempShapes.push(shape);\n          areAnimated = shape._isAnimated || areAnimated;\n        }\n      }\n\n      if (tempShapes.length > 1 && areAnimated) {\n        this.setShapesAsAnimated(tempShapes);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.setShapesAsAnimated = function (shapes) {\n    var i;\n    var len = shapes.length;\n\n    for (i = 0; i < len; i += 1) {\n      shapes[i].setAsAnimated();\n    }\n  };\n\n  SVGShapeElement.prototype.createStyleElement = function (data, level) {\n    // TODO: prevent drawing of hidden styles\n    var elementData;\n    var styleOb = new SVGStyleData(data, level);\n    var pathElement = styleOb.pElem;\n\n    if (data.ty === 'st') {\n      elementData = new SVGStrokeStyleData(this, data, styleOb);\n    } else if (data.ty === 'fl') {\n      elementData = new SVGFillStyleData(this, data, styleOb);\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      var GradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\n      elementData = new GradientConstructor(this, data, styleOb);\n      this.globalData.defs.appendChild(elementData.gf);\n\n      if (elementData.maskId) {\n        this.globalData.defs.appendChild(elementData.ms);\n        this.globalData.defs.appendChild(elementData.of);\n        pathElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + elementData.maskId + ')');\n      }\n    } else if (data.ty === 'no') {\n      elementData = new SVGNoStyleData(this, data, styleOb);\n    }\n\n    if (data.ty === 'st' || data.ty === 'gs') {\n      pathElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\n      pathElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\n      pathElement.setAttribute('fill-opacity', '0');\n\n      if (data.lj === 1) {\n        pathElement.setAttribute('stroke-miterlimit', data.ml);\n      }\n    }\n\n    if (data.r === 2) {\n      pathElement.setAttribute('fill-rule', 'evenodd');\n    }\n\n    if (data.ln) {\n      pathElement.setAttribute('id', data.ln);\n    }\n\n    if (data.cl) {\n      pathElement.setAttribute('class', data.cl);\n    }\n\n    if (data.bm) {\n      pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\n    }\n\n    this.stylesList.push(styleOb);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createGroupElement = function (data) {\n    var elementData = new ShapeGroupData();\n\n    if (data.ln) {\n      elementData.gr.setAttribute('id', data.ln);\n    }\n\n    if (data.cl) {\n      elementData.gr.setAttribute('class', data.cl);\n    }\n\n    if (data.bm) {\n      elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\n    }\n\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createTransformElement = function (data, container) {\n    var transformProperty = TransformPropertyFactory.getTransformProperty(this, data, this);\n    var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createShapeElement = function (data, ownTransformers, level) {\n    var ty = 4;\n\n    if (data.ty === 'rc') {\n      ty = 5;\n    } else if (data.ty === 'el') {\n      ty = 6;\n    } else if (data.ty === 'sr') {\n      ty = 7;\n    }\n\n    var shapeProperty = ShapePropertyFactory.getShapeProp(this, data, ty, this);\n    var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.addToAnimatedContents = function (data, element) {\n    var i = 0;\n    var len = this.animatedContents.length;\n\n    while (i < len) {\n      if (this.animatedContents[i].element === element) {\n        return;\n      }\n\n      i += 1;\n    }\n\n    this.animatedContents.push({\n      fn: SVGElementsRenderer.createRenderFunction(data),\n      element: element,\n      data: data\n    });\n  };\n\n  SVGShapeElement.prototype.setElementStyles = function (elementData) {\n    var arr = elementData.styles;\n    var j;\n    var jLen = this.stylesList.length;\n\n    for (j = 0; j < jLen; j += 1) {\n      if (!this.stylesList[j].closed) {\n        arr.push(this.stylesList[j]);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.reloadShapes = function () {\n    this._isFirstFrame = true;\n    var i;\n    var len = this.itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n    this.filterUniqueShapes();\n    len = this.dynamicProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n\n    this.renderModifiers();\n  };\n\n  SVGShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, container, level, transformers, render) {\n    var ownTransformers = [].concat(transformers);\n    var i;\n    var len = arr.length - 1;\n    var j;\n    var jLen;\n    var ownStyles = [];\n    var ownModifiers = [];\n    var currentTransform;\n    var modifier;\n    var processedPos;\n\n    for (i = len; i >= 0; i -= 1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n\n      if (!processedPos) {\n        arr[i]._render = render;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs' || arr[i].ty === 'no') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], level);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n\n        if (arr[i]._render) {\n          if (itemsData[i].style.pElem.parentNode !== container) {\n            container.appendChild(itemsData[i].style.pElem);\n          }\n        }\n\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty === 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, itemsData[i].gr, level + 1, ownTransformers, render);\n\n        if (arr[i]._render) {\n          if (itemsData[i].gr.parentNode !== container) {\n            container.appendChild(itemsData[i].gr);\n          }\n        }\n      } else if (arr[i].ty === 'tr') {\n        if (!processedPos) {\n          itemsData[i] = this.createTransformElement(arr[i], container);\n        }\n\n        currentTransform = itemsData[i].transform;\n        ownTransformers.push(currentTransform);\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\n        }\n\n        this.setElementStyles(itemsData[i]);\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'ms' || arr[i].ty === 'pb') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty === 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          render = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n\n        ownModifiers.push(modifier);\n      }\n\n      this.addProcessedElement(arr[i], i + 1);\n    }\n\n    len = ownStyles.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownStyles[i].closed = true;\n    }\n\n    len = ownModifiers.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownModifiers[i].closed = true;\n    }\n  };\n\n  SVGShapeElement.prototype.renderInnerContent = function () {\n    this.renderModifiers();\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.stylesList[i].reset();\n    }\n\n    this.renderShape();\n\n    for (i = 0; i < len; i += 1) {\n      if (this.stylesList[i]._mdf || this._isFirstFrame) {\n        if (this.stylesList[i].msElem) {\n          this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d); // Adding M0 0 fixes same mask bug on all browsers\n\n          this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\n        }\n\n        this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.renderShape = function () {\n    var i;\n    var len = this.animatedContents.length;\n    var animatedContent;\n\n    for (i = 0; i < len; i += 1) {\n      animatedContent = this.animatedContents[i];\n\n      if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\n        animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.destroy = function () {\n    this.destroyBaseElement();\n    this.shapesData = null;\n    this.itemsData = null;\n  };\n\n  function LetterProps(o, sw, sc, fc, m, p) {\n    this.o = o;\n    this.sw = sw;\n    this.sc = sc;\n    this.fc = fc;\n    this.m = m;\n    this.p = p;\n    this._mdf = {\n      o: true,\n      sw: !!sw,\n      sc: !!sc,\n      fc: !!fc,\n      m: true,\n      p: true\n    };\n  }\n\n  LetterProps.prototype.update = function (o, sw, sc, fc, m, p) {\n    this._mdf.o = false;\n    this._mdf.sw = false;\n    this._mdf.sc = false;\n    this._mdf.fc = false;\n    this._mdf.m = false;\n    this._mdf.p = false;\n    var updated = false;\n\n    if (this.o !== o) {\n      this.o = o;\n      this._mdf.o = true;\n      updated = true;\n    }\n\n    if (this.sw !== sw) {\n      this.sw = sw;\n      this._mdf.sw = true;\n      updated = true;\n    }\n\n    if (this.sc !== sc) {\n      this.sc = sc;\n      this._mdf.sc = true;\n      updated = true;\n    }\n\n    if (this.fc !== fc) {\n      this.fc = fc;\n      this._mdf.fc = true;\n      updated = true;\n    }\n\n    if (this.m !== m) {\n      this.m = m;\n      this._mdf.m = true;\n      updated = true;\n    }\n\n    if (p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\n      this.p = p;\n      this._mdf.p = true;\n      updated = true;\n    }\n\n    return updated;\n  };\n\n  function TextProperty(elem, data) {\n    this._frameId = initialDefaultFrame;\n    this.pv = '';\n    this.v = '';\n    this.kf = false;\n    this._isFirstFrame = true;\n    this._mdf = false;\n    this.data = data;\n    this.elem = elem;\n    this.comp = this.elem.comp;\n    this.keysIndex = 0;\n    this.canResize = false;\n    this.minimumFontSize = 1;\n    this.effectsSequence = [];\n    this.currentData = {\n      ascent: 0,\n      boxWidth: this.defaultBoxWidth,\n      f: '',\n      fStyle: '',\n      fWeight: '',\n      fc: '',\n      j: '',\n      justifyOffset: '',\n      l: [],\n      lh: 0,\n      lineWidths: [],\n      ls: '',\n      of: '',\n      s: '',\n      sc: '',\n      sw: 0,\n      t: 0,\n      tr: 0,\n      sz: 0,\n      ps: null,\n      fillColorAnim: false,\n      strokeColorAnim: false,\n      strokeWidthAnim: false,\n      yOffset: 0,\n      finalSize: 0,\n      finalText: [],\n      finalLineHeight: 0,\n      __complete: false\n    };\n    this.copyData(this.currentData, this.data.d.k[0].s);\n\n    if (!this.searchProperty()) {\n      this.completeTextData(this.currentData);\n    }\n  }\n\n  TextProperty.prototype.defaultBoxWidth = [0, 0];\n\n  TextProperty.prototype.copyData = function (obj, data) {\n    for (var s in data) {\n      if (Object.prototype.hasOwnProperty.call(data, s)) {\n        obj[s] = data[s];\n      }\n    }\n\n    return obj;\n  };\n\n  TextProperty.prototype.setCurrentData = function (data) {\n    if (!data.__complete) {\n      this.completeTextData(data);\n    }\n\n    this.currentData = data;\n    this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\n    this._mdf = true;\n  };\n\n  TextProperty.prototype.searchProperty = function () {\n    return this.searchKeyframes();\n  };\n\n  TextProperty.prototype.searchKeyframes = function () {\n    this.kf = this.data.d.k.length > 1;\n\n    if (this.kf) {\n      this.addEffect(this.getKeyframeValue.bind(this));\n    }\n\n    return this.kf;\n  };\n\n  TextProperty.prototype.addEffect = function (effectFunction) {\n    this.effectsSequence.push(effectFunction);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.getValue = function (_finalValue) {\n    if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\n      return;\n    }\n\n    this.currentData.t = this.data.d.k[this.keysIndex].s.t;\n    var currentValue = this.currentData;\n    var currentIndex = this.keysIndex;\n\n    if (this.lock) {\n      this.setCurrentData(this.currentData);\n      return;\n    }\n\n    this.lock = true;\n    this._mdf = false;\n    var i;\n    var len = this.effectsSequence.length;\n    var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\n\n    for (i = 0; i < len; i += 1) {\n      // Checking if index changed to prevent creating a new object every time the expression updates.\n      if (currentIndex !== this.keysIndex) {\n        finalValue = this.effectsSequence[i](finalValue, finalValue.t);\n      } else {\n        finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\n      }\n    }\n\n    if (currentValue !== finalValue) {\n      this.setCurrentData(finalValue);\n    }\n\n    this.v = this.currentData;\n    this.pv = this.v;\n    this.lock = false;\n    this.frameId = this.elem.globalData.frameId;\n  };\n\n  TextProperty.prototype.getKeyframeValue = function () {\n    var textKeys = this.data.d.k;\n    var frameNum = this.elem.comp.renderedFrame;\n    var i = 0;\n    var len = textKeys.length;\n\n    while (i <= len - 1) {\n      if (i === len - 1 || textKeys[i + 1].t > frameNum) {\n        break;\n      }\n\n      i += 1;\n    }\n\n    if (this.keysIndex !== i) {\n      this.keysIndex = i;\n    }\n\n    return this.data.d.k[this.keysIndex].s;\n  };\n\n  TextProperty.prototype.buildFinalText = function (text) {\n    var charactersArray = [];\n    var i = 0;\n    var len = text.length;\n    var charCode;\n    var secondCharCode;\n    var shouldCombine = false;\n\n    while (i < len) {\n      charCode = text.charCodeAt(i);\n\n      if (FontManager.isCombinedCharacter(charCode)) {\n        charactersArray[charactersArray.length - 1] += text.charAt(i);\n      } else if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n        secondCharCode = text.charCodeAt(i + 1);\n\n        if (secondCharCode >= 0xDC00 && secondCharCode <= 0xDFFF) {\n          if (shouldCombine || FontManager.isModifier(charCode, secondCharCode)) {\n            charactersArray[charactersArray.length - 1] += text.substr(i, 2);\n            shouldCombine = false;\n          } else {\n            charactersArray.push(text.substr(i, 2));\n          }\n\n          i += 1;\n        } else {\n          charactersArray.push(text.charAt(i));\n        }\n      } else if (charCode > 0xDBFF) {\n        secondCharCode = text.charCodeAt(i + 1);\n\n        if (FontManager.isZeroWidthJoiner(charCode, secondCharCode)) {\n          shouldCombine = true;\n          charactersArray[charactersArray.length - 1] += text.substr(i, 2);\n          i += 1;\n        } else {\n          charactersArray.push(text.charAt(i));\n        }\n      } else if (FontManager.isZeroWidthJoiner(charCode)) {\n        charactersArray[charactersArray.length - 1] += text.charAt(i);\n        shouldCombine = true;\n      } else {\n        charactersArray.push(text.charAt(i));\n      }\n\n      i += 1;\n    }\n\n    return charactersArray;\n  };\n\n  TextProperty.prototype.completeTextData = function (documentData) {\n    documentData.__complete = true;\n    var fontManager = this.elem.globalData.fontManager;\n    var data = this.data;\n    var letters = [];\n    var i;\n    var len;\n    var newLineFlag;\n    var index = 0;\n    var val;\n    var anchorGrouping = data.m.g;\n    var currentSize = 0;\n    var currentPos = 0;\n    var currentLine = 0;\n    var lineWidths = [];\n    var lineWidth = 0;\n    var maxLineWidth = 0;\n    var j;\n    var jLen;\n    var fontData = fontManager.getFontByName(documentData.f);\n    var charData;\n    var cLength = 0;\n    var fontProps = getFontProperties(fontData);\n    documentData.fWeight = fontProps.weight;\n    documentData.fStyle = fontProps.style;\n    documentData.finalSize = documentData.s;\n    documentData.finalText = this.buildFinalText(documentData.t);\n    len = documentData.finalText.length;\n    documentData.finalLineHeight = documentData.lh;\n    var trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n    var charCode;\n\n    if (documentData.sz) {\n      var flag = true;\n      var boxWidth = documentData.sz[0];\n      var boxHeight = documentData.sz[1];\n      var currentHeight;\n      var finalText;\n\n      while (flag) {\n        finalText = this.buildFinalText(documentData.t);\n        currentHeight = 0;\n        lineWidth = 0;\n        len = finalText.length;\n        trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n        var lastSpaceIndex = -1;\n\n        for (i = 0; i < len; i += 1) {\n          charCode = finalText[i].charCodeAt(0);\n          newLineFlag = false;\n\n          if (finalText[i] === ' ') {\n            lastSpaceIndex = i;\n          } else if (charCode === 13 || charCode === 3) {\n            lineWidth = 0;\n            newLineFlag = true;\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n          }\n\n          if (fontManager.chars) {\n            charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\n            cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\n          } else {\n            // tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\n            cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\n          }\n\n          if (lineWidth + cLength > boxWidth && finalText[i] !== ' ') {\n            if (lastSpaceIndex === -1) {\n              len += 1;\n            } else {\n              i = lastSpaceIndex;\n            }\n\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n            finalText.splice(i, lastSpaceIndex === i ? 1 : 0, '\\r'); // finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\n\n            lastSpaceIndex = -1;\n            lineWidth = 0;\n          } else {\n            lineWidth += cLength;\n            lineWidth += trackingOffset;\n          }\n        }\n\n        currentHeight += fontData.ascent * documentData.finalSize / 100;\n\n        if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\n          documentData.finalSize -= 1;\n          documentData.finalLineHeight = documentData.finalSize * documentData.lh / documentData.s;\n        } else {\n          documentData.finalText = finalText;\n          len = documentData.finalText.length;\n          flag = false;\n        }\n      }\n    }\n\n    lineWidth = -trackingOffset;\n    cLength = 0;\n    var uncollapsedSpaces = 0;\n    var currentChar;\n\n    for (i = 0; i < len; i += 1) {\n      newLineFlag = false;\n      currentChar = documentData.finalText[i];\n      charCode = currentChar.charCodeAt(0);\n\n      if (charCode === 13 || charCode === 3) {\n        uncollapsedSpaces = 0;\n        lineWidths.push(lineWidth);\n        maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n        lineWidth = -2 * trackingOffset;\n        val = '';\n        newLineFlag = true;\n        currentLine += 1;\n      } else {\n        val = currentChar;\n      }\n\n      if (fontManager.chars) {\n        charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\n        cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\n      } else {\n        // var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\n        // tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\n        cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\n      } //\n\n\n      if (currentChar === ' ') {\n        uncollapsedSpaces += cLength + trackingOffset;\n      } else {\n        lineWidth += cLength + trackingOffset + uncollapsedSpaces;\n        uncollapsedSpaces = 0;\n      }\n\n      letters.push({\n        l: cLength,\n        an: cLength,\n        add: currentSize,\n        n: newLineFlag,\n        anIndexes: [],\n        val: val,\n        line: currentLine,\n        animatorJustifyOffset: 0\n      });\n\n      if (anchorGrouping == 2) {\n        // eslint-disable-line eqeqeq\n        currentSize += cLength;\n\n        if (val === '' || val === ' ' || i === len - 1) {\n          if (val === '' || val === ' ') {\n            currentSize -= cLength;\n          }\n\n          while (currentPos <= i) {\n            letters[currentPos].an = currentSize;\n            letters[currentPos].ind = index;\n            letters[currentPos].extra = cLength;\n            currentPos += 1;\n          }\n\n          index += 1;\n          currentSize = 0;\n        }\n      } else if (anchorGrouping == 3) {\n        // eslint-disable-line eqeqeq\n        currentSize += cLength;\n\n        if (val === '' || i === len - 1) {\n          if (val === '') {\n            currentSize -= cLength;\n          }\n\n          while (currentPos <= i) {\n            letters[currentPos].an = currentSize;\n            letters[currentPos].ind = index;\n            letters[currentPos].extra = cLength;\n            currentPos += 1;\n          }\n\n          currentSize = 0;\n          index += 1;\n        }\n      } else {\n        letters[index].ind = index;\n        letters[index].extra = 0;\n        index += 1;\n      }\n    }\n\n    documentData.l = letters;\n    maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n    lineWidths.push(lineWidth);\n\n    if (documentData.sz) {\n      documentData.boxWidth = documentData.sz[0];\n      documentData.justifyOffset = 0;\n    } else {\n      documentData.boxWidth = maxLineWidth;\n\n      switch (documentData.j) {\n        case 1:\n          documentData.justifyOffset = -documentData.boxWidth;\n          break;\n\n        case 2:\n          documentData.justifyOffset = -documentData.boxWidth / 2;\n          break;\n\n        default:\n          documentData.justifyOffset = 0;\n      }\n    }\n\n    documentData.lineWidths = lineWidths;\n    var animators = data.a;\n    var animatorData;\n    var letterData;\n    jLen = animators.length;\n    var based;\n    var ind;\n    var indexes = [];\n\n    for (j = 0; j < jLen; j += 1) {\n      animatorData = animators[j];\n\n      if (animatorData.a.sc) {\n        documentData.strokeColorAnim = true;\n      }\n\n      if (animatorData.a.sw) {\n        documentData.strokeWidthAnim = true;\n      }\n\n      if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {\n        documentData.fillColorAnim = true;\n      }\n\n      ind = 0;\n      based = animatorData.s.b;\n\n      for (i = 0; i < len; i += 1) {\n        letterData = letters[i];\n        letterData.anIndexes[j] = ind;\n\n        if (based == 1 && letterData.val !== '' || based == 2 && letterData.val !== '' && letterData.val !== ' ' || based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1) || based == 4 && (letterData.n || i == len - 1)) {\n          // eslint-disable-line eqeqeq\n          if (animatorData.s.rn === 1) {\n            indexes.push(ind);\n          }\n\n          ind += 1;\n        }\n      }\n\n      data.a[j].s.totalChars = ind;\n      var currentInd = -1;\n      var newInd;\n\n      if (animatorData.s.rn === 1) {\n        for (i = 0; i < len; i += 1) {\n          letterData = letters[i];\n\n          if (currentInd != letterData.anIndexes[j]) {\n            // eslint-disable-line eqeqeq\n            currentInd = letterData.anIndexes[j];\n            newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\n          }\n\n          letterData.anIndexes[j] = newInd;\n        }\n      }\n    }\n\n    documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;\n    documentData.ls = documentData.ls || 0;\n    documentData.ascent = fontData.ascent * documentData.finalSize / 100;\n  };\n\n  TextProperty.prototype.updateDocumentData = function (newData, index) {\n    index = index === undefined ? this.keysIndex : index;\n    var dData = this.copyData({}, this.data.d.k[index].s);\n    dData = this.copyData(dData, newData);\n    this.data.d.k[index].s = dData;\n    this.recalculate(index);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.recalculate = function (index) {\n    var dData = this.data.d.k[index].s;\n    dData.__complete = false;\n    this.keysIndex = 0;\n    this._isFirstFrame = true;\n    this.getValue(dData);\n  };\n\n  TextProperty.prototype.canResizeFont = function (_canResize) {\n    this.canResize = _canResize;\n    this.recalculate(this.keysIndex);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.setMinimumFontSize = function (_fontValue) {\n    this.minimumFontSize = Math.floor(_fontValue) || 1;\n    this.recalculate(this.keysIndex);\n    this.elem.addDynamicProperty(this);\n  };\n\n  var TextSelectorProp = function () {\n    var max = Math.max;\n    var min = Math.min;\n    var floor = Math.floor;\n\n    function TextSelectorPropFactory(elem, data) {\n      this._currentTextLength = -1;\n      this.k = false;\n      this.data = data;\n      this.elem = elem;\n      this.comp = elem.comp;\n      this.finalS = 0;\n      this.finalE = 0;\n      this.initDynamicPropertyContainer(elem);\n      this.s = PropertyFactory.getProp(elem, data.s || {\n        k: 0\n      }, 0, 0, this);\n\n      if ('e' in data) {\n        this.e = PropertyFactory.getProp(elem, data.e, 0, 0, this);\n      } else {\n        this.e = {\n          v: 100\n        };\n      }\n\n      this.o = PropertyFactory.getProp(elem, data.o || {\n        k: 0\n      }, 0, 0, this);\n      this.xe = PropertyFactory.getProp(elem, data.xe || {\n        k: 0\n      }, 0, 0, this);\n      this.ne = PropertyFactory.getProp(elem, data.ne || {\n        k: 0\n      }, 0, 0, this);\n      this.sm = PropertyFactory.getProp(elem, data.sm || {\n        k: 100\n      }, 0, 0, this);\n      this.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this);\n\n      if (!this.dynamicProperties.length) {\n        this.getValue();\n      }\n    }\n\n    TextSelectorPropFactory.prototype = {\n      getMult: function getMult(ind) {\n        if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\n          this.getValue();\n        }\n\n        var x1 = 0;\n        var y1 = 0;\n        var x2 = 1;\n        var y2 = 1;\n\n        if (this.ne.v > 0) {\n          x1 = this.ne.v / 100.0;\n        } else {\n          y1 = -this.ne.v / 100.0;\n        }\n\n        if (this.xe.v > 0) {\n          x2 = 1.0 - this.xe.v / 100.0;\n        } else {\n          y2 = 1.0 + this.xe.v / 100.0;\n        }\n\n        var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\n        var mult = 0;\n        var s = this.finalS;\n        var e = this.finalE;\n        var type = this.data.sh;\n\n        if (type === 2) {\n          if (e === s) {\n            mult = ind >= e ? 1 : 0;\n          } else {\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          }\n\n          mult = easer(mult);\n        } else if (type === 3) {\n          if (e === s) {\n            mult = ind >= e ? 0 : 1;\n          } else {\n            mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          }\n\n          mult = easer(mult);\n        } else if (type === 4) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n\n            if (mult < 0.5) {\n              mult *= 2;\n            } else {\n              mult = 1 - 2 * (mult - 0.5);\n            }\n          }\n\n          mult = easer(mult);\n        } else if (type === 5) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            var tot = e - s;\n            /* ind += 0.5;\r\n                      mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */\n\n            ind = min(max(0, ind + 0.5 - s), e - s);\n            var x = -tot / 2 + ind;\n            var a = tot / 2;\n            mult = Math.sqrt(1 - x * x / (a * a));\n          }\n\n          mult = easer(mult);\n        } else if (type === 6) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            ind = min(max(0, ind + 0.5 - s), e - s);\n            mult = (1 + Math.cos(Math.PI + Math.PI * 2 * ind / (e - s))) / 2; // eslint-disable-line\n          }\n\n          mult = easer(mult);\n        } else {\n          if (ind >= floor(s)) {\n            if (ind - s < 0) {\n              mult = max(0, min(min(e, 1) - (s - ind), 1));\n            } else {\n              mult = max(0, min(e - ind, 1));\n            }\n          }\n\n          mult = easer(mult);\n        } // Smoothness implementation.\n        // The smoothness represents a reduced range of the original [0; 1] range.\n        // if smoothness is 25%, the new range will be [0.375; 0.625]\n        // Steps are:\n        // - find the lower value of the new range (threshold)\n        // - if multiplier is smaller than that value, floor it to 0\n        // - if it is larger,\n        //     - subtract the threshold\n        //     - divide it by the smoothness (this will return the range to [0; 1])\n        // Note: If it doesn't work on some scenarios, consider applying it before the easer.\n\n\n        if (this.sm.v !== 100) {\n          var smoothness = this.sm.v * 0.01;\n\n          if (smoothness === 0) {\n            smoothness = 0.00000001;\n          }\n\n          var threshold = 0.5 - smoothness * 0.5;\n\n          if (mult < threshold) {\n            mult = 0;\n          } else {\n            mult = (mult - threshold) / smoothness;\n\n            if (mult > 1) {\n              mult = 1;\n            }\n          }\n        }\n\n        return mult * this.a.v;\n      },\n      getValue: function getValue(newCharsFlag) {\n        this.iterateDynamicProperties();\n        this._mdf = newCharsFlag || this._mdf;\n        this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\n\n        if (newCharsFlag && this.data.r === 2) {\n          this.e.v = this._currentTextLength;\n        }\n\n        var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\n        var o = this.o.v / divisor;\n        var s = this.s.v / divisor + o;\n        var e = this.e.v / divisor + o;\n\n        if (s > e) {\n          var _s = s;\n          s = e;\n          e = _s;\n        }\n\n        this.finalS = s;\n        this.finalE = e;\n      }\n    };\n    extendPrototype([DynamicPropertyContainer], TextSelectorPropFactory);\n\n    function getTextSelectorProp(elem, data, arr) {\n      return new TextSelectorPropFactory(elem, data, arr);\n    }\n\n    return {\n      getTextSelectorProp: getTextSelectorProp\n    };\n  }();\n\n  function TextAnimatorDataProperty(elem, animatorProps, container) {\n    var defaultData = {\n      propType: false\n    };\n    var getProp = PropertyFactory.getProp;\n    var textAnimatorAnimatables = animatorProps.a;\n    this.a = {\n      r: textAnimatorAnimatables.r ? getProp(elem, textAnimatorAnimatables.r, 0, degToRads, container) : defaultData,\n      rx: textAnimatorAnimatables.rx ? getProp(elem, textAnimatorAnimatables.rx, 0, degToRads, container) : defaultData,\n      ry: textAnimatorAnimatables.ry ? getProp(elem, textAnimatorAnimatables.ry, 0, degToRads, container) : defaultData,\n      sk: textAnimatorAnimatables.sk ? getProp(elem, textAnimatorAnimatables.sk, 0, degToRads, container) : defaultData,\n      sa: textAnimatorAnimatables.sa ? getProp(elem, textAnimatorAnimatables.sa, 0, degToRads, container) : defaultData,\n      s: textAnimatorAnimatables.s ? getProp(elem, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,\n      a: textAnimatorAnimatables.a ? getProp(elem, textAnimatorAnimatables.a, 1, 0, container) : defaultData,\n      o: textAnimatorAnimatables.o ? getProp(elem, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,\n      p: textAnimatorAnimatables.p ? getProp(elem, textAnimatorAnimatables.p, 1, 0, container) : defaultData,\n      sw: textAnimatorAnimatables.sw ? getProp(elem, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,\n      sc: textAnimatorAnimatables.sc ? getProp(elem, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,\n      fc: textAnimatorAnimatables.fc ? getProp(elem, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,\n      fh: textAnimatorAnimatables.fh ? getProp(elem, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,\n      fs: textAnimatorAnimatables.fs ? getProp(elem, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,\n      fb: textAnimatorAnimatables.fb ? getProp(elem, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,\n      t: textAnimatorAnimatables.t ? getProp(elem, textAnimatorAnimatables.t, 0, 0, container) : defaultData\n    };\n    this.s = TextSelectorProp.getTextSelectorProp(elem, animatorProps.s, container);\n    this.s.t = animatorProps.s.t;\n  }\n\n  function TextAnimatorProperty(textData, renderType, elem) {\n    this._isFirstFrame = true;\n    this._hasMaskedPath = false;\n    this._frameId = -1;\n    this._textData = textData;\n    this._renderType = renderType;\n    this._elem = elem;\n    this._animatorsData = createSizedArray(this._textData.a.length);\n    this._pathData = {};\n    this._moreOptions = {\n      alignment: {}\n    };\n    this.renderedLetters = [];\n    this.lettersChangedFlag = false;\n    this.initDynamicPropertyContainer(elem);\n  }\n\n  TextAnimatorProperty.prototype.searchProperties = function () {\n    var i;\n    var len = this._textData.a.length;\n    var animatorProps;\n    var getProp = PropertyFactory.getProp;\n\n    for (i = 0; i < len; i += 1) {\n      animatorProps = this._textData.a[i];\n      this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\n    }\n\n    if (this._textData.p && 'm' in this._textData.p) {\n      this._pathData = {\n        a: getProp(this._elem, this._textData.p.a, 0, 0, this),\n        f: getProp(this._elem, this._textData.p.f, 0, 0, this),\n        l: getProp(this._elem, this._textData.p.l, 0, 0, this),\n        r: getProp(this._elem, this._textData.p.r, 0, 0, this),\n        p: getProp(this._elem, this._textData.p.p, 0, 0, this),\n        m: this._elem.maskManager.getMaskProperty(this._textData.p.m)\n      };\n      this._hasMaskedPath = true;\n    } else {\n      this._hasMaskedPath = false;\n    }\n\n    this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);\n  };\n\n  TextAnimatorProperty.prototype.getMeasures = function (documentData, lettersChangedFlag) {\n    this.lettersChangedFlag = lettersChangedFlag;\n\n    if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\n      return;\n    }\n\n    this._isFirstFrame = false;\n    var alignment = this._moreOptions.alignment.v;\n    var animators = this._animatorsData;\n    var textData = this._textData;\n    var matrixHelper = this.mHelper;\n    var renderType = this._renderType;\n    var renderedLettersCount = this.renderedLetters.length;\n    var xPos;\n    var yPos;\n    var i;\n    var len;\n    var letters = documentData.l;\n    var pathInfo;\n    var currentLength;\n    var currentPoint;\n    var segmentLength;\n    var flag;\n    var pointInd;\n    var segmentInd;\n    var prevPoint;\n    var points;\n    var segments;\n    var partialLength;\n    var totalLength;\n    var perc;\n    var tanAngle;\n    var mask;\n\n    if (this._hasMaskedPath) {\n      mask = this._pathData.m;\n\n      if (!this._pathData.n || this._pathData._mdf) {\n        var paths = mask.v;\n\n        if (this._pathData.r.v) {\n          paths = paths.reverse();\n        } // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\n\n\n        pathInfo = {\n          tLength: 0,\n          segments: []\n        };\n        len = paths._length - 1;\n        var bezierData;\n        totalLength = 0;\n\n        for (i = 0; i < len; i += 1) {\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[i + 1], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\n          pathInfo.tLength += bezierData.segmentLength;\n          pathInfo.segments.push(bezierData);\n          totalLength += bezierData.segmentLength;\n        }\n\n        i = len;\n\n        if (mask.v.c) {\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[0], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\n          pathInfo.tLength += bezierData.segmentLength;\n          pathInfo.segments.push(bezierData);\n          totalLength += bezierData.segmentLength;\n        }\n\n        this._pathData.pi = pathInfo;\n      }\n\n      pathInfo = this._pathData.pi;\n      currentLength = this._pathData.f.v;\n      segmentInd = 0;\n      pointInd = 1;\n      segmentLength = 0;\n      flag = true;\n      segments = pathInfo.segments;\n\n      if (currentLength < 0 && mask.v.c) {\n        if (pathInfo.tLength < Math.abs(currentLength)) {\n          currentLength = -Math.abs(currentLength) % pathInfo.tLength;\n        }\n\n        segmentInd = segments.length - 1;\n        points = segments[segmentInd].points;\n        pointInd = points.length - 1;\n\n        while (currentLength < 0) {\n          currentLength += points[pointInd].partialLength;\n          pointInd -= 1;\n\n          if (pointInd < 0) {\n            segmentInd -= 1;\n            points = segments[segmentInd].points;\n            pointInd = points.length - 1;\n          }\n        }\n      }\n\n      points = segments[segmentInd].points;\n      prevPoint = points[pointInd - 1];\n      currentPoint = points[pointInd];\n      partialLength = currentPoint.partialLength;\n    }\n\n    len = letters.length;\n    xPos = 0;\n    yPos = 0;\n    var yOff = documentData.finalSize * 1.2 * 0.714;\n    var firstLine = true;\n    var animatorProps;\n    var animatorSelector;\n    var j;\n    var jLen;\n    var letterValue;\n    jLen = animators.length;\n    var mult;\n    var ind = -1;\n    var offf;\n    var xPathPos;\n    var yPathPos;\n    var initPathPos = currentLength;\n    var initSegmentInd = segmentInd;\n    var initPointInd = pointInd;\n    var currentLine = -1;\n    var elemOpacity;\n    var sc;\n    var sw;\n    var fc;\n    var k;\n    var letterSw;\n    var letterSc;\n    var letterFc;\n    var letterM = '';\n    var letterP = this.defaultPropsArray;\n    var letterO; //\n\n    if (documentData.j === 2 || documentData.j === 1) {\n      var animatorJustifyOffset = 0;\n      var animatorFirstCharOffset = 0;\n      var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\n      var lastIndex = 0;\n      var isNewLine = true;\n\n      for (i = 0; i < len; i += 1) {\n        if (letters[i].n) {\n          if (animatorJustifyOffset) {\n            animatorJustifyOffset += animatorFirstCharOffset;\n          }\n\n          while (lastIndex < i) {\n            letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n            lastIndex += 1;\n          }\n\n          animatorJustifyOffset = 0;\n          isNewLine = true;\n        } else {\n          for (j = 0; j < jLen; j += 1) {\n            animatorProps = animators[j].a;\n\n            if (animatorProps.t.propType) {\n              if (isNewLine && documentData.j === 2) {\n                animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\n              }\n\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;\n              } else {\n                animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;\n              }\n            }\n          }\n\n          isNewLine = false;\n        }\n      }\n\n      if (animatorJustifyOffset) {\n        animatorJustifyOffset += animatorFirstCharOffset;\n      }\n\n      while (lastIndex < i) {\n        letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n        lastIndex += 1;\n      }\n    } //\n\n\n    for (i = 0; i < len; i += 1) {\n      matrixHelper.reset();\n      elemOpacity = 1;\n\n      if (letters[i].n) {\n        xPos = 0;\n        yPos += documentData.yOffset;\n        yPos += firstLine ? 1 : 0;\n        currentLength = initPathPos;\n        firstLine = false;\n\n        if (this._hasMaskedPath) {\n          segmentInd = initSegmentInd;\n          pointInd = initPointInd;\n          points = segments[segmentInd].points;\n          prevPoint = points[pointInd - 1];\n          currentPoint = points[pointInd];\n          partialLength = currentPoint.partialLength;\n          segmentLength = 0;\n        }\n\n        letterM = '';\n        letterFc = '';\n        letterSw = '';\n        letterO = '';\n        letterP = this.defaultPropsArray;\n      } else {\n        if (this._hasMaskedPath) {\n          if (currentLine !== letters[i].line) {\n            switch (documentData.j) {\n              case 1:\n                currentLength += totalLength - documentData.lineWidths[letters[i].line];\n                break;\n\n              case 2:\n                currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\n                break;\n\n              default:\n                break;\n            }\n\n            currentLine = letters[i].line;\n          }\n\n          if (ind !== letters[i].ind) {\n            if (letters[ind]) {\n              currentLength += letters[ind].extra;\n            }\n\n            currentLength += letters[i].an / 2;\n            ind = letters[i].ind;\n          }\n\n          currentLength += alignment[0] * letters[i].an * 0.005;\n          var animatorOffset = 0;\n\n          for (j = 0; j < jLen; j += 1) {\n            animatorProps = animators[j].a;\n\n            if (animatorProps.p.propType) {\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorOffset += animatorProps.p.v[0] * mult[0];\n              } else {\n                animatorOffset += animatorProps.p.v[0] * mult;\n              }\n            }\n\n            if (animatorProps.a.propType) {\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorOffset += animatorProps.a.v[0] * mult[0];\n              } else {\n                animatorOffset += animatorProps.a.v[0] * mult;\n              }\n            }\n          }\n\n          flag = true; // Force alignment only works with a single line for now\n\n          if (this._pathData.a.v) {\n            currentLength = letters[0].an * 0.5 + (totalLength - this._pathData.f.v - letters[0].an * 0.5 - letters[letters.length - 1].an * 0.5) * ind / (len - 1);\n            currentLength += this._pathData.f.v;\n          }\n\n          while (flag) {\n            if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\n              perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\n              xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\n              yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\n              matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -(alignment[1] * yOff) * 0.01);\n              flag = false;\n            } else if (points) {\n              segmentLength += currentPoint.partialLength;\n              pointInd += 1;\n\n              if (pointInd >= points.length) {\n                pointInd = 0;\n                segmentInd += 1;\n\n                if (!segments[segmentInd]) {\n                  if (mask.v.c) {\n                    pointInd = 0;\n                    segmentInd = 0;\n                    points = segments[segmentInd].points;\n                  } else {\n                    segmentLength -= currentPoint.partialLength;\n                    points = null;\n                  }\n                } else {\n                  points = segments[segmentInd].points;\n                }\n              }\n\n              if (points) {\n                prevPoint = currentPoint;\n                currentPoint = points[pointInd];\n                partialLength = currentPoint.partialLength;\n              }\n            }\n          }\n\n          offf = letters[i].an / 2 - letters[i].add;\n          matrixHelper.translate(-offf, 0, 0);\n        } else {\n          offf = letters[i].an / 2 - letters[i].add;\n          matrixHelper.translate(-offf, 0, 0); // Grouping alignment\n\n          matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -alignment[1] * yOff * 0.01, 0);\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.t.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars); // This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\n\n            if (xPos !== 0 || documentData.j !== 0) {\n              if (this._hasMaskedPath) {\n                if (mult.length) {\n                  currentLength += animatorProps.t.v * mult[0];\n                } else {\n                  currentLength += animatorProps.t.v * mult;\n                }\n              } else if (mult.length) {\n                xPos += animatorProps.t.v * mult[0];\n              } else {\n                xPos += animatorProps.t.v * mult;\n              }\n            }\n          }\n        }\n\n        if (documentData.strokeWidthAnim) {\n          sw = documentData.sw || 0;\n        }\n\n        if (documentData.strokeColorAnim) {\n          if (documentData.sc) {\n            sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\n          } else {\n            sc = [0, 0, 0];\n          }\n        }\n\n        if (documentData.fillColorAnim && documentData.fc) {\n          fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.a.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (mult.length) {\n              matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\n            } else {\n              matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.s.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (mult.length) {\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult[0], 1 + (animatorProps.s.v[1] - 1) * mult[1], 1);\n            } else {\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult, 1 + (animatorProps.s.v[1] - 1) * mult, 1);\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n          animatorSelector = animators[j].s;\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n          if (animatorProps.sk.propType) {\n            if (mult.length) {\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\n            } else {\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\n            }\n          }\n\n          if (animatorProps.r.propType) {\n            if (mult.length) {\n              matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\n            } else {\n              matrixHelper.rotateZ(-animatorProps.r.v * mult);\n            }\n          }\n\n          if (animatorProps.ry.propType) {\n            if (mult.length) {\n              matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\n            } else {\n              matrixHelper.rotateY(animatorProps.ry.v * mult);\n            }\n          }\n\n          if (animatorProps.rx.propType) {\n            if (mult.length) {\n              matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\n            } else {\n              matrixHelper.rotateX(animatorProps.rx.v * mult);\n            }\n          }\n\n          if (animatorProps.o.propType) {\n            if (mult.length) {\n              elemOpacity += (animatorProps.o.v * mult[0] - elemOpacity) * mult[0];\n            } else {\n              elemOpacity += (animatorProps.o.v * mult - elemOpacity) * mult;\n            }\n          }\n\n          if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\n            if (mult.length) {\n              sw += animatorProps.sw.v * mult[0];\n            } else {\n              sw += animatorProps.sw.v * mult;\n            }\n          }\n\n          if (documentData.strokeColorAnim && animatorProps.sc.propType) {\n            for (k = 0; k < 3; k += 1) {\n              if (mult.length) {\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult[0];\n              } else {\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult;\n              }\n            }\n          }\n\n          if (documentData.fillColorAnim && documentData.fc) {\n            if (animatorProps.fc.propType) {\n              for (k = 0; k < 3; k += 1) {\n                if (mult.length) {\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult[0];\n                } else {\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult;\n                }\n              }\n            }\n\n            if (animatorProps.fh.propType) {\n              if (mult.length) {\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\n              } else {\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult);\n              }\n            }\n\n            if (animatorProps.fs.propType) {\n              if (mult.length) {\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\n              } else {\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\n              }\n            }\n\n            if (animatorProps.fb.propType) {\n              if (mult.length) {\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\n              } else {\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\n              }\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.p.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (this._hasMaskedPath) {\n              if (mult.length) {\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\n              } else {\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n              }\n            } else if (mult.length) {\n              matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\n            } else {\n              matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n            }\n          }\n        }\n\n        if (documentData.strokeWidthAnim) {\n          letterSw = sw < 0 ? 0 : sw;\n        }\n\n        if (documentData.strokeColorAnim) {\n          letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\n        }\n\n        if (documentData.fillColorAnim && documentData.fc) {\n          letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\n        }\n\n        if (this._hasMaskedPath) {\n          matrixHelper.translate(0, -documentData.ls);\n          matrixHelper.translate(0, alignment[1] * yOff * 0.01 + yPos, 0);\n\n          if (this._pathData.p.v) {\n            tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\n            var rot = Math.atan(tanAngle) * 180 / Math.PI;\n\n            if (currentPoint.point[0] < prevPoint.point[0]) {\n              rot += 180;\n            }\n\n            matrixHelper.rotate(-rot * Math.PI / 180);\n          }\n\n          matrixHelper.translate(xPathPos, yPathPos, 0);\n          currentLength -= alignment[0] * letters[i].an * 0.005;\n\n          if (letters[i + 1] && ind !== letters[i + 1].ind) {\n            currentLength += letters[i].an / 2;\n            currentLength += documentData.tr * 0.001 * documentData.finalSize;\n          }\n        } else {\n          matrixHelper.translate(xPos, yPos, 0);\n\n          if (documentData.ps) {\n            // matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\n            matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n          }\n\n          switch (documentData.j) {\n            case 1:\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\n              break;\n\n            case 2:\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\n              break;\n\n            default:\n              break;\n          }\n\n          matrixHelper.translate(0, -documentData.ls);\n          matrixHelper.translate(offf, 0, 0);\n          matrixHelper.translate(alignment[0] * letters[i].an * 0.005, alignment[1] * yOff * 0.01, 0);\n          xPos += letters[i].l + documentData.tr * 0.001 * documentData.finalSize;\n        }\n\n        if (renderType === 'html') {\n          letterM = matrixHelper.toCSS();\n        } else if (renderType === 'svg') {\n          letterM = matrixHelper.to2dCSS();\n        } else {\n          letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\n        }\n\n        letterO = elemOpacity;\n      }\n\n      if (renderedLettersCount <= i) {\n        letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\n        this.renderedLetters.push(letterValue);\n        renderedLettersCount += 1;\n        this.lettersChangedFlag = true;\n      } else {\n        letterValue = this.renderedLetters[i];\n        this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\n      }\n    }\n  };\n\n  TextAnimatorProperty.prototype.getValue = function () {\n    if (this._elem.globalData.frameId === this._frameId) {\n      return;\n    }\n\n    this._frameId = this._elem.globalData.frameId;\n    this.iterateDynamicProperties();\n  };\n\n  TextAnimatorProperty.prototype.mHelper = new Matrix();\n  TextAnimatorProperty.prototype.defaultPropsArray = [];\n  extendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\n\n  function ITextElement() {}\n\n  ITextElement.prototype.initElement = function (data, globalData, comp) {\n    this.lettersChangedFlag = true;\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\n    this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\n    this.initTransform(data, globalData, comp);\n    this.initHierarchy();\n    this.initRenderable();\n    this.initRendererElement();\n    this.createContainerElements();\n    this.createRenderableComponents();\n    this.createContent();\n    this.hide();\n    this.textAnimator.searchProperties(this.dynamicProperties);\n  };\n\n  ITextElement.prototype.prepareFrame = function (num) {\n    this._mdf = false;\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n\n    if (this.textProperty._mdf || this.textProperty._isFirstFrame) {\n      this.buildNewText();\n      this.textProperty._isFirstFrame = false;\n      this.textProperty._mdf = false;\n    }\n  };\n\n  ITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\n    var j;\n    var jLen = shapes.length;\n    var pathNodes;\n    var shapeStr = '';\n\n    for (j = 0; j < jLen; j += 1) {\n      if (shapes[j].ty === 'sh') {\n        pathNodes = shapes[j].ks.k;\n        shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\n      }\n    }\n\n    return shapeStr;\n  };\n\n  ITextElement.prototype.updateDocumentData = function (newData, index) {\n    this.textProperty.updateDocumentData(newData, index);\n  };\n\n  ITextElement.prototype.canResizeFont = function (_canResize) {\n    this.textProperty.canResizeFont(_canResize);\n  };\n\n  ITextElement.prototype.setMinimumFontSize = function (_fontSize) {\n    this.textProperty.setMinimumFontSize(_fontSize);\n  };\n\n  ITextElement.prototype.applyTextPropertiesToMatrix = function (documentData, matrixHelper, lineNumber, xPos, yPos) {\n    if (documentData.ps) {\n      matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n    }\n\n    matrixHelper.translate(0, -documentData.ls, 0);\n\n    switch (documentData.j) {\n      case 1:\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);\n        break;\n\n      case 2:\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);\n        break;\n\n      default:\n        break;\n    }\n\n    matrixHelper.translate(xPos, yPos, 0);\n  };\n\n  ITextElement.prototype.buildColor = function (colorData) {\n    return 'rgb(' + Math.round(colorData[0] * 255) + ',' + Math.round(colorData[1] * 255) + ',' + Math.round(colorData[2] * 255) + ')';\n  };\n\n  ITextElement.prototype.emptyProp = new LetterProps();\n\n  ITextElement.prototype.destroy = function () {};\n\n  var emptyShapeData = {\n    shapes: []\n  };\n\n  function SVGTextLottieElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.renderType = 'svg';\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement);\n\n  SVGTextLottieElement.prototype.createContent = function () {\n    if (this.data.singleShape && !this.globalData.fontManager.chars) {\n      this.textContainer = createNS('text');\n    }\n  };\n\n  SVGTextLottieElement.prototype.buildTextContents = function (textArray) {\n    var i = 0;\n    var len = textArray.length;\n    var textContents = [];\n    var currentTextContent = '';\n\n    while (i < len) {\n      if (textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\n        textContents.push(currentTextContent);\n        currentTextContent = '';\n      } else {\n        currentTextContent += textArray[i];\n      }\n\n      i += 1;\n    }\n\n    textContents.push(currentTextContent);\n    return textContents;\n  };\n\n  SVGTextLottieElement.prototype.buildShapeData = function (data, scale) {\n    // data should probably be cloned to apply scale separately to each instance of a text on different layers\n    // but since text internal content gets only rendered once and then it's never rerendered,\n    // it's probably safe not to clone data and reuse always the same instance even if the object is mutated.\n    // Avoiding cloning is preferred since cloning each character shape data is expensive\n    if (data.shapes && data.shapes.length) {\n      var shape = data.shapes[0];\n\n      if (shape.it) {\n        var shapeItem = shape.it[shape.it.length - 1];\n\n        if (shapeItem.s) {\n          shapeItem.s.k[0] = scale;\n          shapeItem.s.k[1] = scale;\n        }\n      }\n    }\n\n    return data;\n  };\n\n  SVGTextLottieElement.prototype.buildNewText = function () {\n    this.addDynamicProperty(this);\n    var i;\n    var len;\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\n\n    if (documentData.fc) {\n      this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\n    } else {\n      this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\n    }\n\n    if (documentData.sc) {\n      this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\n      this.layerElement.setAttribute('stroke-width', documentData.sw);\n    }\n\n    this.layerElement.setAttribute('font-size', documentData.finalSize);\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n\n    if (fontData.fClass) {\n      this.layerElement.setAttribute('class', fontData.fClass);\n    } else {\n      this.layerElement.setAttribute('font-family', fontData.fFamily);\n      var fWeight = documentData.fWeight;\n      var fStyle = documentData.fStyle;\n      this.layerElement.setAttribute('font-style', fStyle);\n      this.layerElement.setAttribute('font-weight', fWeight);\n    }\n\n    this.layerElement.setAttribute('aria-label', documentData.t);\n    var letters = documentData.l || [];\n    var usesGlyphs = !!this.globalData.fontManager.chars;\n    len = letters.length;\n    var tSpan;\n    var matrixHelper = this.mHelper;\n    var shapeStr = '';\n    var singleShape = this.data.singleShape;\n    var xPos = 0;\n    var yPos = 0;\n    var firstLine = true;\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\n\n    if (singleShape && !usesGlyphs && !documentData.sz) {\n      var tElement = this.textContainer;\n      var justify = 'start';\n\n      switch (documentData.j) {\n        case 1:\n          justify = 'end';\n          break;\n\n        case 2:\n          justify = 'middle';\n          break;\n\n        default:\n          justify = 'start';\n          break;\n      }\n\n      tElement.setAttribute('text-anchor', justify);\n      tElement.setAttribute('letter-spacing', trackingOffset);\n      var textContent = this.buildTextContents(documentData.finalText);\n      len = textContent.length;\n      yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\n\n      for (i = 0; i < len; i += 1) {\n        tSpan = this.textSpans[i].span || createNS('tspan');\n        tSpan.textContent = textContent[i];\n        tSpan.setAttribute('x', 0);\n        tSpan.setAttribute('y', yPos);\n        tSpan.style.display = 'inherit';\n        tElement.appendChild(tSpan);\n\n        if (!this.textSpans[i]) {\n          this.textSpans[i] = {\n            span: null,\n            glyph: null\n          };\n        }\n\n        this.textSpans[i].span = tSpan;\n        yPos += documentData.finalLineHeight;\n      }\n\n      this.layerElement.appendChild(tElement);\n    } else {\n      var cachedSpansLength = this.textSpans.length;\n      var charData;\n\n      for (i = 0; i < len; i += 1) {\n        if (!this.textSpans[i]) {\n          this.textSpans[i] = {\n            span: null,\n            childSpan: null,\n            glyph: null\n          };\n        }\n\n        if (!usesGlyphs || !singleShape || i === 0) {\n          tSpan = cachedSpansLength > i ? this.textSpans[i].span : createNS(usesGlyphs ? 'g' : 'text');\n\n          if (cachedSpansLength <= i) {\n            tSpan.setAttribute('stroke-linecap', 'butt');\n            tSpan.setAttribute('stroke-linejoin', 'round');\n            tSpan.setAttribute('stroke-miterlimit', '4');\n            this.textSpans[i].span = tSpan;\n\n            if (usesGlyphs) {\n              var childSpan = createNS('g');\n              tSpan.appendChild(childSpan);\n              this.textSpans[i].childSpan = childSpan;\n            }\n\n            this.textSpans[i].span = tSpan;\n            this.layerElement.appendChild(tSpan);\n          }\n\n          tSpan.style.display = 'inherit';\n        }\n\n        matrixHelper.reset();\n\n        if (singleShape) {\n          if (letters[i].n) {\n            xPos = -trackingOffset;\n            yPos += documentData.yOffset;\n            yPos += firstLine ? 1 : 0;\n            firstLine = false;\n          }\n\n          this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n          xPos += letters[i].l || 0; // xPos += letters[i].val === ' ' ? 0 : trackingOffset;\n\n          xPos += trackingOffset;\n        }\n\n        if (usesGlyphs) {\n          charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n          var glyphElement; // t === 1 means the character has been replaced with an animated shaped\n\n          if (charData.t === 1) {\n            glyphElement = new SVGCompElement(charData.data, this.globalData, this);\n          } else {\n            var data = emptyShapeData;\n\n            if (charData.data && charData.data.shapes) {\n              data = this.buildShapeData(charData.data, documentData.finalSize);\n            }\n\n            glyphElement = new SVGShapeElement(data, this.globalData, this);\n          }\n\n          if (this.textSpans[i].glyph) {\n            var glyph = this.textSpans[i].glyph;\n            this.textSpans[i].childSpan.removeChild(glyph.layerElement);\n            glyph.destroy();\n          }\n\n          this.textSpans[i].glyph = glyphElement;\n          glyphElement._debug = true;\n          glyphElement.prepareFrame(0);\n          glyphElement.renderFrame();\n          this.textSpans[i].childSpan.appendChild(glyphElement.layerElement); // when using animated shapes, the layer will be scaled instead of replacing the internal scale\n          // this might have issues with strokes and might need a different solution\n\n          if (charData.t === 1) {\n            this.textSpans[i].childSpan.setAttribute('transform', 'scale(' + documentData.finalSize / 100 + ',' + documentData.finalSize / 100 + ')');\n          }\n        } else {\n          if (singleShape) {\n            tSpan.setAttribute('transform', 'translate(' + matrixHelper.props[12] + ',' + matrixHelper.props[13] + ')');\n          }\n\n          tSpan.textContent = letters[i].val;\n          tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n        } //\n\n      }\n\n      if (singleShape && tSpan) {\n        tSpan.setAttribute('d', shapeStr);\n      }\n    }\n\n    while (i < this.textSpans.length) {\n      this.textSpans[i].span.style.display = 'none';\n      i += 1;\n    }\n\n    this._sizeChanged = true;\n  };\n\n  SVGTextLottieElement.prototype.sourceRectAtTime = function () {\n    this.prepareFrame(this.comp.renderedFrame - this.data.st);\n    this.renderInnerContent();\n\n    if (this._sizeChanged) {\n      this._sizeChanged = false;\n      var textBox = this.layerElement.getBBox();\n      this.bbox = {\n        top: textBox.y,\n        left: textBox.x,\n        width: textBox.width,\n        height: textBox.height\n      };\n    }\n\n    return this.bbox;\n  };\n\n  SVGTextLottieElement.prototype.getValue = function () {\n    var i;\n    var len = this.textSpans.length;\n    var glyphElement;\n    this.renderedFrame = this.comp.renderedFrame;\n\n    for (i = 0; i < len; i += 1) {\n      glyphElement = this.textSpans[i].glyph;\n\n      if (glyphElement) {\n        glyphElement.prepareFrame(this.comp.renderedFrame - this.data.st);\n\n        if (glyphElement._mdf) {\n          this._mdf = true;\n        }\n      }\n    }\n  };\n\n  SVGTextLottieElement.prototype.renderInnerContent = function () {\n    if (!this.data.singleShape || this._mdf) {\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n\n      if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {\n        this._sizeChanged = true;\n        var i;\n        var len;\n        var renderedLetters = this.textAnimator.renderedLetters;\n        var letters = this.textProperty.currentData.l;\n        len = letters.length;\n        var renderedLetter;\n        var textSpan;\n        var glyphElement;\n\n        for (i = 0; i < len; i += 1) {\n          if (!letters[i].n) {\n            renderedLetter = renderedLetters[i];\n            textSpan = this.textSpans[i].span;\n            glyphElement = this.textSpans[i].glyph;\n\n            if (glyphElement) {\n              glyphElement.renderFrame();\n            }\n\n            if (renderedLetter._mdf.m) {\n              textSpan.setAttribute('transform', renderedLetter.m);\n            }\n\n            if (renderedLetter._mdf.o) {\n              textSpan.setAttribute('opacity', renderedLetter.o);\n            }\n\n            if (renderedLetter._mdf.sw) {\n              textSpan.setAttribute('stroke-width', renderedLetter.sw);\n            }\n\n            if (renderedLetter._mdf.sc) {\n              textSpan.setAttribute('stroke', renderedLetter.sc);\n            }\n\n            if (renderedLetter._mdf.fc) {\n              textSpan.setAttribute('fill', renderedLetter.fc);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  function ISolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([IImageElement], ISolidElement);\n\n  ISolidElement.prototype.createContent = function () {\n    var rect = createNS('rect'); /// /rect.style.width = this.data.sw;\n    /// /rect.style.height = this.data.sh;\n    /// /rect.style.fill = this.data.sc;\n\n    rect.setAttribute('width', this.data.sw);\n    rect.setAttribute('height', this.data.sh);\n    rect.setAttribute('fill', this.data.sc);\n    this.layerElement.appendChild(rect);\n  };\n\n  function NullElement(data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initFrame();\n    this.initTransform(data, globalData, comp);\n    this.initHierarchy();\n  }\n\n  NullElement.prototype.prepareFrame = function (num) {\n    this.prepareProperties(num, true);\n  };\n\n  NullElement.prototype.renderFrame = function () {};\n\n  NullElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  NullElement.prototype.destroy = function () {};\n\n  NullElement.prototype.sourceRectAtTime = function () {};\n\n  NullElement.prototype.hide = function () {};\n\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);\n\n  function SVGRendererBase() {}\n\n  extendPrototype([BaseRenderer], SVGRendererBase);\n\n  SVGRendererBase.prototype.createNull = function (data) {\n    return new NullElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createShape = function (data) {\n    return new SVGShapeElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createText = function (data) {\n    return new SVGTextLottieElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createImage = function (data) {\n    return new IImageElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createSolid = function (data) {\n    return new ISolidElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.configAnimation = function (animData) {\n    this.svgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n\n    if (this.renderConfig.viewBoxSize) {\n      this.svgElement.setAttribute('viewBox', this.renderConfig.viewBoxSize);\n    } else {\n      this.svgElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\n    }\n\n    if (!this.renderConfig.viewBoxOnly) {\n      this.svgElement.setAttribute('width', animData.w);\n      this.svgElement.setAttribute('height', animData.h);\n      this.svgElement.style.width = '100%';\n      this.svgElement.style.height = '100%';\n      this.svgElement.style.transform = 'translate3d(0,0,0)';\n      this.svgElement.style.contentVisibility = this.renderConfig.contentVisibility;\n    }\n\n    if (this.renderConfig.width) {\n      this.svgElement.setAttribute('width', this.renderConfig.width);\n    }\n\n    if (this.renderConfig.height) {\n      this.svgElement.setAttribute('height', this.renderConfig.height);\n    }\n\n    if (this.renderConfig.className) {\n      this.svgElement.setAttribute('class', this.renderConfig.className);\n    }\n\n    if (this.renderConfig.id) {\n      this.svgElement.setAttribute('id', this.renderConfig.id);\n    }\n\n    if (this.renderConfig.focusable !== undefined) {\n      this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\n    }\n\n    this.svgElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio); // this.layerElement.style.transform = 'translate3d(0,0,0)';\n    // this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\n\n    this.animationItem.wrapper.appendChild(this.svgElement); // Mask animation\n\n    var defs = this.globalData.defs;\n    this.setupGlobalData(animData, defs);\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.data = animData;\n    var maskElement = createNS('clipPath');\n    var rect = createNS('rect');\n    rect.setAttribute('width', animData.w);\n    rect.setAttribute('height', animData.h);\n    rect.setAttribute('x', 0);\n    rect.setAttribute('y', 0);\n    var maskId = createElementID();\n    maskElement.setAttribute('id', maskId);\n    maskElement.appendChild(rect);\n    this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + maskId + ')');\n    defs.appendChild(maskElement);\n    this.layers = animData.layers;\n    this.elements = createSizedArray(animData.layers.length);\n  };\n\n  SVGRendererBase.prototype.destroy = function () {\n    if (this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    this.layerElement = null;\n    this.globalData.defs = null;\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n  };\n\n  SVGRendererBase.prototype.updateContainerSize = function () {};\n\n  SVGRendererBase.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n\n    if (elements[pos] || this.layers[pos].ty === 99) {\n      return;\n    }\n\n    elements[pos] = true;\n    var element = this.createItem(this.layers[pos]);\n    elements[pos] = element;\n\n    if (getExpressionsPlugin()) {\n      if (this.layers[pos].ty === 0) {\n        this.globalData.projectInterface.registerComposition(element);\n      }\n\n      element.initExpressions();\n    }\n\n    this.appendElementInPos(element, pos);\n\n    if (this.layers[pos].tt) {\n      if (!this.elements[pos - 1] || this.elements[pos - 1] === true) {\n        this.buildItem(pos - 1);\n        this.addPendingElement(element);\n      } else {\n        element.setMatte(elements[pos - 1].layerId);\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n\n      if (element.data.tt) {\n        var i = 0;\n        var len = this.elements.length;\n\n        while (i < len) {\n          if (this.elements[i] === element) {\n            element.setMatte(this.elements[i - 1].layerId);\n            break;\n          }\n\n          i += 1;\n        }\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.renderFrame = function (num) {\n    if (this.renderedFrame === num || this.destroyed) {\n      return;\n    }\n\n    if (num === null) {\n      num = this.renderedFrame;\n    } else {\n      this.renderedFrame = num;\n    } // console.log('-------');\n    // console.log('FRAME ',num);\n\n\n    this.globalData.frameNum = num;\n    this.globalData.frameId += 1;\n    this.globalData.projectInterface.currentFrame = num;\n    this.globalData._mdf = false;\n    var i;\n    var len = this.layers.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(num);\n    }\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(num - this.layers[i].st);\n      }\n    }\n\n    if (this.globalData._mdf) {\n      for (i = 0; i < len; i += 1) {\n        if (this.completeLayers || this.elements[i]) {\n          this.elements[i].renderFrame();\n        }\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.appendElementInPos = function (element, pos) {\n    var newElement = element.getBaseElement();\n\n    if (!newElement) {\n      return;\n    }\n\n    var i = 0;\n    var nextElement;\n\n    while (i < pos) {\n      if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\n        nextElement = this.elements[i].getBaseElement();\n      }\n\n      i += 1;\n    }\n\n    if (nextElement) {\n      this.layerElement.insertBefore(newElement, nextElement);\n    } else {\n      this.layerElement.appendChild(newElement);\n    }\n  };\n\n  SVGRendererBase.prototype.hide = function () {\n    this.layerElement.style.display = 'none';\n  };\n\n  SVGRendererBase.prototype.show = function () {\n    this.layerElement.style.display = 'block';\n  };\n\n  function ICompElement() {}\n\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\n\n  ICompElement.prototype.initElement = function (data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initTransform(data, globalData, comp);\n    this.initRenderable();\n    this.initHierarchy();\n    this.initRendererElement();\n    this.createContainerElements();\n    this.createRenderableComponents();\n\n    if (this.data.xt || !globalData.progressiveLoad) {\n      this.buildAllItems();\n    }\n\n    this.hide();\n  };\n  /* ICompElement.prototype.hide = function(){\r\n      if(!this.hidden){\r\n          this.hideElement();\r\n          var i,len = this.elements.length;\r\n          for( i = 0; i < len; i+=1 ){\r\n              if(this.elements[i]){\r\n                  this.elements[i].hide();\r\n              }\r\n          }\r\n      }\r\n  }; */\n\n\n  ICompElement.prototype.prepareFrame = function (num) {\n    this._mdf = false;\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n\n    if (!this.isInRange && !this.data.xt) {\n      return;\n    }\n\n    if (!this.tm._placeholder) {\n      var timeRemapped = this.tm.v;\n\n      if (timeRemapped === this.data.op) {\n        timeRemapped = this.data.op - 1;\n      }\n\n      this.renderedFrame = timeRemapped;\n    } else {\n      this.renderedFrame = num / this.data.sr;\n    }\n\n    var i;\n    var len = this.elements.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(this.renderedFrame);\n    } // This iteration needs to be backwards because of how expressions connect between each other\n\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\n\n        if (this.elements[i]._mdf) {\n          this._mdf = true;\n        }\n      }\n    }\n  };\n\n  ICompElement.prototype.renderInnerContent = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  };\n\n  ICompElement.prototype.setElements = function (elems) {\n    this.elements = elems;\n  };\n\n  ICompElement.prototype.getElements = function () {\n    return this.elements;\n  };\n\n  ICompElement.prototype.destroyElements = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n  };\n\n  ICompElement.prototype.destroy = function () {\n    this.destroyElements();\n    this.destroyBaseElement();\n  };\n\n  function SVGCompElement(data, globalData, comp) {\n    this.layers = data.layers;\n    this.supports3d = true;\n    this.completeLayers = false;\n    this.pendingElements = [];\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([SVGRendererBase, ICompElement, SVGBaseElement], SVGCompElement);\n\n  SVGCompElement.prototype.createComp = function (data) {\n    return new SVGCompElement(data, this.globalData, this);\n  };\n\n  function SVGRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.svgElement = createNS('svg');\n    var ariaLabel = '';\n\n    if (config && config.title) {\n      var titleElement = createNS('title');\n      var titleId = createElementID();\n      titleElement.setAttribute('id', titleId);\n      titleElement.textContent = config.title;\n      this.svgElement.appendChild(titleElement);\n      ariaLabel += titleId;\n    }\n\n    if (config && config.description) {\n      var descElement = createNS('desc');\n      var descId = createElementID();\n      descElement.setAttribute('id', descId);\n      descElement.textContent = config.description;\n      this.svgElement.appendChild(descElement);\n      ariaLabel += ' ' + descId;\n    }\n\n    if (ariaLabel) {\n      this.svgElement.setAttribute('aria-labelledby', ariaLabel);\n    }\n\n    var defs = createNS('defs');\n    this.svgElement.appendChild(defs);\n    var maskElement = createNS('g');\n    this.svgElement.appendChild(maskElement);\n    this.layerElement = maskElement;\n    this.renderConfig = {\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      progressiveLoad: config && config.progressiveLoad || false,\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      viewBoxOnly: config && config.viewBoxOnly || false,\n      viewBoxSize: config && config.viewBoxSize || false,\n      className: config && config.className || '',\n      id: config && config.id || '',\n      focusable: config && config.focusable,\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '100%',\n        height: config && config.filterSize && config.filterSize.height || '100%',\n        x: config && config.filterSize && config.filterSize.x || '0%',\n        y: config && config.filterSize && config.filterSize.y || '0%'\n      },\n      width: config && config.width,\n      height: config && config.height\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      defs: defs,\n      renderConfig: this.renderConfig\n    };\n    this.elements = [];\n    this.pendingElements = [];\n    this.destroyed = false;\n    this.rendererType = 'svg';\n  }\n\n  extendPrototype([SVGRendererBase], SVGRenderer);\n\n  SVGRenderer.prototype.createComp = function (data) {\n    return new SVGCompElement(data, this.globalData, this);\n  };\n\n  function CVContextData() {\n    this.saved = [];\n    this.cArrPos = 0;\n    this.cTr = new Matrix();\n    this.cO = 1;\n    var i;\n    var len = 15;\n    this.savedOp = createTypedArray('float32', len);\n\n    for (i = 0; i < len; i += 1) {\n      this.saved[i] = createTypedArray('float32', 16);\n    }\n\n    this._length = len;\n  }\n\n  CVContextData.prototype.duplicate = function () {\n    var newLength = this._length * 2;\n    var currentSavedOp = this.savedOp;\n    this.savedOp = createTypedArray('float32', newLength);\n    this.savedOp.set(currentSavedOp);\n    var i = 0;\n\n    for (i = this._length; i < newLength; i += 1) {\n      this.saved[i] = createTypedArray('float32', 16);\n    }\n\n    this._length = newLength;\n  };\n\n  CVContextData.prototype.reset = function () {\n    this.cArrPos = 0;\n    this.cTr.reset();\n    this.cO = 1;\n  };\n\n  function ShapeTransformManager() {\n    this.sequences = {};\n    this.sequenceList = [];\n    this.transform_key_count = 0;\n  }\n\n  ShapeTransformManager.prototype = {\n    addTransformSequence: function addTransformSequence(transforms) {\n      var i;\n      var len = transforms.length;\n      var key = '_';\n\n      for (i = 0; i < len; i += 1) {\n        key += transforms[i].transform.key + '_';\n      }\n\n      var sequence = this.sequences[key];\n\n      if (!sequence) {\n        sequence = {\n          transforms: [].concat(transforms),\n          finalTransform: new Matrix(),\n          _mdf: false\n        };\n        this.sequences[key] = sequence;\n        this.sequenceList.push(sequence);\n      }\n\n      return sequence;\n    },\n    processSequence: function processSequence(sequence, isFirstFrame) {\n      var i = 0;\n      var len = sequence.transforms.length;\n      var _mdf = isFirstFrame;\n\n      while (i < len && !isFirstFrame) {\n        if (sequence.transforms[i].transform.mProps._mdf) {\n          _mdf = true;\n          break;\n        }\n\n        i += 1;\n      }\n\n      if (_mdf) {\n        var props;\n        sequence.finalTransform.reset();\n\n        for (i = len - 1; i >= 0; i -= 1) {\n          props = sequence.transforms[i].transform.mProps.v.props;\n          sequence.finalTransform.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\n        }\n      }\n\n      sequence._mdf = _mdf;\n    },\n    processSequences: function processSequences(isFirstFrame) {\n      var i;\n      var len = this.sequenceList.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.processSequence(this.sequenceList[i], isFirstFrame);\n      }\n    },\n    getNewKey: function getNewKey() {\n      this.transform_key_count += 1;\n      return '_' + this.transform_key_count;\n    }\n  };\n\n  function CVEffects() {}\n\n  CVEffects.prototype.renderFrame = function () {};\n\n  function CVMaskElement(data, element) {\n    this.data = data;\n    this.element = element;\n    this.masksProperties = this.data.masksProperties || [];\n    this.viewData = createSizedArray(this.masksProperties.length);\n    var i;\n    var len = this.masksProperties.length;\n    var hasMasks = false;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.masksProperties[i].mode !== 'n') {\n        hasMasks = true;\n      }\n\n      this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);\n    }\n\n    this.hasMasks = hasMasks;\n\n    if (hasMasks) {\n      this.element.addRenderableComponent(this);\n    }\n  }\n\n  CVMaskElement.prototype.renderFrame = function () {\n    if (!this.hasMasks) {\n      return;\n    }\n\n    var transform = this.element.finalTransform.mat;\n    var ctx = this.element.canvasContext;\n    var i;\n    var len = this.masksProperties.length;\n    var pt;\n    var pts;\n    var data;\n    ctx.beginPath();\n\n    for (i = 0; i < len; i += 1) {\n      if (this.masksProperties[i].mode !== 'n') {\n        if (this.masksProperties[i].inv) {\n          ctx.moveTo(0, 0);\n          ctx.lineTo(this.element.globalData.compSize.w, 0);\n          ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\n          ctx.lineTo(0, this.element.globalData.compSize.h);\n          ctx.lineTo(0, 0);\n        }\n\n        data = this.viewData[i].v;\n        pt = transform.applyToPointArray(data.v[0][0], data.v[0][1], 0);\n        ctx.moveTo(pt[0], pt[1]);\n        var j;\n        var jLen = data._length;\n\n        for (j = 1; j < jLen; j += 1) {\n          pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\n          ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n        }\n\n        pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\n        ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n      }\n    }\n\n    this.element.globalData.renderer.save(true);\n    ctx.clip();\n  };\n\n  CVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\n\n  CVMaskElement.prototype.destroy = function () {\n    this.element = null;\n  };\n\n  function CVBaseElement() {}\n\n  CVBaseElement.prototype = {\n    createElements: function createElements() {},\n    initRendererElement: function initRendererElement() {},\n    createContainerElements: function createContainerElements() {\n      this.canvasContext = this.globalData.canvasContext;\n      this.renderableEffectsManager = new CVEffects(this);\n    },\n    createContent: function createContent() {},\n    setBlendMode: function setBlendMode() {\n      var globalData = this.globalData;\n\n      if (globalData.blendMode !== this.data.bm) {\n        globalData.blendMode = this.data.bm;\n        var blendModeValue = getBlendMode(this.data.bm);\n        globalData.canvasContext.globalCompositeOperation = blendModeValue;\n      }\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new CVMaskElement(this.data, this);\n    },\n    hideElement: function hideElement() {\n      if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n        this.hidden = true;\n      }\n    },\n    showElement: function showElement() {\n      if (this.isInRange && !this.isTransparent) {\n        this.hidden = false;\n        this._isFirstFrame = true;\n        this.maskManager._isFirstFrame = true;\n      }\n    },\n    renderFrame: function renderFrame() {\n      if (this.hidden || this.data.hd) {\n        return;\n      }\n\n      this.renderTransform();\n      this.renderRenderable();\n      this.setBlendMode();\n      var forceRealStack = this.data.ty === 0;\n      this.globalData.renderer.save(forceRealStack);\n      this.globalData.renderer.ctxTransform(this.finalTransform.mat.props);\n      this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v);\n      this.renderInnerContent();\n      this.globalData.renderer.restore(forceRealStack);\n\n      if (this.maskManager.hasMasks) {\n        this.globalData.renderer.restore(true);\n      }\n\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    destroy: function destroy() {\n      this.canvasContext = null;\n      this.data = null;\n      this.globalData = null;\n      this.maskManager.destroy();\n    },\n    mHelper: new Matrix()\n  };\n  CVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\n  CVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\n\n  function CVShapeData(element, data, styles, transformsManager) {\n    this.styledShapes = [];\n    this.tr = [0, 0, 0, 0, 0, 0];\n    var ty = 4;\n\n    if (data.ty === 'rc') {\n      ty = 5;\n    } else if (data.ty === 'el') {\n      ty = 6;\n    } else if (data.ty === 'sr') {\n      ty = 7;\n    }\n\n    this.sh = ShapePropertyFactory.getShapeProp(element, data, ty, element);\n    var i;\n    var len = styles.length;\n    var styledShape;\n\n    for (i = 0; i < len; i += 1) {\n      if (!styles[i].closed) {\n        styledShape = {\n          transforms: transformsManager.addTransformSequence(styles[i].transforms),\n          trNodes: []\n        };\n        this.styledShapes.push(styledShape);\n        styles[i].elements.push(styledShape);\n      }\n    }\n  }\n\n  CVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\n\n  function CVShapeElement(data, globalData, comp) {\n    this.shapes = [];\n    this.shapesData = data.shapes;\n    this.stylesList = [];\n    this.itemsData = [];\n    this.prevViewData = [];\n    this.shapeModifiers = [];\n    this.processedElements = [];\n    this.transformsManager = new ShapeTransformManager();\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement);\n  CVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\n  CVShapeElement.prototype.transformHelper = {\n    opacity: 1,\n    _opMdf: false\n  };\n  CVShapeElement.prototype.dashResetter = [];\n\n  CVShapeElement.prototype.createContent = function () {\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n  };\n\n  CVShapeElement.prototype.createStyleElement = function (data, transforms) {\n    var styleElem = {\n      data: data,\n      type: data.ty,\n      preTransforms: this.transformsManager.addTransformSequence(transforms),\n      transforms: [],\n      elements: [],\n      closed: data.hd === true\n    };\n    var elementData = {};\n\n    if (data.ty === 'fl' || data.ty === 'st') {\n      elementData.c = PropertyFactory.getProp(this, data.c, 1, 255, this);\n\n      if (!elementData.c.k) {\n        styleElem.co = 'rgb(' + bmFloor(elementData.c.v[0]) + ',' + bmFloor(elementData.c.v[1]) + ',' + bmFloor(elementData.c.v[2]) + ')';\n      }\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      elementData.s = PropertyFactory.getProp(this, data.s, 1, null, this);\n      elementData.e = PropertyFactory.getProp(this, data.e, 1, null, this);\n      elementData.h = PropertyFactory.getProp(this, data.h || {\n        k: 0\n      }, 0, 0.01, this);\n      elementData.a = PropertyFactory.getProp(this, data.a || {\n        k: 0\n      }, 0, degToRads, this);\n      elementData.g = new GradientProperty(this, data.g, this);\n    }\n\n    elementData.o = PropertyFactory.getProp(this, data.o, 0, 0.01, this);\n\n    if (data.ty === 'st' || data.ty === 'gs') {\n      styleElem.lc = lineCapEnum[data.lc || 2];\n      styleElem.lj = lineJoinEnum[data.lj || 2];\n\n      if (data.lj == 1) {\n        // eslint-disable-line eqeqeq\n        styleElem.ml = data.ml;\n      }\n\n      elementData.w = PropertyFactory.getProp(this, data.w, 0, null, this);\n\n      if (!elementData.w.k) {\n        styleElem.wi = elementData.w.v;\n      }\n\n      if (data.d) {\n        var d = new DashProperty(this, data.d, 'canvas', this);\n        elementData.d = d;\n\n        if (!elementData.d.k) {\n          styleElem.da = elementData.d.dashArray;\n          styleElem[\"do\"] = elementData.d.dashoffset[0];\n        }\n      }\n    } else {\n      styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\n    }\n\n    this.stylesList.push(styleElem);\n    elementData.style = styleElem;\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createGroupElement = function () {\n    var elementData = {\n      it: [],\n      prevViewData: []\n    };\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createTransformElement = function (data) {\n    var elementData = {\n      transform: {\n        opacity: 1,\n        _opMdf: false,\n        key: this.transformsManager.getNewKey(),\n        op: PropertyFactory.getProp(this, data.o, 0, 0.01, this),\n        mProps: TransformPropertyFactory.getTransformProperty(this, data, this)\n      }\n    };\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createShapeElement = function (data) {\n    var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    return elementData;\n  };\n\n  CVShapeElement.prototype.reloadShapes = function () {\n    this._isFirstFrame = true;\n    var i;\n    var len = this.itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n    len = this.dynamicProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n\n    this.renderModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n  };\n\n  CVShapeElement.prototype.addTransformToStyleList = function (transform) {\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.push(transform);\n      }\n    }\n  };\n\n  CVShapeElement.prototype.removeTransformFromStyleList = function () {\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.pop();\n      }\n    }\n  };\n\n  CVShapeElement.prototype.closeStyles = function (styles) {\n    var i;\n    var len = styles.length;\n\n    for (i = 0; i < len; i += 1) {\n      styles[i].closed = true;\n    }\n  };\n\n  CVShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, shouldRender, transforms) {\n    var i;\n    var len = arr.length - 1;\n    var j;\n    var jLen;\n    var ownStyles = [];\n    var ownModifiers = [];\n    var processedPos;\n    var modifier;\n    var currentTransform;\n    var ownTransforms = [].concat(transforms);\n\n    for (i = len; i >= 0; i -= 1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n\n      if (!processedPos) {\n        arr[i]._shouldRender = shouldRender;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty === 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, shouldRender, ownTransforms);\n      } else if (arr[i].ty === 'tr') {\n        if (!processedPos) {\n          currentTransform = this.createTransformElement(arr[i]);\n          itemsData[i] = currentTransform;\n        }\n\n        ownTransforms.push(itemsData[i]);\n        this.addTransformToStyleList(itemsData[i]);\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i]);\n        }\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'pb') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty === 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          shouldRender = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n\n        ownModifiers.push(modifier);\n      }\n\n      this.addProcessedElement(arr[i], i + 1);\n    }\n\n    this.removeTransformFromStyleList();\n    this.closeStyles(ownStyles);\n    len = ownModifiers.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownModifiers[i].closed = true;\n    }\n  };\n\n  CVShapeElement.prototype.renderInnerContent = function () {\n    this.transformHelper.opacity = 1;\n    this.transformHelper._opMdf = false;\n    this.renderModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n    this.renderShape(this.transformHelper, this.shapesData, this.itemsData, true);\n  };\n\n  CVShapeElement.prototype.renderShapeTransform = function (parentTransform, groupTransform) {\n    if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\n      groupTransform.opacity = parentTransform.opacity;\n      groupTransform.opacity *= groupTransform.op.v;\n      groupTransform._opMdf = true;\n    }\n  };\n\n  CVShapeElement.prototype.drawLayer = function () {\n    var i;\n    var len = this.stylesList.length;\n    var j;\n    var jLen;\n    var k;\n    var kLen;\n    var elems;\n    var nodes;\n    var renderer = this.globalData.renderer;\n    var ctx = this.globalData.canvasContext;\n    var type;\n    var currentStyle;\n\n    for (i = 0; i < len; i += 1) {\n      currentStyle = this.stylesList[i];\n      type = currentStyle.type; // Skipping style when\n      // Stroke width equals 0\n      // style should not be rendered (extra unused repeaters)\n      // current opacity equals 0\n      // global opacity equals 0\n\n      if (!((type === 'st' || type === 'gs') && currentStyle.wi === 0 || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0)) {\n        renderer.save();\n        elems = currentStyle.elements;\n\n        if (type === 'st' || type === 'gs') {\n          ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\n          ctx.lineWidth = currentStyle.wi;\n          ctx.lineCap = currentStyle.lc;\n          ctx.lineJoin = currentStyle.lj;\n          ctx.miterLimit = currentStyle.ml || 0;\n        } else {\n          ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\n        }\n\n        renderer.ctxOpacity(currentStyle.coOp);\n\n        if (type !== 'st' && type !== 'gs') {\n          ctx.beginPath();\n        }\n\n        renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\n        jLen = elems.length;\n\n        for (j = 0; j < jLen; j += 1) {\n          if (type === 'st' || type === 'gs') {\n            ctx.beginPath();\n\n            if (currentStyle.da) {\n              ctx.setLineDash(currentStyle.da);\n              ctx.lineDashOffset = currentStyle[\"do\"];\n            }\n          }\n\n          nodes = elems[j].trNodes;\n          kLen = nodes.length;\n\n          for (k = 0; k < kLen; k += 1) {\n            if (nodes[k].t === 'm') {\n              ctx.moveTo(nodes[k].p[0], nodes[k].p[1]);\n            } else if (nodes[k].t === 'c') {\n              ctx.bezierCurveTo(nodes[k].pts[0], nodes[k].pts[1], nodes[k].pts[2], nodes[k].pts[3], nodes[k].pts[4], nodes[k].pts[5]);\n            } else {\n              ctx.closePath();\n            }\n          }\n\n          if (type === 'st' || type === 'gs') {\n            ctx.stroke();\n\n            if (currentStyle.da) {\n              ctx.setLineDash(this.dashResetter);\n            }\n          }\n        }\n\n        if (type !== 'st' && type !== 'gs') {\n          ctx.fill(currentStyle.r);\n        }\n\n        renderer.restore();\n      }\n    }\n  };\n\n  CVShapeElement.prototype.renderShape = function (parentTransform, items, data, isMain) {\n    var i;\n    var len = items.length - 1;\n    var groupTransform;\n    groupTransform = parentTransform;\n\n    for (i = len; i >= 0; i -= 1) {\n      if (items[i].ty === 'tr') {\n        groupTransform = data[i].transform;\n        this.renderShapeTransform(parentTransform, groupTransform);\n      } else if (items[i].ty === 'sh' || items[i].ty === 'el' || items[i].ty === 'rc' || items[i].ty === 'sr') {\n        this.renderPath(items[i], data[i]);\n      } else if (items[i].ty === 'fl') {\n        this.renderFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'st') {\n        this.renderStroke(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'gf' || items[i].ty === 'gs') {\n        this.renderGradientFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'gr') {\n        this.renderShape(groupTransform, items[i].it, data[i].it);\n      } else if (items[i].ty === 'tm') {//\n      }\n    }\n\n    if (isMain) {\n      this.drawLayer();\n    }\n  };\n\n  CVShapeElement.prototype.renderStyledShape = function (styledShape, shape) {\n    if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\n      var shapeNodes = styledShape.trNodes;\n      var paths = shape.paths;\n      var i;\n      var len;\n      var j;\n      var jLen = paths._length;\n      shapeNodes.length = 0;\n      var groupTransformMat = styledShape.transforms.finalTransform;\n\n      for (j = 0; j < jLen; j += 1) {\n        var pathNodes = paths.shapes[j];\n\n        if (pathNodes && pathNodes.v) {\n          len = pathNodes._length;\n\n          for (i = 1; i < len; i += 1) {\n            if (i === 1) {\n              shapeNodes.push({\n                t: 'm',\n                p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\n              });\n            }\n\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i])\n            });\n          }\n\n          if (len === 1) {\n            shapeNodes.push({\n              t: 'm',\n              p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\n            });\n          }\n\n          if (pathNodes.c && len) {\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0])\n            });\n            shapeNodes.push({\n              t: 'z'\n            });\n          }\n        }\n      }\n\n      styledShape.trNodes = shapeNodes;\n    }\n  };\n\n  CVShapeElement.prototype.renderPath = function (pathData, itemData) {\n    if (pathData.hd !== true && pathData._shouldRender) {\n      var i;\n      var len = itemData.styledShapes.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\n      }\n    }\n  };\n\n  CVShapeElement.prototype.renderFill = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\n    }\n\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n  };\n\n  CVShapeElement.prototype.renderGradientFill = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n    var grd;\n\n    if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf)) {\n      var ctx = this.globalData.canvasContext;\n      var pt1 = itemData.s.v;\n      var pt2 = itemData.e.v;\n\n      if (styleData.t === 1) {\n        grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\n      } else {\n        var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n        var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n        var percent = itemData.h.v;\n\n        if (percent >= 1) {\n          percent = 0.99;\n        } else if (percent <= -1) {\n          percent = -0.99;\n        }\n\n        var dist = rad * percent;\n        var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n        var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n        grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\n      }\n\n      var i;\n      var len = styleData.g.p;\n      var cValues = itemData.g.c;\n      var opacity = 1;\n\n      for (i = 0; i < len; i += 1) {\n        if (itemData.g._hasOpacity && itemData.g._collapsable) {\n          opacity = itemData.g.o[i * 2 + 1];\n        }\n\n        grd.addColorStop(cValues[i * 4] / 100, 'rgba(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ',' + opacity + ')');\n      }\n\n      styleElem.grd = grd;\n    }\n\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\n  };\n\n  CVShapeElement.prototype.renderStroke = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n    var d = itemData.d;\n\n    if (d && (d._mdf || this._isFirstFrame)) {\n      styleElem.da = d.dashArray;\n      styleElem[\"do\"] = d.dashoffset[0];\n    }\n\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\n    }\n\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n\n    if (itemData.w._mdf || this._isFirstFrame) {\n      styleElem.wi = itemData.w.v;\n    }\n  };\n\n  CVShapeElement.prototype.destroy = function () {\n    this.shapesData = null;\n    this.globalData = null;\n    this.canvasContext = null;\n    this.stylesList.length = 0;\n    this.itemsData.length = 0;\n  };\n\n  function CVTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.yOffset = 0;\n    this.fillColorAnim = false;\n    this.strokeColorAnim = false;\n    this.strokeWidthAnim = false;\n    this.stroke = false;\n    this.fill = false;\n    this.justifyOffset = 0;\n    this.currentRender = null;\n    this.renderType = 'canvas';\n    this.values = {\n      fill: 'rgba(0,0,0,0)',\n      stroke: 'rgba(0,0,0,0)',\n      sWidth: 0,\n      fValue: ''\n    };\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement);\n  CVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\n\n  CVTextElement.prototype.buildNewText = function () {\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n    var hasFill = false;\n\n    if (documentData.fc) {\n      hasFill = true;\n      this.values.fill = this.buildColor(documentData.fc);\n    } else {\n      this.values.fill = 'rgba(0,0,0,0)';\n    }\n\n    this.fill = hasFill;\n    var hasStroke = false;\n\n    if (documentData.sc) {\n      hasStroke = true;\n      this.values.stroke = this.buildColor(documentData.sc);\n      this.values.sWidth = documentData.sw;\n    }\n\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n    var i;\n    var len;\n    var letters = documentData.l;\n    var matrixHelper = this.mHelper;\n    this.stroke = hasStroke;\n    this.values.fValue = documentData.finalSize + 'px ' + this.globalData.fontManager.getFontByName(documentData.f).fFamily;\n    len = documentData.finalText.length; // this.tHelper.font = this.values.fValue;\n\n    var charData;\n    var shapeData;\n    var k;\n    var kLen;\n    var shapes;\n    var j;\n    var jLen;\n    var pathNodes;\n    var commands;\n    var pathArr;\n    var singleShape = this.data.singleShape;\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\n    var xPos = 0;\n    var yPos = 0;\n    var firstLine = true;\n    var cnt = 0;\n\n    for (i = 0; i < len; i += 1) {\n      charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n      shapeData = charData && charData.data || {};\n      matrixHelper.reset();\n\n      if (singleShape && letters[i].n) {\n        xPos = -trackingOffset;\n        yPos += documentData.yOffset;\n        yPos += firstLine ? 1 : 0;\n        firstLine = false;\n      }\n\n      shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\n      jLen = shapes.length;\n      matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n\n      if (singleShape) {\n        this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n      }\n\n      commands = createSizedArray(jLen - 1);\n      var commandsCounter = 0;\n\n      for (j = 0; j < jLen; j += 1) {\n        if (shapes[j].ty === 'sh') {\n          kLen = shapes[j].ks.k.i.length;\n          pathNodes = shapes[j].ks.k;\n          pathArr = [];\n\n          for (k = 1; k < kLen; k += 1) {\n            if (k === 1) {\n              pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n            }\n\n            pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToY(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToX(pathNodes.v[k][0], pathNodes.v[k][1], 0), matrixHelper.applyToY(pathNodes.v[k][0], pathNodes.v[k][1], 0));\n          }\n\n          pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToY(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n          commands[commandsCounter] = pathArr;\n          commandsCounter += 1;\n        }\n      }\n\n      if (singleShape) {\n        xPos += letters[i].l;\n        xPos += trackingOffset;\n      }\n\n      if (this.textSpans[cnt]) {\n        this.textSpans[cnt].elem = commands;\n      } else {\n        this.textSpans[cnt] = {\n          elem: commands\n        };\n      }\n\n      cnt += 1;\n    }\n  };\n\n  CVTextElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    ctx.font = this.values.fValue;\n    ctx.lineCap = 'butt';\n    ctx.lineJoin = 'miter';\n    ctx.miterLimit = 4;\n\n    if (!this.data.singleShape) {\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n    }\n\n    var i;\n    var len;\n    var j;\n    var jLen;\n    var k;\n    var kLen;\n    var renderedLetters = this.textAnimator.renderedLetters;\n    var letters = this.textProperty.currentData.l;\n    len = letters.length;\n    var renderedLetter;\n    var lastFill = null;\n    var lastStroke = null;\n    var lastStrokeW = null;\n    var commands;\n    var pathArr;\n\n    for (i = 0; i < len; i += 1) {\n      if (!letters[i].n) {\n        renderedLetter = renderedLetters[i];\n\n        if (renderedLetter) {\n          this.globalData.renderer.save();\n          this.globalData.renderer.ctxTransform(renderedLetter.p);\n          this.globalData.renderer.ctxOpacity(renderedLetter.o);\n        }\n\n        if (this.fill) {\n          if (renderedLetter && renderedLetter.fc) {\n            if (lastFill !== renderedLetter.fc) {\n              lastFill = renderedLetter.fc;\n              ctx.fillStyle = renderedLetter.fc;\n            }\n          } else if (lastFill !== this.values.fill) {\n            lastFill = this.values.fill;\n            ctx.fillStyle = this.values.fill;\n          }\n\n          commands = this.textSpans[i].elem;\n          jLen = commands.length;\n          this.globalData.canvasContext.beginPath();\n\n          for (j = 0; j < jLen; j += 1) {\n            pathArr = commands[j];\n            kLen = pathArr.length;\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n\n            for (k = 2; k < kLen; k += 6) {\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n            }\n          }\n\n          this.globalData.canvasContext.closePath();\n          this.globalData.canvasContext.fill(); /// ctx.fillText(this.textSpans[i].val,0,0);\n        }\n\n        if (this.stroke) {\n          if (renderedLetter && renderedLetter.sw) {\n            if (lastStrokeW !== renderedLetter.sw) {\n              lastStrokeW = renderedLetter.sw;\n              ctx.lineWidth = renderedLetter.sw;\n            }\n          } else if (lastStrokeW !== this.values.sWidth) {\n            lastStrokeW = this.values.sWidth;\n            ctx.lineWidth = this.values.sWidth;\n          }\n\n          if (renderedLetter && renderedLetter.sc) {\n            if (lastStroke !== renderedLetter.sc) {\n              lastStroke = renderedLetter.sc;\n              ctx.strokeStyle = renderedLetter.sc;\n            }\n          } else if (lastStroke !== this.values.stroke) {\n            lastStroke = this.values.stroke;\n            ctx.strokeStyle = this.values.stroke;\n          }\n\n          commands = this.textSpans[i].elem;\n          jLen = commands.length;\n          this.globalData.canvasContext.beginPath();\n\n          for (j = 0; j < jLen; j += 1) {\n            pathArr = commands[j];\n            kLen = pathArr.length;\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n\n            for (k = 2; k < kLen; k += 6) {\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n            }\n          }\n\n          this.globalData.canvasContext.closePath();\n          this.globalData.canvasContext.stroke(); /// ctx.strokeText(letters[i].val,0,0);\n        }\n\n        if (renderedLetter) {\n          this.globalData.renderer.restore();\n        }\n      }\n    }\n  };\n\n  function CVImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.img = globalData.imageLoader.getAsset(this.assetData);\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\n  CVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\n  CVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n\n  CVImageElement.prototype.createContent = function () {\n    if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\n      var canvas = createTag('canvas');\n      canvas.width = this.assetData.w;\n      canvas.height = this.assetData.h;\n      var ctx = canvas.getContext('2d');\n      var imgW = this.img.width;\n      var imgH = this.img.height;\n      var imgRel = imgW / imgH;\n      var canvasRel = this.assetData.w / this.assetData.h;\n      var widthCrop;\n      var heightCrop;\n      var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\n\n      if (imgRel > canvasRel && par === 'xMidYMid slice' || imgRel < canvasRel && par !== 'xMidYMid slice') {\n        heightCrop = imgH;\n        widthCrop = heightCrop * canvasRel;\n      } else {\n        widthCrop = imgW;\n        heightCrop = widthCrop / canvasRel;\n      }\n\n      ctx.drawImage(this.img, (imgW - widthCrop) / 2, (imgH - heightCrop) / 2, widthCrop, heightCrop, 0, 0, this.assetData.w, this.assetData.h);\n      this.img = canvas;\n    }\n  };\n\n  CVImageElement.prototype.renderInnerContent = function () {\n    this.canvasContext.drawImage(this.img, 0, 0);\n  };\n\n  CVImageElement.prototype.destroy = function () {\n    this.img = null;\n  };\n\n  function CVSolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\n  CVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\n  CVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n\n  CVSolidElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    ctx.fillStyle = this.data.sc;\n    ctx.fillRect(0, 0, this.data.sw, this.data.sh); //\n  };\n\n  function CanvasRendererBase(animationItem, config) {\n    this.animationItem = animationItem;\n    this.renderConfig = {\n      clearCanvas: config && config.clearCanvas !== undefined ? config.clearCanvas : true,\n      context: config && config.context || null,\n      progressiveLoad: config && config.progressiveLoad || false,\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      className: config && config.className || '',\n      id: config && config.id || ''\n    };\n    this.renderConfig.dpr = config && config.dpr || 1;\n\n    if (this.animationItem.wrapper) {\n      this.renderConfig.dpr = config && config.dpr || window.devicePixelRatio || 1;\n    }\n\n    this.renderedFrame = -1;\n    this.globalData = {\n      frameNum: -1,\n      _mdf: false,\n      renderConfig: this.renderConfig,\n      currentGlobalAlpha: -1\n    };\n    this.contextData = new CVContextData();\n    this.elements = [];\n    this.pendingElements = [];\n    this.transformMat = new Matrix();\n    this.completeLayers = false;\n    this.rendererType = 'canvas';\n  }\n\n  extendPrototype([BaseRenderer], CanvasRendererBase);\n\n  CanvasRendererBase.prototype.createShape = function (data) {\n    return new CVShapeElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createText = function (data) {\n    return new CVTextElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createImage = function (data) {\n    return new CVImageElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createSolid = function (data) {\n    return new CVSolidElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\n\n  CanvasRendererBase.prototype.ctxTransform = function (props) {\n    if (props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0) {\n      return;\n    }\n\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.transform(props[0], props[1], props[4], props[5], props[12], props[13]);\n      return;\n    }\n\n    this.transformMat.cloneFromProps(props);\n    var cProps = this.contextData.cTr.props;\n    this.transformMat.transform(cProps[0], cProps[1], cProps[2], cProps[3], cProps[4], cProps[5], cProps[6], cProps[7], cProps[8], cProps[9], cProps[10], cProps[11], cProps[12], cProps[13], cProps[14], cProps[15]); // this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\n\n    this.contextData.cTr.cloneFromProps(this.transformMat.props);\n    var trProps = this.contextData.cTr.props;\n    this.canvasContext.setTransform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);\n  };\n\n  CanvasRendererBase.prototype.ctxOpacity = function (op) {\n    /* if(op === 1){\r\n          return;\r\n      } */\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\n      this.globalData.currentGlobalAlpha = this.contextData.cO;\n      return;\n    }\n\n    this.contextData.cO *= op < 0 ? 0 : op;\n\n    if (this.globalData.currentGlobalAlpha !== this.contextData.cO) {\n      this.canvasContext.globalAlpha = this.contextData.cO;\n      this.globalData.currentGlobalAlpha = this.contextData.cO;\n    }\n  };\n\n  CanvasRendererBase.prototype.reset = function () {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.restore();\n      return;\n    }\n\n    this.contextData.reset();\n  };\n\n  CanvasRendererBase.prototype.save = function (actionFlag) {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.save();\n      return;\n    }\n\n    if (actionFlag) {\n      this.canvasContext.save();\n    }\n\n    var props = this.contextData.cTr.props;\n\n    if (this.contextData._length <= this.contextData.cArrPos) {\n      this.contextData.duplicate();\n    }\n\n    var i;\n    var arr = this.contextData.saved[this.contextData.cArrPos];\n\n    for (i = 0; i < 16; i += 1) {\n      arr[i] = props[i];\n    }\n\n    this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO;\n    this.contextData.cArrPos += 1;\n  };\n\n  CanvasRendererBase.prototype.restore = function (actionFlag) {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.restore();\n      return;\n    }\n\n    if (actionFlag) {\n      this.canvasContext.restore();\n      this.globalData.blendMode = 'source-over';\n    }\n\n    this.contextData.cArrPos -= 1;\n    var popped = this.contextData.saved[this.contextData.cArrPos];\n    var i;\n    var arr = this.contextData.cTr.props;\n\n    for (i = 0; i < 16; i += 1) {\n      arr[i] = popped[i];\n    }\n\n    this.canvasContext.setTransform(popped[0], popped[1], popped[4], popped[5], popped[12], popped[13]);\n    popped = this.contextData.savedOp[this.contextData.cArrPos];\n    this.contextData.cO = popped;\n\n    if (this.globalData.currentGlobalAlpha !== popped) {\n      this.canvasContext.globalAlpha = popped;\n      this.globalData.currentGlobalAlpha = popped;\n    }\n  };\n\n  CanvasRendererBase.prototype.configAnimation = function (animData) {\n    if (this.animationItem.wrapper) {\n      this.animationItem.container = createTag('canvas');\n      var containerStyle = this.animationItem.container.style;\n      containerStyle.width = '100%';\n      containerStyle.height = '100%';\n      var origin = '0px 0px 0px';\n      containerStyle.transformOrigin = origin;\n      containerStyle.mozTransformOrigin = origin;\n      containerStyle.webkitTransformOrigin = origin;\n      containerStyle['-webkit-transform'] = origin;\n      containerStyle.contentVisibility = this.renderConfig.contentVisibility;\n      this.animationItem.wrapper.appendChild(this.animationItem.container);\n      this.canvasContext = this.animationItem.container.getContext('2d');\n\n      if (this.renderConfig.className) {\n        this.animationItem.container.setAttribute('class', this.renderConfig.className);\n      }\n\n      if (this.renderConfig.id) {\n        this.animationItem.container.setAttribute('id', this.renderConfig.id);\n      }\n    } else {\n      this.canvasContext = this.renderConfig.context;\n    }\n\n    this.data = animData;\n    this.layers = animData.layers;\n    this.transformCanvas = {\n      w: animData.w,\n      h: animData.h,\n      sx: 0,\n      sy: 0,\n      tx: 0,\n      ty: 0\n    };\n    this.setupGlobalData(animData, document.body);\n    this.globalData.canvasContext = this.canvasContext;\n    this.globalData.renderer = this;\n    this.globalData.isDashed = false;\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.globalData.transformCanvas = this.transformCanvas;\n    this.elements = createSizedArray(animData.layers.length);\n    this.updateContainerSize();\n  };\n\n  CanvasRendererBase.prototype.updateContainerSize = function () {\n    this.reset();\n    var elementWidth;\n    var elementHeight;\n\n    if (this.animationItem.wrapper && this.animationItem.container) {\n      elementWidth = this.animationItem.wrapper.offsetWidth;\n      elementHeight = this.animationItem.wrapper.offsetHeight;\n      this.animationItem.container.setAttribute('width', elementWidth * this.renderConfig.dpr);\n      this.animationItem.container.setAttribute('height', elementHeight * this.renderConfig.dpr);\n    } else {\n      elementWidth = this.canvasContext.canvas.width * this.renderConfig.dpr;\n      elementHeight = this.canvasContext.canvas.height * this.renderConfig.dpr;\n    }\n\n    var elementRel;\n    var animationRel;\n\n    if (this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1) {\n      var par = this.renderConfig.preserveAspectRatio.split(' ');\n      var fillType = par[1] || 'meet';\n      var pos = par[0] || 'xMidYMid';\n      var xPos = pos.substr(0, 4);\n      var yPos = pos.substr(4);\n      elementRel = elementWidth / elementHeight;\n      animationRel = this.transformCanvas.w / this.transformCanvas.h;\n\n      if (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice') {\n        this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      } else {\n        this.transformCanvas.sx = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      }\n\n      if (xPos === 'xMid' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) / 2 * this.renderConfig.dpr;\n      } else if (xPos === 'xMax' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) * this.renderConfig.dpr;\n      } else {\n        this.transformCanvas.tx = 0;\n      }\n\n      if (yPos === 'YMid' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) / 2 * this.renderConfig.dpr;\n      } else if (yPos === 'YMax' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) * this.renderConfig.dpr;\n      } else {\n        this.transformCanvas.ty = 0;\n      }\n    } else if (this.renderConfig.preserveAspectRatio === 'none') {\n      this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      this.transformCanvas.tx = 0;\n      this.transformCanvas.ty = 0;\n    } else {\n      this.transformCanvas.sx = this.renderConfig.dpr;\n      this.transformCanvas.sy = this.renderConfig.dpr;\n      this.transformCanvas.tx = 0;\n      this.transformCanvas.ty = 0;\n    }\n\n    this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1];\n    /* var i, len = this.elements.length;\r\n      for(i=0;i<len;i+=1){\r\n          if(this.elements[i] && this.elements[i].data.ty === 0){\r\n              this.elements[i].resize(this.globalData.transformCanvas);\r\n          }\r\n      } */\n\n    this.ctxTransform(this.transformCanvas.props);\n    this.canvasContext.beginPath();\n    this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n    this.canvasContext.closePath();\n    this.canvasContext.clip();\n    this.renderFrame(this.renderedFrame, true);\n  };\n\n  CanvasRendererBase.prototype.destroy = function () {\n    if (this.renderConfig.clearCanvas && this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.globalData.canvasContext = null;\n    this.animationItem.container = null;\n    this.destroyed = true;\n  };\n\n  CanvasRendererBase.prototype.renderFrame = function (num, forceRender) {\n    if (this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender || this.destroyed || num === -1) {\n      return;\n    }\n\n    this.renderedFrame = num;\n    this.globalData.frameNum = num - this.animationItem._isFirstFrame;\n    this.globalData.frameId += 1;\n    this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\n    this.globalData.projectInterface.currentFrame = num; // console.log('--------');\n    // console.log('NEW: ',num);\n\n    var i;\n    var len = this.layers.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(num);\n    }\n\n    for (i = 0; i < len; i += 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(num - this.layers[i].st);\n      }\n    }\n\n    if (this.globalData._mdf) {\n      if (this.renderConfig.clearCanvas === true) {\n        this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n      } else {\n        this.save();\n      }\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        if (this.completeLayers || this.elements[i]) {\n          this.elements[i].renderFrame();\n        }\n      }\n\n      if (this.renderConfig.clearCanvas !== true) {\n        this.restore();\n      }\n    }\n  };\n\n  CanvasRendererBase.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n\n    if (elements[pos] || this.layers[pos].ty === 99) {\n      return;\n    }\n\n    var element = this.createItem(this.layers[pos], this, this.globalData);\n    elements[pos] = element;\n    element.initExpressions();\n    /* if(this.layers[pos].ty === 0){\r\n          element.resize(this.globalData.transformCanvas);\r\n      } */\n  };\n\n  CanvasRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n    }\n  };\n\n  CanvasRendererBase.prototype.hide = function () {\n    this.animationItem.container.style.display = 'none';\n  };\n\n  CanvasRendererBase.prototype.show = function () {\n    this.animationItem.container.style.display = 'block';\n  };\n\n  function CVCompElement(data, globalData, comp) {\n    this.completeLayers = false;\n    this.layers = data.layers;\n    this.pendingElements = [];\n    this.elements = createSizedArray(this.layers.length);\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([CanvasRendererBase, ICompElement, CVBaseElement], CVCompElement);\n\n  CVCompElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.lineTo(this.data.w, 0);\n    ctx.lineTo(this.data.w, this.data.h);\n    ctx.lineTo(0, this.data.h);\n    ctx.lineTo(0, 0);\n    ctx.clip();\n    var i;\n    var len = this.layers.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  };\n\n  CVCompElement.prototype.destroy = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.layers = null;\n    this.elements = null;\n  };\n\n  CVCompElement.prototype.createComp = function (data) {\n    return new CVCompElement(data, this.globalData, this);\n  };\n\n  function CanvasRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.renderConfig = {\n      clearCanvas: config && config.clearCanvas !== undefined ? config.clearCanvas : true,\n      context: config && config.context || null,\n      progressiveLoad: config && config.progressiveLoad || false,\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      className: config && config.className || '',\n      id: config && config.id || ''\n    };\n    this.renderConfig.dpr = config && config.dpr || 1;\n\n    if (this.animationItem.wrapper) {\n      this.renderConfig.dpr = config && config.dpr || window.devicePixelRatio || 1;\n    }\n\n    this.renderedFrame = -1;\n    this.globalData = {\n      frameNum: -1,\n      _mdf: false,\n      renderConfig: this.renderConfig,\n      currentGlobalAlpha: -1\n    };\n    this.contextData = new CVContextData();\n    this.elements = [];\n    this.pendingElements = [];\n    this.transformMat = new Matrix();\n    this.completeLayers = false;\n    this.rendererType = 'canvas';\n  }\n\n  extendPrototype([CanvasRendererBase], CanvasRenderer);\n\n  CanvasRenderer.prototype.createComp = function (data) {\n    return new CVCompElement(data, this.globalData, this);\n  };\n\n  function HBaseElement() {}\n\n  HBaseElement.prototype = {\n    checkBlendMode: function checkBlendMode() {},\n    initRendererElement: function initRendererElement() {\n      this.baseElement = createTag(this.data.tg || 'div');\n\n      if (this.data.hasMask) {\n        this.svgElement = createNS('svg');\n        this.layerElement = createNS('g');\n        this.maskedElement = this.layerElement;\n        this.svgElement.appendChild(this.layerElement);\n        this.baseElement.appendChild(this.svgElement);\n      } else {\n        this.layerElement = this.baseElement;\n      }\n\n      styleDiv(this.baseElement);\n    },\n    createContainerElements: function createContainerElements() {\n      this.renderableEffectsManager = new CVEffects(this);\n      this.transformedElement = this.baseElement;\n      this.maskedElement = this.layerElement;\n\n      if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n      }\n\n      if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n      }\n\n      if (this.data.bm !== 0) {\n        this.setBlendMode();\n      }\n    },\n    renderElement: function renderElement() {\n      var transformedElementStyle = this.transformedElement ? this.transformedElement.style : {};\n\n      if (this.finalTransform._matMdf) {\n        var matrixValue = this.finalTransform.mat.toCSS();\n        transformedElementStyle.transform = matrixValue;\n        transformedElementStyle.webkitTransform = matrixValue;\n      }\n\n      if (this.finalTransform._opMdf) {\n        transformedElementStyle.opacity = this.finalTransform.mProp.o.v;\n      }\n    },\n    renderFrame: function renderFrame() {\n      // If it is exported as hidden (data.hd === true) no need to render\n      // If it is not visible no need to render\n      if (this.data.hd || this.hidden) {\n        return;\n      }\n\n      this.renderTransform();\n      this.renderRenderable();\n      this.renderElement();\n      this.renderInnerContent();\n\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    destroy: function destroy() {\n      this.layerElement = null;\n      this.transformedElement = null;\n\n      if (this.matteElement) {\n        this.matteElement = null;\n      }\n\n      if (this.maskManager) {\n        this.maskManager.destroy();\n        this.maskManager = null;\n      }\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\n    },\n    addEffects: function addEffects() {},\n    setMatte: function setMatte() {}\n  };\n  HBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\n  HBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\n  HBaseElement.prototype.buildElementParenting = BaseRenderer.prototype.buildElementParenting;\n\n  function HSolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement);\n\n  HSolidElement.prototype.createContent = function () {\n    var rect;\n\n    if (this.data.hasMask) {\n      rect = createNS('rect');\n      rect.setAttribute('width', this.data.sw);\n      rect.setAttribute('height', this.data.sh);\n      rect.setAttribute('fill', this.data.sc);\n      this.svgElement.setAttribute('width', this.data.sw);\n      this.svgElement.setAttribute('height', this.data.sh);\n    } else {\n      rect = createTag('div');\n      rect.style.width = this.data.sw + 'px';\n      rect.style.height = this.data.sh + 'px';\n      rect.style.backgroundColor = this.data.sc;\n    }\n\n    this.layerElement.appendChild(rect);\n  };\n\n  function HShapeElement(data, globalData, comp) {\n    // List of drawable elements\n    this.shapes = []; // Full shape data\n\n    this.shapesData = data.shapes; // List of styles that will be applied to shapes\n\n    this.stylesList = []; // List of modifiers that will be applied to shapes\n\n    this.shapeModifiers = []; // List of items in shape tree\n\n    this.itemsData = []; // List of items in previous shape tree\n\n    this.processedElements = []; // List of animated components\n\n    this.animatedContents = [];\n    this.shapesContainer = createNS('g');\n    this.initElement(data, globalData, comp); // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n    // List of elements that have been created\n\n    this.prevViewData = [];\n    this.currentBBox = {\n      x: 999999,\n      y: -999999,\n      h: 0,\n      w: 0\n    };\n  }\n\n  extendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement);\n  HShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\n\n  HShapeElement.prototype.createContent = function () {\n    var cont;\n    this.baseElement.style.fontSize = 0;\n\n    if (this.data.hasMask) {\n      this.layerElement.appendChild(this.shapesContainer);\n      cont = this.svgElement;\n    } else {\n      cont = createNS('svg');\n      var size = this.comp.data ? this.comp.data : this.globalData.compSize;\n      cont.setAttribute('width', size.w);\n      cont.setAttribute('height', size.h);\n      cont.appendChild(this.shapesContainer);\n      this.layerElement.appendChild(cont);\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], true);\n    this.filterUniqueShapes();\n    this.shapeCont = cont;\n  };\n\n  HShapeElement.prototype.getTransformedPoint = function (transformers, point) {\n    var i;\n    var len = transformers.length;\n\n    for (i = 0; i < len; i += 1) {\n      point = transformers[i].mProps.v.applyToPointArray(point[0], point[1], 0);\n    }\n\n    return point;\n  };\n\n  HShapeElement.prototype.calculateShapeBoundingBox = function (item, boundingBox) {\n    var shape = item.sh.v;\n    var transformers = item.transformers;\n    var i;\n    var len = shape._length;\n    var vPoint;\n    var oPoint;\n    var nextIPoint;\n    var nextVPoint;\n\n    if (len <= 1) {\n      return;\n    }\n\n    for (i = 0; i < len - 1; i += 1) {\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[i + 1]);\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[i + 1]);\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\n    }\n\n    if (shape.c) {\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\n    }\n  };\n\n  HShapeElement.prototype.checkBounds = function (vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {\n    this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);\n    var bounds = this.shapeBoundingBox;\n    boundingBox.x = bmMin(bounds.left, boundingBox.x);\n    boundingBox.xMax = bmMax(bounds.right, boundingBox.xMax);\n    boundingBox.y = bmMin(bounds.top, boundingBox.y);\n    boundingBox.yMax = bmMax(bounds.bottom, boundingBox.yMax);\n  };\n\n  HShapeElement.prototype.shapeBoundingBox = {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  };\n  HShapeElement.prototype.tempBoundingBox = {\n    x: 0,\n    xMax: 0,\n    y: 0,\n    yMax: 0,\n    width: 0,\n    height: 0\n  };\n\n  HShapeElement.prototype.getBoundsOfCurve = function (p0, p1, p2, p3) {\n    var bounds = [[p0[0], p3[0]], [p0[1], p3[1]]];\n\n    for (var a, b, c, t, b2ac, t1, t2, i = 0; i < 2; ++i) {\n      // eslint-disable-line no-plusplus\n      b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\n      a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\n      c = 3 * p1[i] - 3 * p0[i];\n      b |= 0; // eslint-disable-line no-bitwise\n\n      a |= 0; // eslint-disable-line no-bitwise\n\n      c |= 0; // eslint-disable-line no-bitwise\n\n      if (a === 0 && b === 0) {//\n      } else if (a === 0) {\n        t = -c / b;\n\n        if (t > 0 && t < 1) {\n          bounds[i].push(this.calculateF(t, p0, p1, p2, p3, i));\n        }\n      } else {\n        b2ac = b * b - 4 * c * a;\n\n        if (b2ac >= 0) {\n          t1 = (-b + bmSqrt(b2ac)) / (2 * a);\n          if (t1 > 0 && t1 < 1) bounds[i].push(this.calculateF(t1, p0, p1, p2, p3, i));\n          t2 = (-b - bmSqrt(b2ac)) / (2 * a);\n          if (t2 > 0 && t2 < 1) bounds[i].push(this.calculateF(t2, p0, p1, p2, p3, i));\n        }\n      }\n    }\n\n    this.shapeBoundingBox.left = bmMin.apply(null, bounds[0]);\n    this.shapeBoundingBox.top = bmMin.apply(null, bounds[1]);\n    this.shapeBoundingBox.right = bmMax.apply(null, bounds[0]);\n    this.shapeBoundingBox.bottom = bmMax.apply(null, bounds[1]);\n  };\n\n  HShapeElement.prototype.calculateF = function (t, p0, p1, p2, p3, i) {\n    return bmPow(1 - t, 3) * p0[i] + 3 * bmPow(1 - t, 2) * t * p1[i] + 3 * (1 - t) * bmPow(t, 2) * p2[i] + bmPow(t, 3) * p3[i];\n  };\n\n  HShapeElement.prototype.calculateBoundingBox = function (itemsData, boundingBox) {\n    var i;\n    var len = itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (itemsData[i] && itemsData[i].sh) {\n        this.calculateShapeBoundingBox(itemsData[i], boundingBox);\n      } else if (itemsData[i] && itemsData[i].it) {\n        this.calculateBoundingBox(itemsData[i].it, boundingBox);\n      } else if (itemsData[i] && itemsData[i].style && itemsData[i].w) {\n        this.expandStrokeBoundingBox(itemsData[i].w, boundingBox);\n      }\n    }\n  };\n\n  HShapeElement.prototype.expandStrokeBoundingBox = function (widthProperty, boundingBox) {\n    var width = 0;\n\n    if (widthProperty.keyframes) {\n      for (var i = 0; i < widthProperty.keyframes.length; i += 1) {\n        var kfw = widthProperty.keyframes[i].s;\n\n        if (kfw > width) {\n          width = kfw;\n        }\n      }\n\n      width *= widthProperty.mult;\n    } else {\n      width = widthProperty.v * widthProperty.mult;\n    }\n\n    boundingBox.x -= width;\n    boundingBox.xMax += width;\n    boundingBox.y -= width;\n    boundingBox.yMax += width;\n  };\n\n  HShapeElement.prototype.currentBoxContains = function (box) {\n    return this.currentBBox.x <= box.x && this.currentBBox.y <= box.y && this.currentBBox.width + this.currentBBox.x >= box.x + box.width && this.currentBBox.height + this.currentBBox.y >= box.y + box.height;\n  };\n\n  HShapeElement.prototype.renderInnerContent = function () {\n    this._renderShapeFrame();\n\n    if (!this.hidden && (this._isFirstFrame || this._mdf)) {\n      var tempBoundingBox = this.tempBoundingBox;\n      var max = 999999;\n      tempBoundingBox.x = max;\n      tempBoundingBox.xMax = -max;\n      tempBoundingBox.y = max;\n      tempBoundingBox.yMax = -max;\n      this.calculateBoundingBox(this.itemsData, tempBoundingBox);\n      tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;\n      tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y; // var tempBoundingBox = this.shapeCont.getBBox();\n\n      if (this.currentBoxContains(tempBoundingBox)) {\n        return;\n      }\n\n      var changed = false;\n\n      if (this.currentBBox.w !== tempBoundingBox.width) {\n        this.currentBBox.w = tempBoundingBox.width;\n        this.shapeCont.setAttribute('width', tempBoundingBox.width);\n        changed = true;\n      }\n\n      if (this.currentBBox.h !== tempBoundingBox.height) {\n        this.currentBBox.h = tempBoundingBox.height;\n        this.shapeCont.setAttribute('height', tempBoundingBox.height);\n        changed = true;\n      }\n\n      if (changed || this.currentBBox.x !== tempBoundingBox.x || this.currentBBox.y !== tempBoundingBox.y) {\n        this.currentBBox.w = tempBoundingBox.width;\n        this.currentBBox.h = tempBoundingBox.height;\n        this.currentBBox.x = tempBoundingBox.x;\n        this.currentBBox.y = tempBoundingBox.y;\n        this.shapeCont.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\n        var shapeStyle = this.shapeCont.style;\n        var shapeTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\n        shapeStyle.transform = shapeTransform;\n        shapeStyle.webkitTransform = shapeTransform;\n      }\n    }\n  };\n\n  function HTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.textPaths = [];\n    this.currentBBox = {\n      x: 999999,\n      y: -999999,\n      h: 0,\n      w: 0\n    };\n    this.renderType = 'svg';\n    this.isMasked = false;\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement);\n\n  HTextElement.prototype.createContent = function () {\n    this.isMasked = this.checkMasks();\n\n    if (this.isMasked) {\n      this.renderType = 'svg';\n      this.compW = this.comp.data.w;\n      this.compH = this.comp.data.h;\n      this.svgElement.setAttribute('width', this.compW);\n      this.svgElement.setAttribute('height', this.compH);\n      var g = createNS('g');\n      this.maskedElement.appendChild(g);\n      this.innerElem = g;\n    } else {\n      this.renderType = 'html';\n      this.innerElem = this.layerElement;\n    }\n\n    this.checkParenting();\n  };\n\n  HTextElement.prototype.buildNewText = function () {\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n    var innerElemStyle = this.innerElem.style;\n    var textColor = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\n    innerElemStyle.fill = textColor;\n    innerElemStyle.color = textColor;\n\n    if (documentData.sc) {\n      innerElemStyle.stroke = this.buildColor(documentData.sc);\n      innerElemStyle.strokeWidth = documentData.sw + 'px';\n    }\n\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n\n    if (!this.globalData.fontManager.chars) {\n      innerElemStyle.fontSize = documentData.finalSize + 'px';\n      innerElemStyle.lineHeight = documentData.finalSize + 'px';\n\n      if (fontData.fClass) {\n        this.innerElem.className = fontData.fClass;\n      } else {\n        innerElemStyle.fontFamily = fontData.fFamily;\n        var fWeight = documentData.fWeight;\n        var fStyle = documentData.fStyle;\n        innerElemStyle.fontStyle = fStyle;\n        innerElemStyle.fontWeight = fWeight;\n      }\n    }\n\n    var i;\n    var len;\n    var letters = documentData.l;\n    len = letters.length;\n    var tSpan;\n    var tParent;\n    var tCont;\n    var matrixHelper = this.mHelper;\n    var shapes;\n    var shapeStr = '';\n    var cnt = 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.globalData.fontManager.chars) {\n        if (!this.textPaths[cnt]) {\n          tSpan = createNS('path');\n          tSpan.setAttribute('stroke-linecap', lineCapEnum[1]);\n          tSpan.setAttribute('stroke-linejoin', lineJoinEnum[2]);\n          tSpan.setAttribute('stroke-miterlimit', '4');\n        } else {\n          tSpan = this.textPaths[cnt];\n        }\n\n        if (!this.isMasked) {\n          if (this.textSpans[cnt]) {\n            tParent = this.textSpans[cnt];\n            tCont = tParent.children[0];\n          } else {\n            tParent = createTag('div');\n            tParent.style.lineHeight = 0;\n            tCont = createNS('svg');\n            tCont.appendChild(tSpan);\n            styleDiv(tParent);\n          }\n        }\n      } else if (!this.isMasked) {\n        if (this.textSpans[cnt]) {\n          tParent = this.textSpans[cnt];\n          tSpan = this.textPaths[cnt];\n        } else {\n          tParent = createTag('span');\n          styleDiv(tParent);\n          tSpan = createTag('span');\n          styleDiv(tSpan);\n          tParent.appendChild(tSpan);\n        }\n      } else {\n        tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\n      } // tSpan.setAttribute('visibility', 'hidden');\n\n\n      if (this.globalData.fontManager.chars) {\n        var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n        var shapeData;\n\n        if (charData) {\n          shapeData = charData.data;\n        } else {\n          shapeData = null;\n        }\n\n        matrixHelper.reset();\n\n        if (shapeData && shapeData.shapes && shapeData.shapes.length) {\n          shapes = shapeData.shapes[0].it;\n          matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n          shapeStr = this.createPathShape(matrixHelper, shapes);\n          tSpan.setAttribute('d', shapeStr);\n        }\n\n        if (!this.isMasked) {\n          this.innerElem.appendChild(tParent);\n\n          if (shapeData && shapeData.shapes) {\n            // document.body.appendChild is needed to get exact measure of shape\n            document.body.appendChild(tCont);\n            var boundingBox = tCont.getBBox();\n            tCont.setAttribute('width', boundingBox.width + 2);\n            tCont.setAttribute('height', boundingBox.height + 2);\n            tCont.setAttribute('viewBox', boundingBox.x - 1 + ' ' + (boundingBox.y - 1) + ' ' + (boundingBox.width + 2) + ' ' + (boundingBox.height + 2));\n            var tContStyle = tCont.style;\n            var tContTranslation = 'translate(' + (boundingBox.x - 1) + 'px,' + (boundingBox.y - 1) + 'px)';\n            tContStyle.transform = tContTranslation;\n            tContStyle.webkitTransform = tContTranslation;\n            letters[i].yOffset = boundingBox.y - 1;\n          } else {\n            tCont.setAttribute('width', 1);\n            tCont.setAttribute('height', 1);\n          }\n\n          tParent.appendChild(tCont);\n        } else {\n          this.innerElem.appendChild(tSpan);\n        }\n      } else {\n        tSpan.textContent = letters[i].val;\n        tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n\n        if (!this.isMasked) {\n          this.innerElem.appendChild(tParent); //\n\n          var tStyle = tSpan.style;\n          var tSpanTranslation = 'translate3d(0,' + -documentData.finalSize / 1.2 + 'px,0)';\n          tStyle.transform = tSpanTranslation;\n          tStyle.webkitTransform = tSpanTranslation;\n        } else {\n          this.innerElem.appendChild(tSpan);\n        }\n      } //\n\n\n      if (!this.isMasked) {\n        this.textSpans[cnt] = tParent;\n      } else {\n        this.textSpans[cnt] = tSpan;\n      }\n\n      this.textSpans[cnt].style.display = 'block';\n      this.textPaths[cnt] = tSpan;\n      cnt += 1;\n    }\n\n    while (cnt < this.textSpans.length) {\n      this.textSpans[cnt].style.display = 'none';\n      cnt += 1;\n    }\n  };\n\n  HTextElement.prototype.renderInnerContent = function () {\n    var svgStyle;\n\n    if (this.data.singleShape) {\n      if (!this._isFirstFrame && !this.lettersChangedFlag) {\n        return;\n      }\n\n      if (this.isMasked && this.finalTransform._matMdf) {\n        // Todo Benchmark if using this is better than getBBox\n        this.svgElement.setAttribute('viewBox', -this.finalTransform.mProp.p.v[0] + ' ' + -this.finalTransform.mProp.p.v[1] + ' ' + this.compW + ' ' + this.compH);\n        svgStyle = this.svgElement.style;\n        var translation = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\n        svgStyle.transform = translation;\n        svgStyle.webkitTransform = translation;\n      }\n    }\n\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n\n    if (!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag) {\n      return;\n    }\n\n    var i;\n    var len;\n    var count = 0;\n    var renderedLetters = this.textAnimator.renderedLetters;\n    var letters = this.textProperty.currentData.l;\n    len = letters.length;\n    var renderedLetter;\n    var textSpan;\n    var textPath;\n\n    for (i = 0; i < len; i += 1) {\n      if (letters[i].n) {\n        count += 1;\n      } else {\n        textSpan = this.textSpans[i];\n        textPath = this.textPaths[i];\n        renderedLetter = renderedLetters[count];\n        count += 1;\n\n        if (renderedLetter._mdf.m) {\n          if (!this.isMasked) {\n            textSpan.style.webkitTransform = renderedLetter.m;\n            textSpan.style.transform = renderedLetter.m;\n          } else {\n            textSpan.setAttribute('transform', renderedLetter.m);\n          }\n        } /// /textSpan.setAttribute('opacity',renderedLetter.o);\n\n\n        textSpan.style.opacity = renderedLetter.o;\n\n        if (renderedLetter.sw && renderedLetter._mdf.sw) {\n          textPath.setAttribute('stroke-width', renderedLetter.sw);\n        }\n\n        if (renderedLetter.sc && renderedLetter._mdf.sc) {\n          textPath.setAttribute('stroke', renderedLetter.sc);\n        }\n\n        if (renderedLetter.fc && renderedLetter._mdf.fc) {\n          textPath.setAttribute('fill', renderedLetter.fc);\n          textPath.style.color = renderedLetter.fc;\n        }\n      }\n    }\n\n    if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {\n      var boundingBox = this.innerElem.getBBox();\n\n      if (this.currentBBox.w !== boundingBox.width) {\n        this.currentBBox.w = boundingBox.width;\n        this.svgElement.setAttribute('width', boundingBox.width);\n      }\n\n      if (this.currentBBox.h !== boundingBox.height) {\n        this.currentBBox.h = boundingBox.height;\n        this.svgElement.setAttribute('height', boundingBox.height);\n      }\n\n      var margin = 1;\n\n      if (this.currentBBox.w !== boundingBox.width + margin * 2 || this.currentBBox.h !== boundingBox.height + margin * 2 || this.currentBBox.x !== boundingBox.x - margin || this.currentBBox.y !== boundingBox.y - margin) {\n        this.currentBBox.w = boundingBox.width + margin * 2;\n        this.currentBBox.h = boundingBox.height + margin * 2;\n        this.currentBBox.x = boundingBox.x - margin;\n        this.currentBBox.y = boundingBox.y - margin;\n        this.svgElement.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\n        svgStyle = this.svgElement.style;\n        var svgTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\n        svgStyle.transform = svgTransform;\n        svgStyle.webkitTransform = svgTransform;\n      }\n    }\n  };\n\n  function HCameraElement(data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initHierarchy();\n    var getProp = PropertyFactory.getProp;\n    this.pe = getProp(this, data.pe, 0, 0, this);\n\n    if (data.ks.p.s) {\n      this.px = getProp(this, data.ks.p.x, 1, 0, this);\n      this.py = getProp(this, data.ks.p.y, 1, 0, this);\n      this.pz = getProp(this, data.ks.p.z, 1, 0, this);\n    } else {\n      this.p = getProp(this, data.ks.p, 1, 0, this);\n    }\n\n    if (data.ks.a) {\n      this.a = getProp(this, data.ks.a, 1, 0, this);\n    }\n\n    if (data.ks.or.k.length && data.ks.or.k[0].to) {\n      var i;\n      var len = data.ks.or.k.length;\n\n      for (i = 0; i < len; i += 1) {\n        data.ks.or.k[i].to = null;\n        data.ks.or.k[i].ti = null;\n      }\n    }\n\n    this.or = getProp(this, data.ks.or, 1, degToRads, this);\n    this.or.sh = true;\n    this.rx = getProp(this, data.ks.rx, 0, degToRads, this);\n    this.ry = getProp(this, data.ks.ry, 0, degToRads, this);\n    this.rz = getProp(this, data.ks.rz, 0, degToRads, this);\n    this.mat = new Matrix();\n    this._prevMat = new Matrix();\n    this._isFirstFrame = true; // TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\n\n    this.finalTransform = {\n      mProp: this\n    };\n  }\n\n  extendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);\n\n  HCameraElement.prototype.setup = function () {\n    var i;\n    var len = this.comp.threeDElements.length;\n    var comp;\n    var perspectiveStyle;\n    var containerStyle;\n\n    for (i = 0; i < len; i += 1) {\n      // [perspectiveElem,container]\n      comp = this.comp.threeDElements[i];\n\n      if (comp.type === '3d') {\n        perspectiveStyle = comp.perspectiveElem.style;\n        containerStyle = comp.container.style;\n        var perspective = this.pe.v + 'px';\n        var origin = '0px 0px 0px';\n        var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n        perspectiveStyle.perspective = perspective;\n        perspectiveStyle.webkitPerspective = perspective;\n        containerStyle.transformOrigin = origin;\n        containerStyle.mozTransformOrigin = origin;\n        containerStyle.webkitTransformOrigin = origin;\n        perspectiveStyle.transform = matrix;\n        perspectiveStyle.webkitTransform = matrix;\n      }\n    }\n  };\n\n  HCameraElement.prototype.createElements = function () {};\n\n  HCameraElement.prototype.hide = function () {};\n\n  HCameraElement.prototype.renderFrame = function () {\n    var _mdf = this._isFirstFrame;\n    var i;\n    var len;\n\n    if (this.hierarchy) {\n      len = this.hierarchy.length;\n\n      for (i = 0; i < len; i += 1) {\n        _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\n      }\n    }\n\n    if (_mdf || this.pe._mdf || this.p && this.p._mdf || this.px && (this.px._mdf || this.py._mdf || this.pz._mdf) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || this.a && this.a._mdf) {\n      this.mat.reset();\n\n      if (this.hierarchy) {\n        len = this.hierarchy.length - 1;\n\n        for (i = len; i >= 0; i -= 1) {\n          var mTransf = this.hierarchy[i].finalTransform.mProp;\n          this.mat.translate(-mTransf.p.v[0], -mTransf.p.v[1], mTransf.p.v[2]);\n          this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);\n          this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);\n          this.mat.scale(1 / mTransf.s.v[0], 1 / mTransf.s.v[1], 1 / mTransf.s.v[2]);\n          this.mat.translate(mTransf.a.v[0], mTransf.a.v[1], mTransf.a.v[2]);\n        }\n      }\n\n      if (this.p) {\n        this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]);\n      } else {\n        this.mat.translate(-this.px.v, -this.py.v, this.pz.v);\n      }\n\n      if (this.a) {\n        var diffVector;\n\n        if (this.p) {\n          diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];\n        } else {\n          diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];\n        }\n\n        var mag = Math.sqrt(Math.pow(diffVector[0], 2) + Math.pow(diffVector[1], 2) + Math.pow(diffVector[2], 2)); // var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\n\n        var lookDir = [diffVector[0] / mag, diffVector[1] / mag, diffVector[2] / mag];\n        var lookLengthOnXZ = Math.sqrt(lookDir[2] * lookDir[2] + lookDir[0] * lookDir[0]);\n        var mRotationX = Math.atan2(lookDir[1], lookLengthOnXZ);\n        var mRotationY = Math.atan2(lookDir[0], -lookDir[2]);\n        this.mat.rotateY(mRotationY).rotateX(-mRotationX);\n      }\n\n      this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\n      this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\n      this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0);\n      this.mat.translate(0, 0, this.pe.v);\n      var hasMatrixChanged = !this._prevMat.equals(this.mat);\n\n      if ((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {\n        len = this.comp.threeDElements.length;\n        var comp;\n        var perspectiveStyle;\n        var containerStyle;\n\n        for (i = 0; i < len; i += 1) {\n          comp = this.comp.threeDElements[i];\n\n          if (comp.type === '3d') {\n            if (hasMatrixChanged) {\n              var matValue = this.mat.toCSS();\n              containerStyle = comp.container.style;\n              containerStyle.transform = matValue;\n              containerStyle.webkitTransform = matValue;\n            }\n\n            if (this.pe._mdf) {\n              perspectiveStyle = comp.perspectiveElem.style;\n              perspectiveStyle.perspective = this.pe.v + 'px';\n              perspectiveStyle.webkitPerspective = this.pe.v + 'px';\n            }\n          }\n        }\n\n        this.mat.clone(this._prevMat);\n      }\n    }\n\n    this._isFirstFrame = false;\n  };\n\n  HCameraElement.prototype.prepareFrame = function (num) {\n    this.prepareProperties(num, true);\n  };\n\n  HCameraElement.prototype.destroy = function () {};\n\n  HCameraElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  function HImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement);\n\n  HImageElement.prototype.createContent = function () {\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    var img = new Image();\n\n    if (this.data.hasMask) {\n      this.imageElem = createNS('image');\n      this.imageElem.setAttribute('width', this.assetData.w + 'px');\n      this.imageElem.setAttribute('height', this.assetData.h + 'px');\n      this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n      this.layerElement.appendChild(this.imageElem);\n      this.baseElement.setAttribute('width', this.assetData.w);\n      this.baseElement.setAttribute('height', this.assetData.h);\n    } else {\n      this.layerElement.appendChild(img);\n    }\n\n    img.crossOrigin = 'anonymous';\n    img.src = assetPath;\n\n    if (this.data.ln) {\n      this.baseElement.setAttribute('id', this.data.ln);\n    }\n  };\n\n  function HybridRendererBase(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.renderConfig = {\n      className: config && config.className || '',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '400%',\n        height: config && config.filterSize && config.filterSize.height || '400%',\n        x: config && config.filterSize && config.filterSize.x || '-100%',\n        y: config && config.filterSize && config.filterSize.y || '-100%'\n      }\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      renderConfig: this.renderConfig\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n    this.rendererType = 'html';\n  }\n\n  extendPrototype([BaseRenderer], HybridRendererBase);\n  HybridRendererBase.prototype.buildItem = SVGRenderer.prototype.buildItem;\n\n  HybridRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n    }\n  };\n\n  HybridRendererBase.prototype.appendElementInPos = function (element, pos) {\n    var newDOMElement = element.getBaseElement();\n\n    if (!newDOMElement) {\n      return;\n    }\n\n    var layer = this.layers[pos];\n\n    if (!layer.ddd || !this.supports3d) {\n      if (this.threeDElements) {\n        this.addTo3dContainer(newDOMElement, pos);\n      } else {\n        var i = 0;\n        var nextDOMElement;\n        var nextLayer;\n        var tmpDOMElement;\n\n        while (i < pos) {\n          if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement) {\n            nextLayer = this.elements[i];\n            tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\n            nextDOMElement = tmpDOMElement || nextDOMElement;\n          }\n\n          i += 1;\n        }\n\n        if (nextDOMElement) {\n          if (!layer.ddd || !this.supports3d) {\n            this.layerElement.insertBefore(newDOMElement, nextDOMElement);\n          }\n        } else if (!layer.ddd || !this.supports3d) {\n          this.layerElement.appendChild(newDOMElement);\n        }\n      }\n    } else {\n      this.addTo3dContainer(newDOMElement, pos);\n    }\n  };\n\n  HybridRendererBase.prototype.createShape = function (data) {\n    if (!this.supports3d) {\n      return new SVGShapeElement(data, this.globalData, this);\n    }\n\n    return new HShapeElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createText = function (data) {\n    if (!this.supports3d) {\n      return new SVGTextLottieElement(data, this.globalData, this);\n    }\n\n    return new HTextElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createCamera = function (data) {\n    this.camera = new HCameraElement(data, this.globalData, this);\n    return this.camera;\n  };\n\n  HybridRendererBase.prototype.createImage = function (data) {\n    if (!this.supports3d) {\n      return new IImageElement(data, this.globalData, this);\n    }\n\n    return new HImageElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createSolid = function (data) {\n    if (!this.supports3d) {\n      return new ISolidElement(data, this.globalData, this);\n    }\n\n    return new HSolidElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\n\n  HybridRendererBase.prototype.getThreeDContainerByPos = function (pos) {\n    var i = 0;\n    var len = this.threeDElements.length;\n\n    while (i < len) {\n      if (this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\n        return this.threeDElements[i].perspectiveElem;\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  HybridRendererBase.prototype.createThreeDContainer = function (pos, type) {\n    var perspectiveElem = createTag('div');\n    var style;\n    var containerStyle;\n    styleDiv(perspectiveElem);\n    var container = createTag('div');\n    styleDiv(container);\n\n    if (type === '3d') {\n      style = perspectiveElem.style;\n      style.width = this.globalData.compSize.w + 'px';\n      style.height = this.globalData.compSize.h + 'px';\n      var center = '50% 50%';\n      style.webkitTransformOrigin = center;\n      style.mozTransformOrigin = center;\n      style.transformOrigin = center;\n      containerStyle = container.style;\n      var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n      containerStyle.transform = matrix;\n      containerStyle.webkitTransform = matrix;\n    }\n\n    perspectiveElem.appendChild(container); // this.resizerElem.appendChild(perspectiveElem);\n\n    var threeDContainerData = {\n      container: container,\n      perspectiveElem: perspectiveElem,\n      startPos: pos,\n      endPos: pos,\n      type: type\n    };\n    this.threeDElements.push(threeDContainerData);\n    return threeDContainerData;\n  };\n\n  HybridRendererBase.prototype.build3dContainers = function () {\n    var i;\n    var len = this.layers.length;\n    var lastThreeDContainerData;\n    var currentContainer = '';\n\n    for (i = 0; i < len; i += 1) {\n      if (this.layers[i].ddd && this.layers[i].ty !== 3) {\n        if (currentContainer !== '3d') {\n          currentContainer = '3d';\n          lastThreeDContainerData = this.createThreeDContainer(i, '3d');\n        }\n\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n      } else {\n        if (currentContainer !== '2d') {\n          currentContainer = '2d';\n          lastThreeDContainerData = this.createThreeDContainer(i, '2d');\n        }\n\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n      }\n    }\n\n    len = this.threeDElements.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);\n    }\n  };\n\n  HybridRendererBase.prototype.addTo3dContainer = function (elem, pos) {\n    var i = 0;\n    var len = this.threeDElements.length;\n\n    while (i < len) {\n      if (pos <= this.threeDElements[i].endPos) {\n        var j = this.threeDElements[i].startPos;\n        var nextElement;\n\n        while (j < pos) {\n          if (this.elements[j] && this.elements[j].getBaseElement) {\n            nextElement = this.elements[j].getBaseElement();\n          }\n\n          j += 1;\n        }\n\n        if (nextElement) {\n          this.threeDElements[i].container.insertBefore(elem, nextElement);\n        } else {\n          this.threeDElements[i].container.appendChild(elem);\n        }\n\n        break;\n      }\n\n      i += 1;\n    }\n  };\n\n  HybridRendererBase.prototype.configAnimation = function (animData) {\n    var resizerElem = createTag('div');\n    var wrapper = this.animationItem.wrapper;\n    var style = resizerElem.style;\n    style.width = animData.w + 'px';\n    style.height = animData.h + 'px';\n    this.resizerElem = resizerElem;\n    styleDiv(resizerElem);\n    style.transformStyle = 'flat';\n    style.mozTransformStyle = 'flat';\n    style.webkitTransformStyle = 'flat';\n\n    if (this.renderConfig.className) {\n      resizerElem.setAttribute('class', this.renderConfig.className);\n    }\n\n    wrapper.appendChild(resizerElem);\n    style.overflow = 'hidden';\n    var svg = createNS('svg');\n    svg.setAttribute('width', '1');\n    svg.setAttribute('height', '1');\n    styleDiv(svg);\n    this.resizerElem.appendChild(svg);\n    var defs = createNS('defs');\n    svg.appendChild(defs);\n    this.data = animData; // Mask animation\n\n    this.setupGlobalData(animData, svg);\n    this.globalData.defs = defs;\n    this.layers = animData.layers;\n    this.layerElement = this.resizerElem;\n    this.build3dContainers();\n    this.updateContainerSize();\n  };\n\n  HybridRendererBase.prototype.destroy = function () {\n    if (this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    this.animationItem.container = null;\n    this.globalData.defs = null;\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = 0; i < len; i += 1) {\n      this.elements[i].destroy();\n    }\n\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n  };\n\n  HybridRendererBase.prototype.updateContainerSize = function () {\n    var elementWidth = this.animationItem.wrapper.offsetWidth;\n    var elementHeight = this.animationItem.wrapper.offsetHeight;\n    var elementRel = elementWidth / elementHeight;\n    var animationRel = this.globalData.compSize.w / this.globalData.compSize.h;\n    var sx;\n    var sy;\n    var tx;\n    var ty;\n\n    if (animationRel > elementRel) {\n      sx = elementWidth / this.globalData.compSize.w;\n      sy = elementWidth / this.globalData.compSize.w;\n      tx = 0;\n      ty = (elementHeight - this.globalData.compSize.h * (elementWidth / this.globalData.compSize.w)) / 2;\n    } else {\n      sx = elementHeight / this.globalData.compSize.h;\n      sy = elementHeight / this.globalData.compSize.h;\n      tx = (elementWidth - this.globalData.compSize.w * (elementHeight / this.globalData.compSize.h)) / 2;\n      ty = 0;\n    }\n\n    var style = this.resizerElem.style;\n    style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,' + sy + ',0,0,0,0,1,0,' + tx + ',' + ty + ',0,1)';\n    style.transform = style.webkitTransform;\n  };\n\n  HybridRendererBase.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\n\n  HybridRendererBase.prototype.hide = function () {\n    this.resizerElem.style.display = 'none';\n  };\n\n  HybridRendererBase.prototype.show = function () {\n    this.resizerElem.style.display = 'block';\n  };\n\n  HybridRendererBase.prototype.initItems = function () {\n    this.buildAllItems();\n\n    if (this.camera) {\n      this.camera.setup();\n    } else {\n      var cWidth = this.globalData.compSize.w;\n      var cHeight = this.globalData.compSize.h;\n      var i;\n      var len = this.threeDElements.length;\n\n      for (i = 0; i < len; i += 1) {\n        var style = this.threeDElements[i].perspectiveElem.style;\n        style.webkitPerspective = Math.sqrt(Math.pow(cWidth, 2) + Math.pow(cHeight, 2)) + 'px';\n        style.perspective = style.webkitPerspective;\n      }\n    }\n  };\n\n  HybridRendererBase.prototype.searchExtraCompositions = function (assets) {\n    var i;\n    var len = assets.length;\n    var floatingContainer = createTag('div');\n\n    for (i = 0; i < len; i += 1) {\n      if (assets[i].xt) {\n        var comp = this.createComp(assets[i], floatingContainer, this.globalData.comp, null);\n        comp.initExpressions();\n        this.globalData.projectInterface.registerComposition(comp);\n      }\n    }\n  };\n\n  function HCompElement(data, globalData, comp) {\n    this.layers = data.layers;\n    this.supports3d = !data.hasMask;\n    this.completeLayers = false;\n    this.pendingElements = [];\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([HybridRendererBase, ICompElement, HBaseElement], HCompElement);\n  HCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\n\n  HCompElement.prototype.createContainerElements = function () {\n    this._createBaseContainerElements(); // divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\n\n\n    if (this.data.hasMask) {\n      this.svgElement.setAttribute('width', this.data.w);\n      this.svgElement.setAttribute('height', this.data.h);\n      this.transformedElement = this.baseElement;\n    } else {\n      this.transformedElement = this.layerElement;\n    }\n  };\n\n  HCompElement.prototype.addTo3dContainer = function (elem, pos) {\n    var j = 0;\n    var nextElement;\n\n    while (j < pos) {\n      if (this.elements[j] && this.elements[j].getBaseElement) {\n        nextElement = this.elements[j].getBaseElement();\n      }\n\n      j += 1;\n    }\n\n    if (nextElement) {\n      this.layerElement.insertBefore(elem, nextElement);\n    } else {\n      this.layerElement.appendChild(elem);\n    }\n  };\n\n  HCompElement.prototype.createComp = function (data) {\n    if (!this.supports3d) {\n      return new SVGCompElement(data, this.globalData, this);\n    }\n\n    return new HCompElement(data, this.globalData, this);\n  };\n\n  function HybridRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.renderConfig = {\n      className: config && config.className || '',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '400%',\n        height: config && config.filterSize && config.filterSize.height || '400%',\n        x: config && config.filterSize && config.filterSize.x || '-100%',\n        y: config && config.filterSize && config.filterSize.y || '-100%'\n      }\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      renderConfig: this.renderConfig\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n    this.rendererType = 'html';\n  }\n\n  extendPrototype([HybridRendererBase], HybridRenderer);\n\n  HybridRenderer.prototype.createComp = function (data) {\n    if (!this.supports3d) {\n      return new SVGCompElement(data, this.globalData, this);\n    }\n\n    return new HCompElement(data, this.globalData, this);\n  };\n\n  var Expressions = function () {\n    var ob = {};\n    ob.initExpressions = initExpressions;\n\n    function initExpressions(animation) {\n      var stackCount = 0;\n      var registers = [];\n\n      function pushExpression() {\n        stackCount += 1;\n      }\n\n      function popExpression() {\n        stackCount -= 1;\n\n        if (stackCount === 0) {\n          releaseInstances();\n        }\n      }\n\n      function registerExpressionProperty(expression) {\n        if (registers.indexOf(expression) === -1) {\n          registers.push(expression);\n        }\n      }\n\n      function releaseInstances() {\n        var i;\n        var len = registers.length;\n\n        for (i = 0; i < len; i += 1) {\n          registers[i].release();\n        }\n\n        registers.length = 0;\n      }\n\n      animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\n      animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\n      animation.renderer.globalData.pushExpression = pushExpression;\n      animation.renderer.globalData.popExpression = popExpression;\n      animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\n    }\n\n    return ob;\n  }();\n\n  function _typeof$1(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$1 = function _typeof(obj) { return typeof obj; }; } else { _typeof$1 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$1(obj); }\n\n  /* eslint-disable */\n\n  /*\r\n   Copyright 2014 David Bau.\r\n\r\n   Permission is hereby granted, free of charge, to any person obtaining\r\n   a copy of this software and associated documentation files (the\r\n   \"Software\"), to deal in the Software without restriction, including\r\n   without limitation the rights to use, copy, modify, merge, publish,\r\n   distribute, sublicense, and/or sell copies of the Software, and to\r\n   permit persons to whom the Software is furnished to do so, subject to\r\n   the following conditions:\r\n\r\n   The above copyright notice and this permission notice shall be\r\n   included in all copies or substantial portions of the Software.\r\n\r\n   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n   IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n   CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n   TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n   SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n   */\n  function seedRandom(pool, math) {\n    //\n    // The following constants are related to IEEE 754 limits.\n    //\n    var global = this,\n        width = 256,\n        // each RC4 output is 0 <= x < 256\n    chunks = 6,\n        // at least six RC4 outputs for each double\n    digits = 52,\n        // there are 52 significant digits in a double\n    rngname = 'random',\n        // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n        significance = math.pow(2, digits),\n        overflow = significance * 2,\n        mask = width - 1,\n        nodecrypto; // node.js crypto module, initialized at the bottom.\n    //\n    // seedrandom()\n    // This is the seedrandom function described above.\n    //\n\n    function seedrandom(seed, options, callback) {\n      var key = [];\n      options = options === true ? {\n        entropy: true\n      } : options || {}; // Flatten the seed string or build one from local entropy if needed.\n\n      var shortseed = mixkey(flatten(options.entropy ? [seed, tostring(pool)] : seed === null ? autoseed() : seed, 3), key); // Use the seed to initialize an ARC4 generator.\n\n      var arc4 = new ARC4(key); // This function returns a random double in [0, 1) that contains\n      // randomness in every bit of the mantissa of the IEEE 754 value.\n\n      var prng = function prng() {\n        var n = arc4.g(chunks),\n            // Start with a numerator n < 2 ^ 48\n        d = startdenom,\n            //   and denominator d = 2 ^ 48.\n        x = 0; //   and no 'extra last byte'.\n\n        while (n < significance) {\n          // Fill up all significant digits by\n          n = (n + x) * width; //   shifting numerator and\n\n          d *= width; //   denominator and generating a\n\n          x = arc4.g(1); //   new least-significant-byte.\n        }\n\n        while (n >= overflow) {\n          // To avoid rounding up, before adding\n          n /= 2; //   last byte, shift everything\n\n          d /= 2; //   right using integer math until\n\n          x >>>= 1; //   we have exactly the desired bits.\n        }\n\n        return (n + x) / d; // Form the number within [0, 1).\n      };\n\n      prng.int32 = function () {\n        return arc4.g(4) | 0;\n      };\n\n      prng.quick = function () {\n        return arc4.g(4) / 0x100000000;\n      };\n\n      prng[\"double\"] = prng; // Mix the randomness into accumulated entropy.\n\n      mixkey(tostring(arc4.S), pool); // Calling convention: what to return as a function of prng, seed, is_math.\n\n      return (options.pass || callback || function (prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) {\n            copy(state, arc4);\n          } // Only provide the .state method if requested via options.state.\n\n\n          prng.state = function () {\n            return copy(arc4, {});\n          };\n        } // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n\n\n        if (is_math_call) {\n          math[rngname] = prng;\n          return seed;\n        } // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(prng, shortseed, 'global' in options ? options.global : this == math, options.state);\n    }\n\n    math['seed' + rngname] = seedrandom; //\n    // ARC4\n    //\n    // An ARC4 implementation.  The constructor takes a key in the form of\n    // an array of at most (width) integers that should be 0 <= x < (width).\n    //\n    // The g(count) method returns a pseudorandom integer that concatenates\n    // the next (count) outputs from ARC4.  Its return value is a number x\n    // that is in the range 0 <= x < (width ^ count).\n    //\n\n    function ARC4(key) {\n      var t,\n          keylen = key.length,\n          me = this,\n          i = 0,\n          j = me.i = me.j = 0,\n          s = me.S = []; // The empty key [] is treated as [0].\n\n      if (!keylen) {\n        key = [keylen++];\n      } // Set up S using the standard key scheduling algorithm.\n\n\n      while (i < width) {\n        s[i] = i++;\n      }\n\n      for (i = 0; i < width; i++) {\n        s[i] = s[j = mask & j + key[i % keylen] + (t = s[i])];\n        s[j] = t;\n      } // The \"g\" method returns the next (count) outputs as one number.\n\n\n      me.g = function (count) {\n        // Using instance members instead of closure state nearly doubles speed.\n        var t,\n            r = 0,\n            i = me.i,\n            j = me.j,\n            s = me.S;\n\n        while (count--) {\n          t = s[i = mask & i + 1];\n          r = r * width + s[mask & (s[i] = s[j = mask & j + t]) + (s[j] = t)];\n        }\n\n        me.i = i;\n        me.j = j;\n        return r; // For robust unpredictability, the function call below automatically\n        // discards an initial batch of values.  This is called RC4-drop[256].\n        // See http://google.com/search?q=rsa+fluhrer+response&btnI\n      };\n    } //\n    // copy()\n    // Copies internal state of ARC4 to or from a plain object.\n    //\n\n\n    function copy(f, t) {\n      t.i = f.i;\n      t.j = f.j;\n      t.S = f.S.slice();\n      return t;\n    } //\n    // flatten()\n    // Converts an object tree to nested arrays of strings.\n    //\n\n\n    function flatten(obj, depth) {\n      var result = [],\n          typ = _typeof$1(obj),\n          prop;\n\n      if (depth && typ == 'object') {\n        for (prop in obj) {\n          try {\n            result.push(flatten(obj[prop], depth - 1));\n          } catch (e) {}\n        }\n      }\n\n      return result.length ? result : typ == 'string' ? obj : obj + '\\0';\n    } //\n    // mixkey()\n    // Mixes a string seed into a key that is an array of integers, and\n    // returns a shortened string seed that is equivalent to the result key.\n    //\n\n\n    function mixkey(seed, key) {\n      var stringseed = seed + '',\n          smear,\n          j = 0;\n\n      while (j < stringseed.length) {\n        key[mask & j] = mask & (smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++);\n      }\n\n      return tostring(key);\n    } //\n    // autoseed()\n    // Returns an object for autoseeding, using window.crypto and Node crypto\n    // module if available.\n    //\n\n\n    function autoseed() {\n      try {\n        if (nodecrypto) {\n          return tostring(nodecrypto.randomBytes(width));\n        }\n\n        var out = new Uint8Array(width);\n        (global.crypto || global.msCrypto).getRandomValues(out);\n        return tostring(out);\n      } catch (e) {\n        var browser = global.navigator,\n            plugins = browser && browser.plugins;\n        return [+new Date(), global, plugins, global.screen, tostring(pool)];\n      }\n    } //\n    // tostring()\n    // Converts an array of charcodes to a string\n    //\n\n\n    function tostring(a) {\n      return String.fromCharCode.apply(0, a);\n    } //\n    // When seedrandom.js is loaded, we immediately mix a few bits\n    // from the built-in RNG into the entropy pool.  Because we do\n    // not want to interfere with deterministic PRNG state later,\n    // seedrandom will not call math.random on its own again after\n    // initialization.\n    //\n\n\n    mixkey(math.random(), pool); //\n    // Nodejs and AMD support: export the implementation as a module using\n    // either convention.\n    //\n    // End anonymous scope, and pass initial values.\n  }\n\n  ;\n\n  function initialize$2(BMMath) {\n    seedRandom([], BMMath);\n  }\n\n  var propTypes = {\n    SHAPE: 'shape'\n  };\n\n  function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n  var ExpressionManager = function () {\n    'use strict';\n\n    var ob = {};\n    var Math = BMMath;\n    var window = null;\n    var document = null;\n    var XMLHttpRequest = null;\n    var fetch = null;\n    var frames = null;\n    initialize$2(BMMath);\n\n    function $bm_isInstanceOfArray(arr) {\n      return arr.constructor === Array || arr.constructor === Float32Array;\n    }\n\n    function isNumerable(tOfV, v) {\n      return tOfV === 'number' || tOfV === 'boolean' || tOfV === 'string' || v instanceof Number;\n    }\n\n    function $bm_neg(a) {\n      var tOfA = _typeof(a);\n\n      if (tOfA === 'number' || tOfA === 'boolean' || a instanceof Number) {\n        return -a;\n      }\n\n      if ($bm_isInstanceOfArray(a)) {\n        var i;\n        var lenA = a.length;\n        var retArr = [];\n\n        for (i = 0; i < lenA; i += 1) {\n          retArr[i] = -a[i];\n        }\n\n        return retArr;\n      }\n\n      if (a.propType) {\n        return a.v;\n      }\n\n      return -a;\n    }\n\n    var easeInBez = BezierFactory.getBezierEasing(0.333, 0, 0.833, 0.833, 'easeIn').get;\n    var easeOutBez = BezierFactory.getBezierEasing(0.167, 0.167, 0.667, 1, 'easeOut').get;\n    var easeInOutBez = BezierFactory.getBezierEasing(0.33, 0, 0.667, 1, 'easeInOut').get;\n\n    function sum(a, b) {\n      var tOfA = _typeof(a);\n\n      var tOfB = _typeof(b);\n\n      if (tOfA === 'string' || tOfB === 'string') {\n        return a + b;\n      }\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a + b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        a = a.slice(0);\n        a[0] += b;\n        return a;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        b = b.slice(0);\n        b[0] = a + b[0];\n        return b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n        var i = 0;\n        var lenA = a.length;\n        var lenB = b.length;\n        var retArr = [];\n\n        while (i < lenA || i < lenB) {\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n            retArr[i] = a[i] + b[i];\n          } else {\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n          }\n\n          i += 1;\n        }\n\n        return retArr;\n      }\n\n      return 0;\n    }\n\n    var add = sum;\n\n    function sub(a, b) {\n      var tOfA = _typeof(a);\n\n      var tOfB = _typeof(b);\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        if (tOfA === 'string') {\n          a = parseInt(a, 10);\n        }\n\n        if (tOfB === 'string') {\n          b = parseInt(b, 10);\n        }\n\n        return a - b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        a = a.slice(0);\n        a[0] -= b;\n        return a;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        b = b.slice(0);\n        b[0] = a - b[0];\n        return b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n        var i = 0;\n        var lenA = a.length;\n        var lenB = b.length;\n        var retArr = [];\n\n        while (i < lenA || i < lenB) {\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n            retArr[i] = a[i] - b[i];\n          } else {\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n          }\n\n          i += 1;\n        }\n\n        return retArr;\n      }\n\n      return 0;\n    }\n\n    function mul(a, b) {\n      var tOfA = _typeof(a);\n\n      var tOfB = _typeof(b);\n\n      var arr;\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a * b;\n      }\n\n      var i;\n      var len;\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        len = a.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a[i] * b;\n        }\n\n        return arr;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        len = b.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a * b[i];\n        }\n\n        return arr;\n      }\n\n      return 0;\n    }\n\n    function div(a, b) {\n      var tOfA = _typeof(a);\n\n      var tOfB = _typeof(b);\n\n      var arr;\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a / b;\n      }\n\n      var i;\n      var len;\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        len = a.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a[i] / b;\n        }\n\n        return arr;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        len = b.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a / b[i];\n        }\n\n        return arr;\n      }\n\n      return 0;\n    }\n\n    function mod(a, b) {\n      if (typeof a === 'string') {\n        a = parseInt(a, 10);\n      }\n\n      if (typeof b === 'string') {\n        b = parseInt(b, 10);\n      }\n\n      return a % b;\n    }\n\n    var $bm_sum = sum;\n    var $bm_sub = sub;\n    var $bm_mul = mul;\n    var $bm_div = div;\n    var $bm_mod = mod;\n\n    function clamp(num, min, max) {\n      if (min > max) {\n        var mm = max;\n        max = min;\n        min = mm;\n      }\n\n      return Math.min(Math.max(num, min), max);\n    }\n\n    function radiansToDegrees(val) {\n      return val / degToRads;\n    }\n\n    var radians_to_degrees = radiansToDegrees;\n\n    function degreesToRadians(val) {\n      return val * degToRads;\n    }\n\n    var degrees_to_radians = radiansToDegrees;\n    var helperLengthArray = [0, 0, 0, 0, 0, 0];\n\n    function length(arr1, arr2) {\n      if (typeof arr1 === 'number' || arr1 instanceof Number) {\n        arr2 = arr2 || 0;\n        return Math.abs(arr1 - arr2);\n      }\n\n      if (!arr2) {\n        arr2 = helperLengthArray;\n      }\n\n      var i;\n      var len = Math.min(arr1.length, arr2.length);\n      var addedLength = 0;\n\n      for (i = 0; i < len; i += 1) {\n        addedLength += Math.pow(arr2[i] - arr1[i], 2);\n      }\n\n      return Math.sqrt(addedLength);\n    }\n\n    function normalize(vec) {\n      return div(vec, length(vec));\n    }\n\n    function rgbToHsl(val) {\n      var r = val[0];\n      var g = val[1];\n      var b = val[2];\n      var max = Math.max(r, g, b);\n      var min = Math.min(r, g, b);\n      var h;\n      var s;\n      var l = (max + min) / 2;\n\n      if (max === min) {\n        h = 0; // achromatic\n\n        s = 0; // achromatic\n      } else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n        switch (max) {\n          case r:\n            h = (g - b) / d + (g < b ? 6 : 0);\n            break;\n\n          case g:\n            h = (b - r) / d + 2;\n            break;\n\n          case b:\n            h = (r - g) / d + 4;\n            break;\n\n          default:\n            break;\n        }\n\n        h /= 6;\n      }\n\n      return [h, s, l, val[3]];\n    }\n\n    function hue2rgb(p, q, t) {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    }\n\n    function hslToRgb(val) {\n      var h = val[0];\n      var s = val[1];\n      var l = val[2];\n      var r;\n      var g;\n      var b;\n\n      if (s === 0) {\n        r = l; // achromatic\n\n        b = l; // achromatic\n\n        g = l; // achromatic\n      } else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n      }\n\n      return [r, g, b, val[3]];\n    }\n\n    function linear(t, tMin, tMax, value1, value2) {\n      if (value1 === undefined || value2 === undefined) {\n        value1 = tMin;\n        value2 = tMax;\n        tMin = 0;\n        tMax = 1;\n      }\n\n      if (tMax < tMin) {\n        var _tMin = tMax;\n        tMax = tMin;\n        tMin = _tMin;\n      }\n\n      if (t <= tMin) {\n        return value1;\n      }\n\n      if (t >= tMax) {\n        return value2;\n      }\n\n      var perc = tMax === tMin ? 0 : (t - tMin) / (tMax - tMin);\n\n      if (!value1.length) {\n        return value1 + (value2 - value1) * perc;\n      }\n\n      var i;\n      var len = value1.length;\n      var arr = createTypedArray('float32', len);\n\n      for (i = 0; i < len; i += 1) {\n        arr[i] = value1[i] + (value2[i] - value1[i]) * perc;\n      }\n\n      return arr;\n    }\n\n    function random(min, max) {\n      if (max === undefined) {\n        if (min === undefined) {\n          min = 0;\n          max = 1;\n        } else {\n          max = min;\n          min = undefined;\n        }\n      }\n\n      if (max.length) {\n        var i;\n        var len = max.length;\n\n        if (!min) {\n          min = createTypedArray('float32', len);\n        }\n\n        var arr = createTypedArray('float32', len);\n        var rnd = BMMath.random();\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = min[i] + rnd * (max[i] - min[i]);\n        }\n\n        return arr;\n      }\n\n      if (min === undefined) {\n        min = 0;\n      }\n\n      var rndm = BMMath.random();\n      return min + rndm * (max - min);\n    }\n\n    function createPath(points, inTangents, outTangents, closed) {\n      var i;\n      var len = points.length;\n      var path = shapePool.newElement();\n      path.setPathData(!!closed, len);\n      var arrPlaceholder = [0, 0];\n      var inVertexPoint;\n      var outVertexPoint;\n\n      for (i = 0; i < len; i += 1) {\n        inVertexPoint = inTangents && inTangents[i] ? inTangents[i] : arrPlaceholder;\n        outVertexPoint = outTangents && outTangents[i] ? outTangents[i] : arrPlaceholder;\n        path.setTripleAt(points[i][0], points[i][1], outVertexPoint[0] + points[i][0], outVertexPoint[1] + points[i][1], inVertexPoint[0] + points[i][0], inVertexPoint[1] + points[i][1], i, true);\n      }\n\n      return path;\n    }\n\n    function initiateExpression(elem, data, property) {\n      var val = data.x;\n      var needsVelocity = /velocity(?![\\w\\d])/.test(val);\n\n      var _needsRandom = val.indexOf('random') !== -1;\n\n      var elemType = elem.data.ty;\n      var transform;\n      var $bm_transform;\n      var content;\n      var effect;\n      var thisProperty = property;\n      thisProperty.valueAtTime = thisProperty.getValueAtTime;\n      Object.defineProperty(thisProperty, 'value', {\n        get: function get() {\n          return thisProperty.v;\n        }\n      });\n      elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate;\n      elem.comp.displayStartTime = 0;\n      var inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n      var outPoint = elem.data.op / elem.comp.globalData.frameRate;\n      var width = elem.data.sw ? elem.data.sw : 0;\n      var height = elem.data.sh ? elem.data.sh : 0;\n      var name = elem.data.nm;\n      var loopIn;\n      var loop_in;\n      var loopOut;\n      var loop_out;\n      var smooth;\n      var toWorld;\n      var fromWorld;\n      var fromComp;\n      var toComp;\n      var fromCompToSurface;\n      var position;\n      var rotation;\n      var anchorPoint;\n      var scale;\n      var thisLayer;\n      var thisComp;\n      var mask;\n      var valueAtTime;\n      var velocityAtTime;\n      var scoped_bm_rt; // val = val.replace(/(\\\\?\"|')((http)(s)?(:\\/))?\\/.*?(\\\\?\"|')/g, \"\\\"\\\"\"); // deter potential network calls\n\n      var expression_function = eval('[function _expression_function(){' + val + ';scoped_bm_rt=$bm_rt}]')[0]; // eslint-disable-line no-eval\n\n      var numKeys = property.kf ? data.k.length : 0;\n      var active = !this.data || this.data.hd !== true;\n\n      var wiggle = function wiggle(freq, amp) {\n        var iWiggle;\n        var j;\n        var lenWiggle = this.pv.length ? this.pv.length : 1;\n        var addedAmps = createTypedArray('float32', lenWiggle);\n        freq = 5;\n        var iterations = Math.floor(time * freq);\n        iWiggle = 0;\n        j = 0;\n\n        while (iWiggle < iterations) {\n          // var rnd = BMMath.random();\n          for (j = 0; j < lenWiggle; j += 1) {\n            addedAmps[j] += -amp + amp * 2 * BMMath.random(); // addedAmps[j] += -amp + amp*2*rnd;\n          }\n\n          iWiggle += 1;\n        } // var rnd2 = BMMath.random();\n\n\n        var periods = time * freq;\n        var perc = periods - Math.floor(periods);\n        var arr = createTypedArray('float32', lenWiggle);\n\n        if (lenWiggle > 1) {\n          for (j = 0; j < lenWiggle; j += 1) {\n            arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp * 2 * BMMath.random()) * perc; // arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\n            // arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\n          }\n\n          return arr;\n        }\n\n        return this.pv + addedAmps[0] + (-amp + amp * 2 * BMMath.random()) * perc;\n      }.bind(this);\n\n      if (thisProperty.loopIn) {\n        loopIn = thisProperty.loopIn.bind(thisProperty);\n        loop_in = loopIn;\n      }\n\n      if (thisProperty.loopOut) {\n        loopOut = thisProperty.loopOut.bind(thisProperty);\n        loop_out = loopOut;\n      }\n\n      if (thisProperty.smooth) {\n        smooth = thisProperty.smooth.bind(thisProperty);\n      }\n\n      function loopInDuration(type, duration) {\n        return loopIn(type, duration, true);\n      }\n\n      function loopOutDuration(type, duration) {\n        return loopOut(type, duration, true);\n      }\n\n      if (this.getValueAtTime) {\n        valueAtTime = this.getValueAtTime.bind(this);\n      }\n\n      if (this.getVelocityAtTime) {\n        velocityAtTime = this.getVelocityAtTime.bind(this);\n      }\n\n      var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\n\n      function lookAt(elem1, elem2) {\n        var fVec = [elem2[0] - elem1[0], elem2[1] - elem1[1], elem2[2] - elem1[2]];\n        var pitch = Math.atan2(fVec[0], Math.sqrt(fVec[1] * fVec[1] + fVec[2] * fVec[2])) / degToRads;\n        var yaw = -Math.atan2(fVec[1], fVec[2]) / degToRads;\n        return [yaw, pitch, 0];\n      }\n\n      function easeOut(t, tMin, tMax, val1, val2) {\n        return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\n      }\n\n      function easeIn(t, tMin, tMax, val1, val2) {\n        return applyEase(easeInBez, t, tMin, tMax, val1, val2);\n      }\n\n      function ease(t, tMin, tMax, val1, val2) {\n        return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\n      }\n\n      function applyEase(fn, t, tMin, tMax, val1, val2) {\n        if (val1 === undefined) {\n          val1 = tMin;\n          val2 = tMax;\n        } else {\n          t = (t - tMin) / (tMax - tMin);\n        }\n\n        if (t > 1) {\n          t = 1;\n        } else if (t < 0) {\n          t = 0;\n        }\n\n        var mult = fn(t);\n\n        if ($bm_isInstanceOfArray(val1)) {\n          var iKey;\n          var lenKey = val1.length;\n          var arr = createTypedArray('float32', lenKey);\n\n          for (iKey = 0; iKey < lenKey; iKey += 1) {\n            arr[iKey] = (val2[iKey] - val1[iKey]) * mult + val1[iKey];\n          }\n\n          return arr;\n        }\n\n        return (val2 - val1) * mult + val1;\n      }\n\n      function nearestKey(time) {\n        var iKey;\n        var lenKey = data.k.length;\n        var index;\n        var keyTime;\n\n        if (!data.k.length || typeof data.k[0] === 'number') {\n          index = 0;\n          keyTime = 0;\n        } else {\n          index = -1;\n          time *= elem.comp.globalData.frameRate;\n\n          if (time < data.k[0].t) {\n            index = 1;\n            keyTime = data.k[0].t;\n          } else {\n            for (iKey = 0; iKey < lenKey - 1; iKey += 1) {\n              if (time === data.k[iKey].t) {\n                index = iKey + 1;\n                keyTime = data.k[iKey].t;\n                break;\n              } else if (time > data.k[iKey].t && time < data.k[iKey + 1].t) {\n                if (time - data.k[iKey].t > data.k[iKey + 1].t - time) {\n                  index = iKey + 2;\n                  keyTime = data.k[iKey + 1].t;\n                } else {\n                  index = iKey + 1;\n                  keyTime = data.k[iKey].t;\n                }\n\n                break;\n              }\n            }\n\n            if (index === -1) {\n              index = iKey + 1;\n              keyTime = data.k[iKey].t;\n            }\n          }\n        }\n\n        var obKey = {};\n        obKey.index = index;\n        obKey.time = keyTime / elem.comp.globalData.frameRate;\n        return obKey;\n      }\n\n      function key(ind) {\n        var obKey;\n        var iKey;\n        var lenKey;\n\n        if (!data.k.length || typeof data.k[0] === 'number') {\n          throw new Error('The property has no keyframe at index ' + ind);\n        }\n\n        ind -= 1;\n        obKey = {\n          time: data.k[ind].t / elem.comp.globalData.frameRate,\n          value: []\n        };\n        var arr = Object.prototype.hasOwnProperty.call(data.k[ind], 's') ? data.k[ind].s : data.k[ind - 1].e;\n        lenKey = arr.length;\n\n        for (iKey = 0; iKey < lenKey; iKey += 1) {\n          obKey[iKey] = arr[iKey];\n          obKey.value[iKey] = arr[iKey];\n        }\n\n        return obKey;\n      }\n\n      function framesToTime(fr, fps) {\n        if (!fps) {\n          fps = elem.comp.globalData.frameRate;\n        }\n\n        return fr / fps;\n      }\n\n      function timeToFrames(t, fps) {\n        if (!t && t !== 0) {\n          t = time;\n        }\n\n        if (!fps) {\n          fps = elem.comp.globalData.frameRate;\n        }\n\n        return t * fps;\n      }\n\n      function seedRandom(seed) {\n        BMMath.seedrandom(randSeed + seed);\n      }\n\n      function sourceRectAtTime() {\n        return elem.sourceRectAtTime();\n      }\n\n      function substring(init, end) {\n        if (typeof value === 'string') {\n          if (end === undefined) {\n            return value.substring(init);\n          }\n\n          return value.substring(init, end);\n        }\n\n        return '';\n      }\n\n      function substr(init, end) {\n        if (typeof value === 'string') {\n          if (end === undefined) {\n            return value.substr(init);\n          }\n\n          return value.substr(init, end);\n        }\n\n        return '';\n      }\n\n      function posterizeTime(framesPerSecond) {\n        time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond;\n        value = valueAtTime(time);\n      }\n\n      var time;\n      var velocity;\n      var value;\n      var text;\n      var textIndex;\n      var textTotal;\n      var selectorValue;\n      var index = elem.data.ind;\n      var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n      var parent;\n      var randSeed = Math.floor(Math.random() * 1000000);\n      var globalData = elem.globalData;\n\n      function executeExpression(_value) {\n        // globalData.pushExpression();\n        value = _value;\n\n        if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\n          return value;\n        }\n\n        if (this.propType === 'textSelector') {\n          textIndex = this.textIndex;\n          textTotal = this.textTotal;\n          selectorValue = this.selectorValue;\n        }\n\n        if (!thisLayer) {\n          text = elem.layerInterface.text;\n          thisLayer = elem.layerInterface;\n          thisComp = elem.comp.compInterface;\n          toWorld = thisLayer.toWorld.bind(thisLayer);\n          fromWorld = thisLayer.fromWorld.bind(thisLayer);\n          fromComp = thisLayer.fromComp.bind(thisLayer);\n          toComp = thisLayer.toComp.bind(thisLayer);\n          mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\n          fromCompToSurface = fromComp;\n        }\n\n        if (!transform) {\n          transform = elem.layerInterface('ADBE Transform Group');\n          $bm_transform = transform;\n\n          if (transform) {\n            anchorPoint = transform.anchorPoint;\n            /* position = transform.position;\r\n                      rotation = transform.rotation;\r\n                      scale = transform.scale; */\n          }\n        }\n\n        if (elemType === 4 && !content) {\n          content = thisLayer('ADBE Root Vectors Group');\n        }\n\n        if (!effect) {\n          effect = thisLayer(4);\n        }\n\n        hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n\n        if (hasParent && !parent) {\n          parent = elem.hierarchy[0].layerInterface;\n        }\n\n        time = this.comp.renderedFrame / this.comp.globalData.frameRate;\n\n        if (_needsRandom) {\n          seedRandom(randSeed + time);\n        }\n\n        if (needsVelocity) {\n          velocity = velocityAtTime(time);\n        }\n\n        expression_function();\n        this.frameExpressionId = elem.globalData.frameId; // TODO: Check if it's possible to return on ShapeInterface the .v value\n        // Changed this to a ternary operation because Rollup failed compiling it correctly\n\n        scoped_bm_rt = scoped_bm_rt.propType === propTypes.SHAPE ? scoped_bm_rt.v : scoped_bm_rt;\n        return scoped_bm_rt;\n      } // Bundlers will see these as dead code and unless we reference them\n\n\n      executeExpression.__preventDeadCodeRemoval = [$bm_transform, anchorPoint, time, velocity, inPoint, outPoint, width, height, name, loop_in, loop_out, smooth, toComp, fromCompToSurface, toWorld, fromWorld, mask, position, rotation, scale, thisComp, numKeys, active, wiggle, loopInDuration, loopOutDuration, comp, lookAt, easeOut, easeIn, ease, nearestKey, key, text, textIndex, textTotal, selectorValue, framesToTime, timeToFrames, sourceRectAtTime, substring, substr, posterizeTime, index, globalData];\n      return executeExpression;\n    }\n\n    ob.initiateExpression = initiateExpression;\n    ob.__preventDeadCodeRemoval = [window, document, XMLHttpRequest, fetch, frames, $bm_neg, add, $bm_sum, $bm_sub, $bm_mul, $bm_div, $bm_mod, clamp, radians_to_degrees, degreesToRadians, degrees_to_radians, normalize, rgbToHsl, hslToRgb, linear, random, createPath];\n    return ob;\n  }();\n\n  var expressionHelpers = function () {\n    function searchExpressions(elem, data, prop) {\n      if (data.x) {\n        prop.k = true;\n        prop.x = true;\n        prop.initiateExpression = ExpressionManager.initiateExpression;\n        prop.effectsSequence.push(prop.initiateExpression(elem, data, prop).bind(prop));\n      }\n    }\n\n    function getValueAtTime(frameNum) {\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n\n      if (frameNum !== this._cachingAtTime.lastFrame) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\n        this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\n        this._cachingAtTime.lastFrame = frameNum;\n      }\n\n      return this._cachingAtTime.value;\n    }\n\n    function getSpeedAtTime(frameNum) {\n      var delta = -0.01;\n      var v1 = this.getValueAtTime(frameNum);\n      var v2 = this.getValueAtTime(frameNum + delta);\n      var speed = 0;\n\n      if (v1.length) {\n        var i;\n\n        for (i = 0; i < v1.length; i += 1) {\n          speed += Math.pow(v2[i] - v1[i], 2);\n        }\n\n        speed = Math.sqrt(speed) * 100;\n      } else {\n        speed = 0;\n      }\n\n      return speed;\n    }\n\n    function getVelocityAtTime(frameNum) {\n      if (this.vel !== undefined) {\n        return this.vel;\n      }\n\n      var delta = -0.001; // frameNum += this.elem.data.st;\n\n      var v1 = this.getValueAtTime(frameNum);\n      var v2 = this.getValueAtTime(frameNum + delta);\n      var velocity;\n\n      if (v1.length) {\n        velocity = createTypedArray('float32', v1.length);\n        var i;\n\n        for (i = 0; i < v1.length; i += 1) {\n          // removing frameRate\n          // if needed, don't add it here\n          // velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\n          velocity[i] = (v2[i] - v1[i]) / delta;\n        }\n      } else {\n        velocity = (v2 - v1) / delta;\n      }\n\n      return velocity;\n    }\n\n    function getStaticValueAtTime() {\n      return this.pv;\n    }\n\n    function setGroupProperty(propertyGroup) {\n      this.propertyGroup = propertyGroup;\n    }\n\n    return {\n      searchExpressions: searchExpressions,\n      getSpeedAtTime: getSpeedAtTime,\n      getVelocityAtTime: getVelocityAtTime,\n      getValueAtTime: getValueAtTime,\n      getStaticValueAtTime: getStaticValueAtTime,\n      setGroupProperty: setGroupProperty\n    };\n  }();\n\n  function addPropertyDecorator() {\n    function loopOut(type, duration, durationFlag) {\n      if (!this.k || !this.keyframes) {\n        return this.pv;\n      }\n\n      type = type ? type.toLowerCase() : '';\n      var currentFrame = this.comp.renderedFrame;\n      var keyframes = this.keyframes;\n      var lastKeyFrame = keyframes[keyframes.length - 1].t;\n\n      if (currentFrame <= lastKeyFrame) {\n        return this.pv;\n      }\n\n      var cycleDuration;\n      var firstKeyFrame;\n\n      if (!durationFlag) {\n        if (!duration || duration > keyframes.length - 1) {\n          duration = keyframes.length - 1;\n        }\n\n        firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\n        cycleDuration = lastKeyFrame - firstKeyFrame;\n      } else {\n        if (!duration) {\n          cycleDuration = Math.max(0, lastKeyFrame - this.elem.data.ip);\n        } else {\n          cycleDuration = Math.abs(lastKeyFrame - this.elem.comp.globalData.frameRate * duration);\n        }\n\n        firstKeyFrame = lastKeyFrame - cycleDuration;\n      }\n\n      var i;\n      var len;\n      var ret;\n\n      if (type === 'pingpong') {\n        var iterations = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n\n        if (iterations % 2 !== 0) {\n          return this.getValueAtTime((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n        }\n      } else if (type === 'offset') {\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n\n        var repeats = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n\n        if (this.pv.length) {\n          ret = new Array(initV.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = (endV[i] - initV[i]) * repeats + current[i];\n          }\n\n          return ret;\n        }\n\n        return (endV - initV) * repeats + current;\n      } else if (type === 'continue') {\n        var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\n\n        if (this.pv.length) {\n          ret = new Array(lastValue.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = lastValue[i] + (lastValue[i] - nextLastValue[i]) * ((currentFrame - lastKeyFrame) / this.comp.globalData.frameRate) / 0.0005; // eslint-disable-line\n          }\n\n          return ret;\n        }\n\n        return lastValue + (lastValue - nextLastValue) * ((currentFrame - lastKeyFrame) / 0.001);\n      }\n\n      return this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n    }\n\n    function loopIn(type, duration, durationFlag) {\n      if (!this.k) {\n        return this.pv;\n      }\n\n      type = type ? type.toLowerCase() : '';\n      var currentFrame = this.comp.renderedFrame;\n      var keyframes = this.keyframes;\n      var firstKeyFrame = keyframes[0].t;\n\n      if (currentFrame >= firstKeyFrame) {\n        return this.pv;\n      }\n\n      var cycleDuration;\n      var lastKeyFrame;\n\n      if (!durationFlag) {\n        if (!duration || duration > keyframes.length - 1) {\n          duration = keyframes.length - 1;\n        }\n\n        lastKeyFrame = keyframes[duration].t;\n        cycleDuration = lastKeyFrame - firstKeyFrame;\n      } else {\n        if (!duration) {\n          cycleDuration = Math.max(0, this.elem.data.op - firstKeyFrame);\n        } else {\n          cycleDuration = Math.abs(this.elem.comp.globalData.frameRate * duration);\n        }\n\n        lastKeyFrame = firstKeyFrame + cycleDuration;\n      }\n\n      var i;\n      var len;\n      var ret;\n\n      if (type === 'pingpong') {\n        var iterations = Math.floor((firstKeyFrame - currentFrame) / cycleDuration);\n\n        if (iterations % 2 === 0) {\n          return this.getValueAtTime(((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n        }\n      } else if (type === 'offset') {\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var current = this.getValueAtTime((cycleDuration - (firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);\n        var repeats = Math.floor((firstKeyFrame - currentFrame) / cycleDuration) + 1;\n\n        if (this.pv.length) {\n          ret = new Array(initV.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = current[i] - (endV[i] - initV[i]) * repeats;\n          }\n\n          return ret;\n        }\n\n        return current - (endV - initV) * repeats;\n      } else if (type === 'continue') {\n        var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\n\n        if (this.pv.length) {\n          ret = new Array(firstValue.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = firstValue[i] + (firstValue[i] - nextFirstValue[i]) * (firstKeyFrame - currentFrame) / 0.001;\n          }\n\n          return ret;\n        }\n\n        return firstValue + (firstValue - nextFirstValue) * (firstKeyFrame - currentFrame) / 0.001;\n      }\n\n      return this.getValueAtTime((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n    }\n\n    function smooth(width, samples) {\n      if (!this.k) {\n        return this.pv;\n      }\n\n      width = (width || 0.4) * 0.5;\n      samples = Math.floor(samples || 5);\n\n      if (samples <= 1) {\n        return this.pv;\n      }\n\n      var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\n      var initFrame = currentTime - width;\n      var endFrame = currentTime + width;\n      var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\n      var i = 0;\n      var j = 0;\n      var value;\n\n      if (this.pv.length) {\n        value = createTypedArray('float32', this.pv.length);\n      } else {\n        value = 0;\n      }\n\n      var sampleValue;\n\n      while (i < samples) {\n        sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\n\n        if (this.pv.length) {\n          for (j = 0; j < this.pv.length; j += 1) {\n            value[j] += sampleValue[j];\n          }\n        } else {\n          value += sampleValue;\n        }\n\n        i += 1;\n      }\n\n      if (this.pv.length) {\n        for (j = 0; j < this.pv.length; j += 1) {\n          value[j] /= samples;\n        }\n      } else {\n        value /= samples;\n      }\n\n      return value;\n    }\n\n    function getTransformValueAtTime(time) {\n      if (!this._transformCachingAtTime) {\n        this._transformCachingAtTime = {\n          v: new Matrix()\n        };\n      } /// /\n\n\n      var matrix = this._transformCachingAtTime.v;\n      matrix.cloneFromProps(this.pre.props);\n\n      if (this.appliedTransformations < 1) {\n        var anchor = this.a.getValueAtTime(time);\n        matrix.translate(-anchor[0] * this.a.mult, -anchor[1] * this.a.mult, anchor[2] * this.a.mult);\n      }\n\n      if (this.appliedTransformations < 2) {\n        var scale = this.s.getValueAtTime(time);\n        matrix.scale(scale[0] * this.s.mult, scale[1] * this.s.mult, scale[2] * this.s.mult);\n      }\n\n      if (this.sk && this.appliedTransformations < 3) {\n        var skew = this.sk.getValueAtTime(time);\n        var skewAxis = this.sa.getValueAtTime(time);\n        matrix.skewFromAxis(-skew * this.sk.mult, skewAxis * this.sa.mult);\n      }\n\n      if (this.r && this.appliedTransformations < 4) {\n        var rotation = this.r.getValueAtTime(time);\n        matrix.rotate(-rotation * this.r.mult);\n      } else if (!this.r && this.appliedTransformations < 4) {\n        var rotationZ = this.rz.getValueAtTime(time);\n        var rotationY = this.ry.getValueAtTime(time);\n        var rotationX = this.rx.getValueAtTime(time);\n        var orientation = this.or.getValueAtTime(time);\n        matrix.rotateZ(-rotationZ * this.rz.mult).rotateY(rotationY * this.ry.mult).rotateX(rotationX * this.rx.mult).rotateZ(-orientation[2] * this.or.mult).rotateY(orientation[1] * this.or.mult).rotateX(orientation[0] * this.or.mult);\n      }\n\n      if (this.data.p && this.data.p.s) {\n        var positionX = this.px.getValueAtTime(time);\n        var positionY = this.py.getValueAtTime(time);\n\n        if (this.data.p.z) {\n          var positionZ = this.pz.getValueAtTime(time);\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, -positionZ * this.pz.mult);\n        } else {\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, 0);\n        }\n      } else {\n        var position = this.p.getValueAtTime(time);\n        matrix.translate(position[0] * this.p.mult, position[1] * this.p.mult, -position[2] * this.p.mult);\n      }\n\n      return matrix; /// /\n    }\n\n    function getTransformStaticValueAtTime() {\n      return this.v.clone(new Matrix());\n    }\n\n    var getTransformProperty = TransformPropertyFactory.getTransformProperty;\n\n    TransformPropertyFactory.getTransformProperty = function (elem, data, container) {\n      var prop = getTransformProperty(elem, data, container);\n\n      if (prop.dynamicProperties.length) {\n        prop.getValueAtTime = getTransformValueAtTime.bind(prop);\n      } else {\n        prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\n      }\n\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\n      return prop;\n    };\n\n    var propertyGetProp = PropertyFactory.getProp;\n\n    PropertyFactory.getProp = function (elem, data, type, mult, container) {\n      var prop = propertyGetProp(elem, data, type, mult, container); // prop.getVelocityAtTime = getVelocityAtTime;\n      // prop.loopOut = loopOut;\n      // prop.loopIn = loopIn;\n\n      if (prop.kf) {\n        prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\n      } else {\n        prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\n      }\n\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\n      prop.loopOut = loopOut;\n      prop.loopIn = loopIn;\n      prop.smooth = smooth;\n      prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\n      prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\n      prop.numKeys = data.a === 1 ? data.k.length : 0;\n      prop.propertyIndex = data.ix;\n      var value = 0;\n\n      if (type !== 0) {\n        value = createTypedArray('float32', data.a === 1 ? data.k[0].s.length : data.k.length);\n      }\n\n      prop._cachingAtTime = {\n        lastFrame: initialDefaultFrame,\n        lastIndex: 0,\n        value: value\n      };\n      expressionHelpers.searchExpressions(elem, data, prop);\n\n      if (prop.k) {\n        container.addDynamicProperty(prop);\n      }\n\n      return prop;\n    };\n\n    function getShapeValueAtTime(frameNum) {\n      // For now this caching object is created only when needed instead of creating it when the shape is initialized.\n      if (!this._cachingAtTime) {\n        this._cachingAtTime = {\n          shapeValue: shapePool.clone(this.pv),\n          lastIndex: 0,\n          lastTime: initialDefaultFrame\n        };\n      }\n\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n\n      if (frameNum !== this._cachingAtTime.lastTime) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\n        this._cachingAtTime.lastTime = frameNum;\n        this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\n      }\n\n      return this._cachingAtTime.shapeValue;\n    }\n\n    var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\n    var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\n\n    function ShapeExpressions() {}\n\n    ShapeExpressions.prototype = {\n      vertices: function vertices(prop, time) {\n        if (this.k) {\n          this.getValue();\n        }\n\n        var shapePath = this.v;\n\n        if (time !== undefined) {\n          shapePath = this.getValueAtTime(time, 0);\n        }\n\n        var i;\n        var len = shapePath._length;\n        var vertices = shapePath[prop];\n        var points = shapePath.v;\n        var arr = createSizedArray(len);\n\n        for (i = 0; i < len; i += 1) {\n          if (prop === 'i' || prop === 'o') {\n            arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\n          } else {\n            arr[i] = [vertices[i][0], vertices[i][1]];\n          }\n        }\n\n        return arr;\n      },\n      points: function points(time) {\n        return this.vertices('v', time);\n      },\n      inTangents: function inTangents(time) {\n        return this.vertices('i', time);\n      },\n      outTangents: function outTangents(time) {\n        return this.vertices('o', time);\n      },\n      isClosed: function isClosed() {\n        return this.v.c;\n      },\n      pointOnPath: function pointOnPath(perc, time) {\n        var shapePath = this.v;\n\n        if (time !== undefined) {\n          shapePath = this.getValueAtTime(time, 0);\n        }\n\n        if (!this._segmentsLength) {\n          this._segmentsLength = bez.getSegmentsLength(shapePath);\n        }\n\n        var segmentsLength = this._segmentsLength;\n        var lengths = segmentsLength.lengths;\n        var lengthPos = segmentsLength.totalLength * perc;\n        var i = 0;\n        var len = lengths.length;\n        var accumulatedLength = 0;\n        var pt;\n\n        while (i < len) {\n          if (accumulatedLength + lengths[i].addedLength > lengthPos) {\n            var initIndex = i;\n            var endIndex = shapePath.c && i === len - 1 ? 0 : i + 1;\n            var segmentPerc = (lengthPos - accumulatedLength) / lengths[i].addedLength;\n            pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\n            break;\n          } else {\n            accumulatedLength += lengths[i].addedLength;\n          }\n\n          i += 1;\n        }\n\n        if (!pt) {\n          pt = shapePath.c ? [shapePath.v[0][0], shapePath.v[0][1]] : [shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1]];\n        }\n\n        return pt;\n      },\n      vectorOnPath: function vectorOnPath(perc, time, vectorType) {\n        // perc doesn't use triple equality because it can be a Number object as well as a primitive.\n        if (perc == 1) {\n          // eslint-disable-line eqeqeq\n          perc = this.v.c;\n        } else if (perc == 0) {\n          // eslint-disable-line eqeqeq\n          perc = 0.999;\n        }\n\n        var pt1 = this.pointOnPath(perc, time);\n        var pt2 = this.pointOnPath(perc + 0.001, time);\n        var xLength = pt2[0] - pt1[0];\n        var yLength = pt2[1] - pt1[1];\n        var magnitude = Math.sqrt(Math.pow(xLength, 2) + Math.pow(yLength, 2));\n\n        if (magnitude === 0) {\n          return [0, 0];\n        }\n\n        var unitVector = vectorType === 'tangent' ? [xLength / magnitude, yLength / magnitude] : [-yLength / magnitude, xLength / magnitude];\n        return unitVector;\n      },\n      tangentOnPath: function tangentOnPath(perc, time) {\n        return this.vectorOnPath(perc, time, 'tangent');\n      },\n      normalOnPath: function normalOnPath(perc, time) {\n        return this.vectorOnPath(perc, time, 'normal');\n      },\n      setGroupProperty: expressionHelpers.setGroupProperty,\n      getValueAtTime: expressionHelpers.getStaticValueAtTime\n    };\n    extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\n    extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\n    KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\n    KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\n    var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\n\n    ShapePropertyFactory.getShapeProp = function (elem, data, type, arr, trims) {\n      var prop = propertyGetShapeProp(elem, data, type, arr, trims);\n      prop.propertyIndex = data.ix;\n      prop.lock = false;\n\n      if (type === 3) {\n        expressionHelpers.searchExpressions(elem, data.pt, prop);\n      } else if (type === 4) {\n        expressionHelpers.searchExpressions(elem, data.ks, prop);\n      }\n\n      if (prop.k) {\n        elem.addDynamicProperty(prop);\n      }\n\n      return prop;\n    };\n  }\n\n  function initialize$1() {\n    addPropertyDecorator();\n  }\n\n  function addDecorator() {\n    function searchExpressions() {\n      if (this.data.d.x) {\n        this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this);\n        this.addEffect(this.getExpressionValue.bind(this));\n        return true;\n      }\n\n      return null;\n    }\n\n    TextProperty.prototype.getExpressionValue = function (currentValue, text) {\n      var newValue = this.calculateExpression(text);\n\n      if (currentValue.t !== newValue) {\n        var newData = {};\n        this.copyData(newData, currentValue);\n        newData.t = newValue.toString();\n        newData.__complete = false;\n        return newData;\n      }\n\n      return currentValue;\n    };\n\n    TextProperty.prototype.searchProperty = function () {\n      var isKeyframed = this.searchKeyframes();\n      var hasExpressions = this.searchExpressions();\n      this.kf = isKeyframed || hasExpressions;\n      return this.kf;\n    };\n\n    TextProperty.prototype.searchExpressions = searchExpressions;\n  }\n\n  function initialize() {\n    addDecorator();\n  }\n\n  function SVGComposableEffect() {}\n\n  SVGComposableEffect.prototype = {\n    createMergeNode: function createMergeNode(resultId, ins) {\n      var feMerge = createNS('feMerge');\n      feMerge.setAttribute('result', resultId);\n      var feMergeNode;\n      var i;\n\n      for (i = 0; i < ins.length; i += 1) {\n        feMergeNode = createNS('feMergeNode');\n        feMergeNode.setAttribute('in', ins[i]);\n        feMerge.appendChild(feMergeNode);\n        feMerge.appendChild(feMergeNode);\n      }\n\n      return feMerge;\n    }\n  };\n\n  function SVGTintFilter(filter, filterManager, elem, id, source) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\n    feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', id + '_tint_1');\n    filter.appendChild(feColorMatrix);\n    feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', id + '_tint_2');\n    filter.appendChild(feColorMatrix);\n    this.matrixFilter = feColorMatrix;\n    var feMerge = this.createMergeNode(id, [source, id + '_tint_1', id + '_tint_2']);\n    filter.appendChild(feMerge);\n  }\n\n  extendPrototype([SVGComposableEffect], SVGTintFilter);\n\n  SVGTintFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var colorBlack = this.filterManager.effectElements[0].p.v;\n      var colorWhite = this.filterManager.effectElements[1].p.v;\n      var opacity = this.filterManager.effectElements[2].p.v / 100;\n      this.matrixFilter.setAttribute('values', colorWhite[0] - colorBlack[0] + ' 0 0 0 ' + colorBlack[0] + ' ' + (colorWhite[1] - colorBlack[1]) + ' 0 0 0 ' + colorBlack[1] + ' ' + (colorWhite[2] - colorBlack[2]) + ' 0 0 0 ' + colorBlack[2] + ' 0 0 0 ' + opacity + ' 0');\n    }\n  };\n\n  function SVGFillFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', id);\n    filter.appendChild(feColorMatrix);\n    this.matrixFilter = feColorMatrix;\n  }\n\n  SVGFillFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var color = this.filterManager.effectElements[2].p.v;\n      var opacity = this.filterManager.effectElements[6].p.v;\n      this.matrixFilter.setAttribute('values', '0 0 0 0 ' + color[0] + ' 0 0 0 0 ' + color[1] + ' 0 0 0 0 ' + color[2] + ' 0 0 0 ' + opacity + ' 0');\n    }\n  };\n\n  function SVGStrokeEffect(fil, filterManager, elem) {\n    this.initialized = false;\n    this.filterManager = filterManager;\n    this.elem = elem;\n    this.paths = [];\n  }\n\n  SVGStrokeEffect.prototype.initialize = function () {\n    var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\n    var path;\n    var groupPath;\n    var i;\n    var len;\n\n    if (this.filterManager.effectElements[1].p.v === 1) {\n      len = this.elem.maskManager.masksProperties.length;\n      i = 0;\n    } else {\n      i = this.filterManager.effectElements[0].p.v - 1;\n      len = i + 1;\n    }\n\n    groupPath = createNS('g');\n    groupPath.setAttribute('fill', 'none');\n    groupPath.setAttribute('stroke-linecap', 'round');\n    groupPath.setAttribute('stroke-dashoffset', 1);\n\n    for (i; i < len; i += 1) {\n      path = createNS('path');\n      groupPath.appendChild(path);\n      this.paths.push({\n        p: path,\n        m: i\n      });\n    }\n\n    if (this.filterManager.effectElements[10].p.v === 3) {\n      var mask = createNS('mask');\n      var id = createElementID();\n      mask.setAttribute('id', id);\n      mask.setAttribute('mask-type', 'alpha');\n      mask.appendChild(groupPath);\n      this.elem.globalData.defs.appendChild(mask);\n      var g = createNS('g');\n      g.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\n\n      while (elemChildren[0]) {\n        g.appendChild(elemChildren[0]);\n      }\n\n      this.elem.layerElement.appendChild(g);\n      this.masker = mask;\n      groupPath.setAttribute('stroke', '#fff');\n    } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\n      if (this.filterManager.effectElements[10].p.v === 2) {\n        elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\n\n        while (elemChildren.length) {\n          this.elem.layerElement.removeChild(elemChildren[0]);\n        }\n      }\n\n      this.elem.layerElement.appendChild(groupPath);\n      this.elem.layerElement.removeAttribute('mask');\n      groupPath.setAttribute('stroke', '#fff');\n    }\n\n    this.initialized = true;\n    this.pathMasker = groupPath;\n  };\n\n  SVGStrokeEffect.prototype.renderFrame = function (forceRender) {\n    if (!this.initialized) {\n      this.initialize();\n    }\n\n    var i;\n    var len = this.paths.length;\n    var mask;\n    var path;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.paths[i].m !== -1) {\n        mask = this.elem.maskManager.viewData[this.paths[i].m];\n        path = this.paths[i].p;\n\n        if (forceRender || this.filterManager._mdf || mask.prop._mdf) {\n          path.setAttribute('d', mask.lastPath);\n        }\n\n        if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf) {\n          var dasharrayValue;\n\n          if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {\n            var s = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\n            var e = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\n            var l = path.getTotalLength();\n            dasharrayValue = '0 0 0 ' + l * s + ' ';\n            var lineLength = l * (e - s);\n            var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\n            var units = Math.floor(lineLength / segment);\n            var j;\n\n            for (j = 0; j < units; j += 1) {\n              dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01 + ' ';\n            }\n\n            dasharrayValue += '0 ' + l * 10 + ' 0 0';\n          } else {\n            dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\n          }\n\n          path.setAttribute('stroke-dasharray', dasharrayValue);\n        }\n      }\n    }\n\n    if (forceRender || this.filterManager.effectElements[4].p._mdf) {\n      this.pathMasker.setAttribute('stroke-width', this.filterManager.effectElements[4].p.v * 2);\n    }\n\n    if (forceRender || this.filterManager.effectElements[6].p._mdf) {\n      this.pathMasker.setAttribute('opacity', this.filterManager.effectElements[6].p.v);\n    }\n\n    if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\n      if (forceRender || this.filterManager.effectElements[3].p._mdf) {\n        var color = this.filterManager.effectElements[3].p.v;\n        this.pathMasker.setAttribute('stroke', 'rgb(' + bmFloor(color[0] * 255) + ',' + bmFloor(color[1] * 255) + ',' + bmFloor(color[2] * 255) + ')');\n      }\n    }\n  };\n\n  function SVGTritoneFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\n    feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\n    filter.appendChild(feColorMatrix);\n    var feComponentTransfer = createNS('feComponentTransfer');\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n    feComponentTransfer.setAttribute('result', id);\n    this.matrixFilter = feComponentTransfer;\n    var feFuncR = createNS('feFuncR');\n    feFuncR.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncR);\n    this.feFuncR = feFuncR;\n    var feFuncG = createNS('feFuncG');\n    feFuncG.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncG);\n    this.feFuncG = feFuncG;\n    var feFuncB = createNS('feFuncB');\n    feFuncB.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncB);\n    this.feFuncB = feFuncB;\n    filter.appendChild(feComponentTransfer);\n  }\n\n  SVGTritoneFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var color1 = this.filterManager.effectElements[0].p.v;\n      var color2 = this.filterManager.effectElements[1].p.v;\n      var color3 = this.filterManager.effectElements[2].p.v;\n      var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\n      var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\n      var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\n      this.feFuncR.setAttribute('tableValues', tableR);\n      this.feFuncG.setAttribute('tableValues', tableG);\n      this.feFuncB.setAttribute('tableValues', tableB);\n    }\n  };\n\n  function SVGProLevelsFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var effectElements = this.filterManager.effectElements;\n    var feComponentTransfer = createNS('feComponentTransfer'); // Red\n\n    if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {\n      this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\n    } // Green\n\n\n    if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {\n      this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\n    } // Blue\n\n\n    if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {\n      this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\n    } // Alpha\n\n\n    if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {\n      this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\n    } // RGB\n\n\n    if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n      filter.appendChild(feComponentTransfer);\n    }\n\n    if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {\n      feComponentTransfer = createNS('feComponentTransfer');\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n      feComponentTransfer.setAttribute('result', id);\n      filter.appendChild(feComponentTransfer);\n      this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\n      this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\n      this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\n    }\n  }\n\n  SVGProLevelsFilter.prototype.createFeFunc = function (type, feComponentTransfer) {\n    var feFunc = createNS(type);\n    feFunc.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFunc);\n    return feFunc;\n  };\n\n  SVGProLevelsFilter.prototype.getTableValue = function (inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\n    var cnt = 0;\n    var segments = 256;\n    var perc;\n    var min = Math.min(inputBlack, inputWhite);\n    var max = Math.max(inputBlack, inputWhite);\n    var table = Array.call(null, {\n      length: segments\n    });\n    var colorValue;\n    var pos = 0;\n    var outputDelta = outputWhite - outputBlack;\n    var inputDelta = inputWhite - inputBlack;\n\n    while (cnt <= 256) {\n      perc = cnt / 256;\n\n      if (perc <= min) {\n        colorValue = inputDelta < 0 ? outputWhite : outputBlack;\n      } else if (perc >= max) {\n        colorValue = inputDelta < 0 ? outputBlack : outputWhite;\n      } else {\n        colorValue = outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma);\n      }\n\n      table[pos] = colorValue;\n      pos += 1;\n      cnt += 256 / (segments - 1);\n    }\n\n    return table.join(' ');\n  };\n\n  SVGProLevelsFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var val;\n      var effectElements = this.filterManager.effectElements;\n\n      if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {\n        val = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);\n        this.feFuncRComposed.setAttribute('tableValues', val);\n        this.feFuncGComposed.setAttribute('tableValues', val);\n        this.feFuncBComposed.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {\n        val = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);\n        this.feFuncR.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {\n        val = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);\n        this.feFuncG.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {\n        val = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);\n        this.feFuncB.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {\n        val = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);\n        this.feFuncA.setAttribute('tableValues', val);\n      }\n    }\n  };\n\n  function SVGDropShadowEffect(filter, filterManager, elem, id, source) {\n    var globalFilterSize = filterManager.container.globalData.renderConfig.filterSize;\n    var filterSize = filterManager.data.fs || globalFilterSize;\n    filter.setAttribute('x', filterSize.x || globalFilterSize.x);\n    filter.setAttribute('y', filterSize.y || globalFilterSize.y);\n    filter.setAttribute('width', filterSize.width || globalFilterSize.width);\n    filter.setAttribute('height', filterSize.height || globalFilterSize.height);\n    this.filterManager = filterManager;\n    var feGaussianBlur = createNS('feGaussianBlur');\n    feGaussianBlur.setAttribute('in', 'SourceAlpha');\n    feGaussianBlur.setAttribute('result', id + '_drop_shadow_1');\n    feGaussianBlur.setAttribute('stdDeviation', '0');\n    this.feGaussianBlur = feGaussianBlur;\n    filter.appendChild(feGaussianBlur);\n    var feOffset = createNS('feOffset');\n    feOffset.setAttribute('dx', '25');\n    feOffset.setAttribute('dy', '0');\n    feOffset.setAttribute('in', id + '_drop_shadow_1');\n    feOffset.setAttribute('result', id + '_drop_shadow_2');\n    this.feOffset = feOffset;\n    filter.appendChild(feOffset);\n    var feFlood = createNS('feFlood');\n    feFlood.setAttribute('flood-color', '#00ff00');\n    feFlood.setAttribute('flood-opacity', '1');\n    feFlood.setAttribute('result', id + '_drop_shadow_3');\n    this.feFlood = feFlood;\n    filter.appendChild(feFlood);\n    var feComposite = createNS('feComposite');\n    feComposite.setAttribute('in', id + '_drop_shadow_3');\n    feComposite.setAttribute('in2', id + '_drop_shadow_2');\n    feComposite.setAttribute('operator', 'in');\n    feComposite.setAttribute('result', id + '_drop_shadow_4');\n    filter.appendChild(feComposite);\n    var feMerge = this.createMergeNode(id, [id + '_drop_shadow_4', source]);\n    filter.appendChild(feMerge); //\n  }\n\n  extendPrototype([SVGComposableEffect], SVGDropShadowEffect);\n\n  SVGDropShadowEffect.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      if (forceRender || this.filterManager.effectElements[4].p._mdf) {\n        this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\n      }\n\n      if (forceRender || this.filterManager.effectElements[0].p._mdf) {\n        var col = this.filterManager.effectElements[0].p.v;\n        this.feFlood.setAttribute('flood-color', rgbToHex(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));\n      }\n\n      if (forceRender || this.filterManager.effectElements[1].p._mdf) {\n        this.feFlood.setAttribute('flood-opacity', this.filterManager.effectElements[1].p.v / 255);\n      }\n\n      if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {\n        var distance = this.filterManager.effectElements[3].p.v;\n        var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\n        var x = distance * Math.cos(angle);\n        var y = distance * Math.sin(angle);\n        this.feOffset.setAttribute('dx', x);\n        this.feOffset.setAttribute('dy', y);\n      }\n    }\n  };\n\n  var _svgMatteSymbols = [];\n\n  function SVGMatte3Effect(filterElem, filterManager, elem) {\n    this.initialized = false;\n    this.filterManager = filterManager;\n    this.filterElem = filterElem;\n    this.elem = elem;\n    elem.matteElement = createNS('g');\n    elem.matteElement.appendChild(elem.layerElement);\n    elem.matteElement.appendChild(elem.transformedElement);\n    elem.baseElement = elem.matteElement;\n  }\n\n  SVGMatte3Effect.prototype.findSymbol = function (mask) {\n    var i = 0;\n    var len = _svgMatteSymbols.length;\n\n    while (i < len) {\n      if (_svgMatteSymbols[i] === mask) {\n        return _svgMatteSymbols[i];\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  SVGMatte3Effect.prototype.replaceInParent = function (mask, symbolId) {\n    var parentNode = mask.layerElement.parentNode;\n\n    if (!parentNode) {\n      return;\n    }\n\n    var children = parentNode.children;\n    var i = 0;\n    var len = children.length;\n\n    while (i < len) {\n      if (children[i] === mask.layerElement) {\n        break;\n      }\n\n      i += 1;\n    }\n\n    var nextChild;\n\n    if (i <= len - 2) {\n      nextChild = children[i + 1];\n    }\n\n    var useElem = createNS('use');\n    useElem.setAttribute('href', '#' + symbolId);\n\n    if (nextChild) {\n      parentNode.insertBefore(useElem, nextChild);\n    } else {\n      parentNode.appendChild(useElem);\n    }\n  };\n\n  SVGMatte3Effect.prototype.setElementAsMask = function (elem, mask) {\n    if (!this.findSymbol(mask)) {\n      var symbolId = createElementID();\n      var masker = createNS('mask');\n      masker.setAttribute('id', mask.layerId);\n      masker.setAttribute('mask-type', 'alpha');\n\n      _svgMatteSymbols.push(mask);\n\n      var defs = elem.globalData.defs;\n      defs.appendChild(masker);\n      var symbol = createNS('symbol');\n      symbol.setAttribute('id', symbolId);\n      this.replaceInParent(mask, symbolId);\n      symbol.appendChild(mask.layerElement);\n      defs.appendChild(symbol);\n      var useElem = createNS('use');\n      useElem.setAttribute('href', '#' + symbolId);\n      masker.appendChild(useElem);\n      mask.data.hd = false;\n      mask.show();\n    }\n\n    elem.setMatte(mask.layerId);\n  };\n\n  SVGMatte3Effect.prototype.initialize = function () {\n    var ind = this.filterManager.effectElements[0].p.v;\n    var elements = this.elem.comp.elements;\n    var i = 0;\n    var len = elements.length;\n\n    while (i < len) {\n      if (elements[i] && elements[i].data.ind === ind) {\n        this.setElementAsMask(this.elem, elements[i]);\n      }\n\n      i += 1;\n    }\n\n    this.initialized = true;\n  };\n\n  SVGMatte3Effect.prototype.renderFrame = function () {\n    if (!this.initialized) {\n      this.initialize();\n    }\n  };\n\n  function SVGGaussianBlurEffect(filter, filterManager, elem, id) {\n    // Outset the filter region by 100% on all sides to accommodate blur expansion.\n    filter.setAttribute('x', '-100%');\n    filter.setAttribute('y', '-100%');\n    filter.setAttribute('width', '300%');\n    filter.setAttribute('height', '300%');\n    this.filterManager = filterManager;\n    var feGaussianBlur = createNS('feGaussianBlur');\n    feGaussianBlur.setAttribute('result', id);\n    filter.appendChild(feGaussianBlur);\n    this.feGaussianBlur = feGaussianBlur;\n  }\n\n  SVGGaussianBlurEffect.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      // Empirical value, matching AE's blur appearance.\n      var kBlurrinessToSigma = 0.3;\n      var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma; // Dimensions mapping:\n      //\n      //   1 -> horizontal & vertical\n      //   2 -> horizontal only\n      //   3 -> vertical only\n      //\n\n      var dimensions = this.filterManager.effectElements[1].p.v;\n      var sigmaX = dimensions == 3 ? 0 : sigma; // eslint-disable-line eqeqeq\n\n      var sigmaY = dimensions == 2 ? 0 : sigma; // eslint-disable-line eqeqeq\n\n      this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + ' ' + sigmaY); // Repeat edges mapping:\n      //\n      //   0 -> off -> duplicate\n      //   1 -> on  -> wrap\n\n      var edgeMode = this.filterManager.effectElements[2].p.v == 1 ? 'wrap' : 'duplicate'; // eslint-disable-line eqeqeq\n\n      this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\n    }\n  };\n\n  registerRenderer('canvas', CanvasRenderer);\n  registerRenderer('html', HybridRenderer);\n  registerRenderer('svg', SVGRenderer); // Registering shape modifiers\n\n  ShapeModifiers.registerModifier('tm', TrimModifier);\n  ShapeModifiers.registerModifier('pb', PuckerAndBloatModifier);\n  ShapeModifiers.registerModifier('rp', RepeaterModifier);\n  ShapeModifiers.registerModifier('rd', RoundCornersModifier); // Registering expression plugin\n\n  setExpressionsPlugin(Expressions);\n  initialize$1();\n  initialize(); // Registering svg effects\n\n  registerEffect(20, SVGTintFilter, true);\n  registerEffect(21, SVGFillFilter, true);\n  registerEffect(22, SVGStrokeEffect, false);\n  registerEffect(23, SVGTritoneFilter, true);\n  registerEffect(24, SVGProLevelsFilter, true);\n  registerEffect(25, SVGDropShadowEffect, true);\n  registerEffect(28, SVGMatte3Effect, false);\n  registerEffect(29, SVGGaussianBlurEffect, true);\n\n  return lottie;\n\n}));\n","<template>\r\n  <div class=\"container\" :class=\"[className]\" :style=\"{ width, height }\" ref=\"lotContainer\" @click=\"click\"></div>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * VueLottie\r\n * @description  lottie-web动画库vue封装组件\r\n * @author maybe\r\n * @doc lottie-web https://github.com/airbnb/lottie-web\r\n */\r\n\r\nimport lottie from \"lottie-web\";\r\n\r\nexport default {\r\n  props: {\r\n    className: String,\r\n    options: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    height: String,\r\n    width: String,\r\n  },\r\n  components: {},\r\n  data() {\r\n    return {\r\n      anim: null,\r\n    };\r\n  },\r\n  computed: {},\r\n  watch: {},\r\n  created() { },\r\n  mounted() {\r\n    const defaultOptions = {\r\n      container: this.$refs.lotContainer, // 容器\r\n      renderer: \"svg\",\r\n      loop: true,\r\n      autoplay: true,\r\n    };\r\n    this.anim = lottie.loadAnimation(\r\n      Object.assign(defaultOptions, this.options)\r\n    );\r\n    this.anim.resize();\r\n    this.$emit(\"animCreated\", this.anim);\r\n  },\r\n  beforeDestroy() { },\r\n  methods: {\r\n    click() {\r\n      this.$emit(\"click\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\"></style>\r\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createStaticVNode as _createStaticVNode } from \"vue\"\n\nconst _hoisted_1 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"200\",\n  height: \"200\",\n  class: \"icon\",\n  viewBox: \"0 0 1024 1024\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createStaticVNode(\"<path fill=\\\"#BED8FB\\\" d=\\\"M235.467 195.356v249.397H39.549v-179.51c0-38.59 31.296-69.887 69.888-69.887h35.726z\\\"></path><path fill=\\\"#DDEAFB\\\" d=\\\"M984.451 393.055v548.777c0 45.39-36.778 82.168-82.146 82.168H227.331c-38.776 0-71.268-26.868-79.902-63.006l-.33-46.976-1.916-279.755V82.168C145.185 36.778 181.963 0 227.33 0h364.065c32.718 0 138.682 90.346 232.345 185.494 85.466 86.843 160.71 177.685 160.71 207.561z\\\"></path><path fill=\\\"#BED8FB\\\" d=\\\"M701.398 693.929v184.277c0 59.606-48.316 107.922-107.922 107.922H158.123a81.72 81.72 0 0 1-10.714-25.136l-.308-46.976-1.916-279.755v-48.254h448.293c59.606 0 107.92 48.316 107.92 107.922z\\\"></path><path fill=\\\"#CBE2FF\\\" d=\\\"M984.451 393.055v201.03c0-.226-.02-.454-.02-.7-6.182-246.666-207.108-258.08-272.811-323.786l112.123-84.103c85.464 86.841 160.708 177.683 160.708 207.56z\\\"></path><path fill=\\\"#CBE2FF\\\" d=\\\"M591.386 0h-201.03c.226 0 .454.02.7.02 246.666 6.182 258.08 207.108 323.786 272.811l84.103-112.123C712.102 75.244 621.26 0 591.385 0z\\\"></path><path fill=\\\"#BED8FB\\\" d=\\\"M984.45 393.065v34.754c0-73.172-59.337-132.506-132.507-132.506h-80.648c-45.367 0-82.161-36.794-82.161-82.161v-80.646C689.134 59.334 629.8 0 556.628 0h34.754a236.014 236.014 0 0 1 166.866 69.114L915.333 226.2a236.008 236.008 0 0 1 69.116 166.865z\\\"></path><path fill=\\\"#CBE2FF\\\" d=\\\"M701.412 621.817v184.277c0 59.606-48.316 107.922-107.922 107.922H147.093l-1.916-279.755V513.895H593.49c59.606 0 107.922 48.314 107.922 107.922z\\\"></path><path fill=\\\"#DD636E\\\" d=\\\"M771.297 443.051v375.383c0 59.606-48.315 107.922-107.921 107.922H109.449c-2.08 0-4.12-.082-6.16-.288-35.706-3.09-63.726-33.068-63.726-69.6V265.243c0 19.286 7.83 36.756 20.48 49.408 11.27 11.29 26.394 18.75 43.246 20.192 2.04.206 4.08.288 6.16.288h553.927c59.608-.002 107.921 48.314 107.921 107.92z\\\"></path><path fill=\\\"#617881\\\" d=\\\"M142.579 773.482V488.005c0-27.536 22.322-49.858 49.858-49.858H613.52c30.244 0 54.76 24.518 54.76 54.76v275.671c0 30.244-24.518 54.762-54.762 54.762H192.437c-27.536 0-49.858-22.322-49.858-49.858z\\\"></path><path fill=\\\"#DA4A54\\\" d=\\\"M103.289 334.841v591.227c-35.706-3.09-63.726-33.068-63.726-69.6V265.243c0 19.286 7.83 36.756 20.48 49.408 11.27 11.29 26.392 18.748 43.246 20.19z\\\"></path><path fill=\\\"#DD636E\\\" d=\\\"m495.912 600.297-104.274-60.204c-23.438-13.532-52.736 3.384-52.736 30.448v120.406c0 27.064 29.298 43.98 52.736 30.448l104.274-60.204c23.438-13.532 23.438-47.362 0-60.894z\\\"></path>\", 11)\nconst _hoisted_13 = [\n  _hoisted_2\n]\n\nexport function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, _hoisted_13))\n}\nexport default { render: render }","/**\r\n * 扩展面板显示/隐藏\r\n */\r\nexport const COMMENT_PANEL_SWITCH = 'COMMENT_PANEL_SWITCH';\r\n/**\r\n * 列表容器点击\r\n */\r\nexport const MESSAGES_CLICK = 'MESSAGES_CLICK';\r\n/**\r\n * 回复提交事件\r\n */\r\nexport const COMMENT_SUBMIT = 'COMMENT_SUBMIT';\r\n/**\r\n * 录音开始\r\n */\r\nexport const RECORD_START = 'RECORD_START';\r\n/**\r\n * 录音取消\r\n */\r\nexport const RECORD_CANCEL = 'RECORD_CANCEL';\r\n/**\r\n * 录音结束\r\n */\r\nexport const RECORD_STOP = 'RECORD_STOP';\r\n/**\r\n * 点击头像\r\n */\r\nexport const CLICK_AVATAR = 'CLICK_AVATAR';\r\n/**\r\n * 点击主面板的item\r\n */\r\nexport const CLICK_PANEL_ITEM = 'CLICK_PANEL_ITEM';\r\n/**\r\n * （地图） 点击发送\r\n */\r\nexport const CLICK_MAP_SEND = 'CLICK_MAP_SEND';\r\n/**\r\n * （地图） 点击取消\r\n */\r\nexport const CLICK_MAP_CANCEL = 'CLICK_MAP_CANCEL';\r\n\r\n\r\n","\r\n\r\nconst pressStart = () => { }\r\nconst pressMove = () => { }\r\nconst pressEnd = () => { }\r\n\r\nclass EventCenter {\r\n\r\n    el: HTMLElement;\r\n    customEvents: string[] = ['press'];\r\n    acticeEvents: { name: string, func: (e) => any }[] = [];\r\n\r\n    constructor(el: HTMLElement) {\r\n        this.el = el;\r\n    }\r\n\r\n    on(name: string, func: (e) => any) {\r\n        if (!this.customEvents.includes(name)) {\r\n            this.el.addEventListener(name, func)\r\n            this.acticeEvents.push({ name, func })\r\n            console.log(name, '事件注册成功')\r\n        }\r\n    }\r\n\r\n    off(name: string) {\r\n        const index = this.acticeEvents.findIndex(it => it.name == name);\r\n        if (index == -1) return;\r\n        this.el.removeEventListener(name, this.acticeEvents[index].func)\r\n        this.acticeEvents.splice(index, 1);\r\n    }\r\n\r\n    destroy() {\r\n        this.acticeEvents.forEach((it) => {\r\n            if (!this.customEvents.includes(it.name)) this.el.removeEventListener(it.name, it.func);\r\n\r\n            console.log(it.name, '事件销毁成功')\r\n        })\r\n        this.acticeEvents = [];\r\n    }\r\n\r\n}\r\n\r\nexport default EventCenter","/**\r\n * 判断是否在元素外触发事件\r\n * @param event  事件源\r\n * @param el 元素\r\n * @returns {*} true 在元素外 false 在元素内\r\n */\r\nexport function isOutElement(event, el) {\r\n    const { height, width, x, y } = el.getBoundingClientRect();\r\n    const { clientX, clientY } = event;\r\n    if (\r\n        clientY > y + height ||\r\n        clientY < y ||\r\n        clientX < x ||\r\n        clientX > x + width\r\n    ) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\n\r\nexport const includes = (source: any[] | string, item: any, fromIndex?: number) => {\r\n    return source.includes(item, fromIndex);\r\n}\r\nexport const join = (arr: any[], separator: string) => {\r\n    return arr.join(separator);\r\n}\r\n\r\nexport const isWeixin = () => {\r\n    var ua = navigator.userAgent.toLowerCase();\r\n    const res = ua.match(/MicroMessenger/i) as unknown as string;\r\n    if (res == \"micromessenger\") {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\n\r\nexport const urlEncode = (str) => {\r\n    str = (str + '').toString();\r\n\r\n    return encodeURIComponent(str).replace(/!/g, '%21').replace(/'/g, '%27').replace(/\\(/g, '%28').\r\n        replace(/\\)/g, '%29').replace(/\\*/g, '%2A').replace(/%20/g, '+');\r\n}\r\n\r\n\r\n\r\n/**\r\n * 下载文件\r\n * @param {*} url \r\n * @param {*} fileName \r\n */\r\nexport const dowanload = (url, fileName) => {\r\n    var x = new XMLHttpRequest();\r\n    x.open(\"GET\", url, true);\r\n    x.responseType = 'blob';\r\n    x.onload = function (e) {\r\n        var url = window.URL.createObjectURL(x.response)\r\n        var a = document.createElement('a');\r\n        a.href = url\r\n        a.download = fileName;\r\n        a.click()\r\n    }\r\n    x.send();\r\n}\r\n","\r\nexport enum MessageType {\r\n    text = 'text',\r\n    image = 'image',\r\n    file = 'file',\r\n    video = 'video',\r\n    audio = 'audio',\r\n    location = 'location',\r\n    custom = 'custom'\r\n}\r\n","<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nexport default defineComponent({\n  name: 'SvgIcon',\n})\n</script>\n\r\n<template>\r\n    <div class=\"m-chat-svg-icon\" :class=\"[...classes]\" :style=\"{ color }\">\r\n        <slot></slot>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup name=\"SvgIcon\">\r\nimport { PropType, reactive, defineProps } from 'vue';\r\n\r\nconst props = defineProps({\r\n    color: {\r\n        type: String,\r\n        defualt: '#000'\r\n    },\r\n    classes: {\r\n        type: Array,\r\n        defualt() {\r\n            return []\r\n        }\r\n    },\r\n    // 利用class 自己去style限制大小\r\n    // size: {\r\n    //     type: String,\r\n    //     defualt: '50px'\r\n    // }\r\n})\r\n// const state = reactive({\r\n\r\n// })\r\n\r\n\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.m-chat-svg-icon {\r\n    width: 50px;\r\n    height: 50px;\r\n}\r\n\r\n.m-chat-svg-icon svg {\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    path {\r\n        // 设置一个默认的颜色\r\n        // fill: #000;\r\n        /* 通过给svg 图形元素设置fill= currentColor 图形元素的颜色会自动继承父级color的颜色 */\r\n        fill: currentColor;\r\n    }\r\n}\r\n</style>","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"200\",\n  height: \"200\",\n  class: \"icon\",\n  viewBox: \"0 0 1024 1024\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"path\", { d: \"M512 938.667c-53.333 0-384-257.259-384-469.334s171.925-384 384-384 384 171.926 384 384-330.667 469.334-384 469.334zm0-352c64.8 0 117.333-52.534 117.333-117.334S576.8 352 512 352s-117.333 52.533-117.333 117.333S447.2 586.667 512 586.667z\" }, null, -1)\nconst _hoisted_3 = [\n  _hoisted_2\n]\n\nexport function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, _hoisted_3))\n}\nexport default { render: render }","<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nexport default defineComponent({\n  name: 'MChat',\n})\n</script>\n\r\n<template>\r\n    <!-- mc => mc -->\r\n    <div class=\"mc-msgs\" :style=\"{ height: height }\" ref=\"mchatScoller\">\r\n        <!-- 没有更多了 -->\r\n        <!-- <div class=\"mc-msgs-finished\" v-if=\"props.finished\">\r\n            没有更多了\r\n        </div> -->\r\n        <van-pull-refresh :disabled=\"props.disabledPull\" v-model=\"state.loading\" @refresh=\"onRefresh\">\r\n            <div class=\"mc-msg\" v-for=\"item in messages\" :key=\"item.id\">\r\n                <div class=\"mc-msg__time\" v-if=\"item.time\">{{ item.time }}</div>\r\n                <div class=\"mc-msg__row\" :class=\"[`mc-msg--${item.self ? 'self' : 'person'}`]\">\r\n                    <div class=\"mc-msg__avatar\">\r\n                        <van-image :src=\"item.avatar\" @click=\"clickAvatar(item)\" round width=\"10vw\" height=\"10vw\" />\r\n                    </div>\r\n                    <div class=\"mc-msg__main\">\r\n                        <div class=\"mc-msg__name\">{{ item.name }}</div>\r\n                        <div class=\"mc-msg__content-wrap\">\r\n                            <!-- 需要背景包装 -->\r\n                            <div v-if=\"isRowWrap(item)\" class=\"mc-msg__content arrow\">\r\n                                <!-- 文本 -->\r\n                                <div v-if=\"!item.type || item.type == MessageType.text\" class=\"mc-msg__text\"\r\n                                    @click.stop=\"clickItem('text', item)\">\r\n                                    {{ item.content.text }}\r\n                                </div>\r\n                                <!-- 文件 -->\r\n                                <div class=\"mc-msg__file\" v-if=\"item.type == MessageType.file\">\r\n                                    <div class=\"mc-msg__file-thumb\">\r\n                                        {{ item.content.fileExt }}\r\n                                    </div>\r\n                                    <div class=\"mc-msg__file-right\">\r\n                                        <div class=\"mc-msg__file-name\" @click=\"clickDownloadFile(item)\">\r\n                                            {{ item.content.fileName }}\r\n                                        </div>\r\n                                        <span class=\"mc-msg__file-size\">\r\n                                            {{ item.content.fileSize }}\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                                <!-- 视频 -->\r\n                                <div class=\"mc-msg__video\" v-if=\"item.type == MessageType.video\"\r\n                                    @click=\"clickItem('video', item)\">\r\n                                    <videoImage style=\"width: 8vw;height: 8vw;\" />\r\n                                </div>\r\n                                <!-- 音频 -->\r\n                                <div class=\"mc-msg__audio\" :class=\"[item.self ? 'mc-start' : 'mc-reverse']\"\r\n                                    v-if=\"item.type == MessageType.audio\" @click=\"clickItem('audio', item)\">\r\n                                    <span v-if=\"item.content.duration\">{{ item.content.duration }} \"</span>\r\n                                    <vue-lottie :options=\"state.audioAnimOptions\"\r\n                                        @animCreated=\"(anim) => onAudioAnimCreated(anim, item)\"\r\n                                        :className=\"`mc-audio--${item.self ? 'right' : 'left'}`\" :width=\"'7vw'\"\r\n                                        :height=\"'7vw'\"></vue-lottie>\r\n                                </div>\r\n\r\n                                <!-- 自定义 -->\r\n                                <div class=\"mc-msg__custom\" v-if=\"isCustom(item.type)\">\r\n                                    <!-- {{ item }} -->\r\n                                    <slot :name=\"item.type\" :item=\"item\"></slot>\r\n                                </div>\r\n                            </div>\r\n                            <!-- 不需要背景包装 -->\r\n                            <!-- 图片 -->\r\n                            <div class=\"mc-msg__image-wrap\" v-if=\"item.type == MessageType.image\"\r\n                                @click=\"clickItem('image', item)\">\r\n                                <van-image class=\"mc-msg__image\" :src=\"item.content.imageUrl\"\r\n                                    @click.self=\"clickImagePreview\" :radius=\"5\">\r\n                                </van-image>\r\n                            </div>\r\n                            <!-- 定位 -->\r\n                            <div class=\"mc-msg__location\" v-if=\"item.type == MessageType.location\"\r\n                                @click=\"clickItem('location', item)\">\r\n                                <div class=\"mc-msg__location-title\">{{ item.content.location }}</div>\r\n                                <!-- <van-icon class=\"mc-msg__location-icon\" name=\"location-o\"></van-icon> -->\r\n                                <!-- 定位: {{ item }} -->\r\n                                <SvgIcon :classes=\"['mc-msg__location-icon']\">\r\n                                    <locationSvg></locationSvg>\r\n                                </SvgIcon>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </van-pull-refresh>\r\n\r\n\r\n        <!-- 唯一音频元素 -->\r\n        <div class=\"mc-audio\">\r\n            <audio ref=\"mChatAudio\"></audio>\r\n        </div>\r\n        <!-- 唯一视频元素 -->\r\n        <div class=\"mc-video\" v-show=\"state.showVideo\">\r\n            <video ref=\"mChatVideo\" controls></video>\r\n            <div class=\"mc-video__btns\">\r\n                <van-icon class=\"mc-video__btn\" name=\"close\" size=\"7vw\" color=\"#fff\" @click=\"clickCloseVideo\"></van-icon>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup name=\"MChat\">\r\nimport { PropType, reactive, ref, onMounted, onUnmounted, onDeactivated, inject, watch, computed, nextTick } from 'vue';\r\nimport { Image as VanImage, ImagePreview, Icon as VanIcon, PullRefresh as VanPullRefresh, Toast } from 'vant'\r\nimport { Emitter } from 'mitt'\r\nimport VueLottie from './VueLottie.vue'\r\n// 静态资源\r\nimport wifiJSON from '../assets/json/wifi.json'\r\nimport videoImage from '../assets/svg/video.svg'\r\nimport fileImage from '../assets/svg/file.svg'\r\nimport { Config, MessageData } from '../type';\r\nimport * as eventsConst from '../utils/events.const';\r\nimport EventCenter from '../utils/EventCenter'\r\nimport { dowanload, isWeixin, urlEncode } from '../utils/common';\r\nimport { MessageType } from '../enum'\r\nimport SvgIcon from './SvgIcon.vue';\r\nimport locationSvg from '../assets/svg/location.svg'\r\n\r\nconst props = defineProps({\r\n    // emitter: {\r\n    //     type: Object as PropType<Emitter<any>>\r\n    // },\r\n    data: {\r\n        type: Object as PropType<MessageData>\r\n    },\r\n    messages: {\r\n        type: Object as PropType<Array<MessageData>>\r\n    },\r\n    refresh: {\r\n        type: Function as PropType<() => any>\r\n    },\r\n    /**\r\n     * 是否禁用下拉刷新\r\n     * @description 可用于下拉加载数据全部完成后禁用下拉动作，防止无效触发\r\n     */\r\n    disabledPull: {\r\n        type: Boolean\r\n    }\r\n})\r\nconst state = reactive({\r\n    loading: false,\r\n    showVideo: false,\r\n    audioAnimOptions: {\r\n        animationData: wifiJSON,\r\n        autoplay: false,\r\n    },\r\n    // audioAnimController: {},// 音频动画控制器\r\n    playAudio: false, // 是否正在播放音频\r\n})\r\nconst emitter = inject<Emitter<any>>('emitter');\r\n// 注入配置\r\nconst config = inject<Config>('config')\r\nlet audioEc: EventCenter;\r\n\r\nconst currentItem = ref<MessageData>();\r\n\r\nconst mchatScoller = ref<HTMLElement>();\r\nconst mChatVideo = ref<HTMLVideoElement>();\r\nconst mChatAudio = ref<HTMLAudioElement>();\r\n\r\nconst parentHeight = '100%'\r\nconst height = ref(``)\r\n\r\nconst animMap = new Map();\r\nconst animMapKeyPrefix = 'ANIM_'\r\n\r\n\r\nconst currentAudioAnim = computed(() => {\r\n    if (!currentItem.value) return;\r\n    const controller = animMap.get(animMapKeyPrefix + currentItem.value.id);\r\n    return controller;\r\n})\r\n\r\n\r\nconst clickAvatar = (item) => {\r\n    emitter.emit(eventsConst.CLICK_AVATAR, item)\r\n}\r\n\r\nconst clickImagePreview = () => {\r\n\r\n}\r\n\r\nconst onAnimCreated = () => {\r\n\r\n}\r\n\r\nconst isCustom = (type: string) => {\r\n    const arr: string[] = Object.values(MessageType)\r\n    return !arr.includes(type)\r\n}\r\n\r\nconst initScoller = () => {\r\n    console.log('initScoller', mchatScoller.value.scrollTop, mchatScoller.value.scrollHeight)\r\n    // 滚动条定位到最底部\r\n    mchatScoller.value && (mchatScoller.value.scrollTop = mchatScoller.value.scrollHeight)\r\n}\r\n/**\r\n * 管理事件\r\n * @param isDestroy \r\n */\r\nconst setEvents = (isDestroy = false) => {\r\n\r\n    const mChatScollerClick = (e) => {\r\n        emitter.emit(eventsConst.MESSAGES_CLICK);\r\n    }\r\n\r\n    if (isDestroy) {\r\n        mchatScoller.value.removeEventListener('click', mChatScollerClick, true)\r\n        console.log('已销毁messages事件')\r\n    } else {\r\n        mchatScoller.value.addEventListener('click', mChatScollerClick, true)\r\n        console.log('已注册messages事件')\r\n    }\r\n\r\n}\r\n\r\nconst setAudioPlayer = (src, play = true) => {\r\n    if (!src) return;\r\n    mChatAudio.value.src = src;\r\n    if (play) {\r\n        mChatAudio.value.play();\r\n    } else {\r\n        mChatAudio.value.pause();\r\n    }\r\n}\r\n\r\nconst clickItem = (type, item) => {\r\n    console.log(type, item);\r\n\r\n    // 缓存一下上一个节点\r\n    const lastItem = currentItem.value;\r\n    // 设置当前选择的信息节点\r\n    const acticeItem = currentItem.value = item;\r\n\r\n    switch (type) {\r\n        case 'image':\r\n            let conf = Object.assign({\r\n                images: [item.content.imageUrl],\r\n            }, config.vanImagePreview);\r\n            ImagePreview(conf);\r\n            break;\r\n        case 'video':\r\n            mChatVideo.value.src = item.content.videoUrl;\r\n            state.showVideo = true;\r\n            break;\r\n        case 'audio':\r\n            // 播放/暂停当前音频\r\n            if (lastItem && lastItem.id == acticeItem.id) {\r\n                const anim = animMap.get(animMapKeyPrefix + lastItem.id);\r\n                if (state.playAudio) {\r\n                    anim.stop();\r\n                    mChatAudio.value.pause();\r\n                    state.playAudio = false;\r\n                } else {\r\n                    anim.play();\r\n                    mChatAudio.value.play();\r\n                    state.playAudio = true;\r\n                }\r\n\r\n            } else {\r\n                // 切换音频终止上一个音频(排除初始化)\r\n                if (lastItem && lastItem.id != acticeItem.id) {\r\n                    const lastAnim = animMap.get(animMapKeyPrefix + lastItem.id);\r\n                    lastAnim.stop();\r\n                    mChatAudio.value.pause();\r\n                }\r\n                const anim = animMap.get(animMapKeyPrefix + acticeItem.id);\r\n\r\n                // 初始化音频地址\r\n                mChatAudio.value.src = item.content.audioUrl;\r\n\r\n                // 音频结束回调\r\n                const audioEndListener = () => {\r\n                    console.log('音频结束回调')\r\n\r\n                    state.playAudio = false;\r\n                    currentAudioAnim.value.stop(); // 停止语音动画\r\n                }\r\n                audioEc.off('ended');\r\n                audioEc.on('ended', audioEndListener);\r\n                // 播放音频\r\n                mChatAudio.value.play();\r\n                // 播放音频动画\r\n                anim.play();\r\n                state.playAudio = true;\r\n\r\n            }\r\n            break;\r\n\r\n        case 'location':\r\n            window.location.href = `https://uri.amap.com/marker?position=${item.content.locationLonLat.join(',')}`\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nconst clickCloseVideo = () => {\r\n    state.showVideo = false;\r\n    mChatVideo.value.pause();\r\n    mChatVideo.value.src = null;\r\n}\r\n\r\nconst onAudioAnimCreated = (anim, item) => {\r\n    animMap.set(animMapKeyPrefix + item.id, anim);\r\n}\r\n\r\nconst clickDownloadFile = (item) => {\r\n    if (isWeixin() && config.leadPage) {\r\n        const url = `${config.leadPage}?url=${urlEncode(\r\n            item.content.fileUrl\r\n        )}&name=${urlEncode(item.content.fileName)}`;\r\n        console.log(url);\r\n        window.location.href = url;\r\n    } else {\r\n        dowanload(item.content.fileUrl, item.content.fileName);\r\n    }\r\n}\r\n\r\nconst onRefresh = async () => {\r\n    try {\r\n        state.loading = true;\r\n        await props.refresh();\r\n        state.loading = false;\r\n    } catch (error) {\r\n        Toast.fail({\r\n            message: error.message,\r\n            onClose: () => {\r\n                state.loading = false;\r\n            },\r\n        });\r\n    }\r\n\r\n}\r\n\r\nconst isRowWrap = (item) => {\r\n    const flag = (item.type != MessageType.image && item.type != MessageType.location);\r\n    // console.log('isRowWrap', item.type, flag)\r\n    return flag;\r\n}\r\n\r\nwatch(() => state.playAudio, (val) => {\r\n    if (!currentAudioAnim.value) return;\r\n    val ? currentAudioAnim.value.play() : currentAudioAnim.value.stop();\r\n}, {\r\n    immediate: true\r\n})\r\n\r\nonMounted(() => {\r\n    height.value = `calc(${parentHeight} - ${'16vw'})`;\r\n\r\n    emitter.on(eventsConst.COMMENT_PANEL_SWITCH, (val) => {\r\n        // console.log('message commentPanelSwitch :', val)\r\n        if (val) {\r\n            // 面板展开\r\n            height.value = `calc(${parentHeight} - ${53 + 16}vw)`;\r\n        } else {\r\n            // 面板关闭\r\n            height.value = `calc(${parentHeight} - ${'16vw'})`;\r\n        }\r\n\r\n\r\n        // 等待页面渲染完成\r\n        nextTick(() => {\r\n            initScoller();\r\n        })\r\n    })\r\n    // 等待页面渲染完成\r\n    nextTick(() => {\r\n        initScoller();\r\n        setEvents();\r\n\r\n        audioEc = new EventCenter(mChatAudio.value)\r\n    })\r\n})\r\nonUnmounted(() => {\r\n    // setEvents(true);\r\n    audioEc.destroy();\r\n})\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.mc-msgs {\r\n    // height: calc(100vh - 25vw);\r\n    overflow-y: auto;\r\n}\r\n\r\n.mc-msgs-finished {\r\n    text-align: center;\r\n    font-size: 28px;\r\n    color: #969799;\r\n    // padding: 15px 0px;\r\n    height: 75px;\r\n    line-height: 75px;\r\n\r\n}\r\n\r\n.mc-msg {\r\n    font-size: 60px;\r\n\r\n\r\n    &__row {\r\n        display: flex;\r\n        flex-flow: row nowrap;\r\n        padding: 2.666vw;\r\n        overflow: hidden;\r\n    }\r\n\r\n    &__avatar {\r\n        overflow: hidden;\r\n\r\n        img {\r\n            width: 100%;\r\n            height: 100%;\r\n        }\r\n    }\r\n\r\n    &__main {\r\n        flex: 1;\r\n        display: flex;\r\n        flex-direction: column;\r\n        padding: 0px 4vw;\r\n    }\r\n\r\n    &__name {\r\n        font-size: 3.5vw;\r\n        color: #9d9d9d;\r\n    }\r\n\r\n    &__content-wrap {\r\n        display: flex;\r\n        flex-flow: row-reverse;\r\n    }\r\n\r\n    &__content {\r\n        min-width: 2vw;\r\n        min-height: 7vw;\r\n        display: inline-flex;\r\n        align-items: center;\r\n        position: relative;\r\n        margin-top: 1.06667vw;\r\n        padding: 1.73333vw 2.66667vw;\r\n        // line-height: 6vw;\r\n        border-radius: 1.33333vw;\r\n        font-size: 3.73333vw;\r\n        box-shadow: #f2f6fb 0px 0px 1.06667vw;\r\n        word-break: break-all;\r\n        flex-wrap: wrap;\r\n        border: 1px solid transparent;\r\n        user-select: text;\r\n\r\n        &--clear {\r\n            padding: 0px;\r\n            background-color: transparent;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    &__text {\r\n        line-height: 6vw;\r\n    }\r\n\r\n    &__image-wrap {\r\n        display: inline-flex;\r\n        align-items: center;\r\n        background-color: transparent;\r\n        max-width: 25vw;\r\n        height: auto;\r\n        margin-top: 2vw;\r\n    }\r\n\r\n    &__image {\r\n        height: auto;\r\n        max-height: 40vw;\r\n        border: 1px solid #ebedf0;\r\n    }\r\n\r\n    &__audio {\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n\r\n    &__file {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n\r\n        &-thumb {\r\n            width: 13vw;\r\n            height: 13vw;\r\n            border-radius: 1vw;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            background-color: #ee0a24;\r\n            color: #fff;\r\n            font-size: 4.5vw;\r\n            font-weight: bold;\r\n        }\r\n\r\n        &-right {\r\n            margin-left: 3vw;\r\n            display: flex;\r\n            flex-flow: column nowrap;\r\n            justify-content: space-between;\r\n        }\r\n\r\n        &-name {\r\n            display: inline-block;\r\n            color: #098be2;\r\n            max-width: 25vw;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            word-break: normal;\r\n        }\r\n\r\n        &-size {\r\n            color: #777;\r\n        }\r\n    }\r\n\r\n    &__location {\r\n\r\n        background-color: #f5f5f5;\r\n        border-radius: 10px;\r\n        padding: 10px;\r\n\r\n        display: flex;\r\n        flex-flow: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n\r\n        &-title {\r\n            padding-top: 2vw;\r\n            font-size: 4vw;\r\n\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            display: -webkit-box;\r\n            -webkit-box-orient: vertical;\r\n            -webkit-line-clamp: 1;\r\n        }\r\n\r\n        &-icon {\r\n            width: 8vw;\r\n            height: 8vw;\r\n            font-size: 8vw;\r\n            color: #68c729;\r\n            margin-top: 10px;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n.mc-msg--self {\r\n    padding-right: 5.3333vw;\r\n    flex-direction: row-reverse;\r\n\r\n    .arrow::before {\r\n        content: \"\";\r\n        display: inline-block;\r\n        position: absolute;\r\n        top: 3vw;\r\n        right: 0;\r\n        // width: 0px;\r\n        // height: 0px;\r\n        border-width: 0.1vw 0.1vw 0 0;\r\n        border-style: solid;\r\n        // border-color: transparent inherit inherit transparent;\r\n        border-color: inherit;\r\n        // transform: translate(100%, 0%);\r\n        background-color: inherit;\r\n        transform: translate(50%, 0%) rotate(45deg);\r\n        width: 3vw;\r\n        height: 3vw;\r\n    }\r\n\r\n    .mc-msg__name {\r\n        text-align: right;\r\n    }\r\n\r\n    .mc-msg__content-wrap {\r\n        flex-flow: row-reverse;\r\n\r\n    }\r\n\r\n    .mc-msg__content {\r\n        background-color: #9eea6a;\r\n    }\r\n}\r\n\r\n.mc-msg--person {\r\n    padding-right: 5.3333vw;\r\n    flex-direction: row;\r\n\r\n    .arrow::before {\r\n        content: \"\";\r\n        display: inline-block;\r\n        position: absolute;\r\n        top: 3vw;\r\n        left: 0px;\r\n        width: 0px;\r\n        height: 0px;\r\n        // border-width: 2vw;\r\n        // border-style: solid;\r\n        // border-color: transparent inherit transparent transparent;\r\n        // transform: translate(-100%, 0%);\r\n        // background-color: red;\r\n        border-width: 0 0 0.1vw 0.1vw;\r\n        border-style: solid;\r\n        border-color: inherit;\r\n        background-color: inherit;\r\n        transform: translate(-50%, 0%) rotate(45deg);\r\n        width: 3vw;\r\n        height: 3vw;\r\n    }\r\n\r\n    .mc-msg__content-wrap {\r\n        flex-flow: row;\r\n\r\n    }\r\n\r\n    .mc-msg__content {\r\n        background-color: #f2f6fb;\r\n    }\r\n\r\n}\r\n\r\n\r\n.mc-video {\r\n    z-index: 88;\r\n    position: fixed;\r\n    top: 0px;\r\n    left: 0px;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: #000;\r\n\r\n    video {\r\n        position: fixed;\r\n        top: 50%;\r\n        width: 100%;\r\n        height: auto;\r\n        // height: 50%;\r\n        max-height: 50%;\r\n        transform: translateY(-50%);\r\n        // height: 100%;\r\n    }\r\n\r\n    .mc-video__btns {\r\n        z-index: 99;\r\n        position: fixed;\r\n        bottom: 10%;\r\n        left: 5%;\r\n        // padding: 5vw;\r\n    }\r\n}\r\n\r\n.mc-audio {\r\n    display: none;\r\n}\r\n\r\n.mc-audio--left {}\r\n\r\n.mc-audio--right {\r\n    transform: rotateY(180deg);\r\n}\r\n\r\n.mc-start {\r\n    flex-direction: row;\r\n}\r\n\r\n.mc-reverse {\r\n    flex-direction: row-reverse;\r\n}\r\n\r\n.mc-msg__time {\r\n    text-align: center;\r\n    font-size: 3.5vw;\r\n    margin: 3vw 0px;\r\n    color: #b0b0b0;\r\n}\r\n</style>","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"200\",\n  height: \"200\",\n  class: \"icon\",\n  viewBox: \"0 0 1024 1024\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"path\", {\n  fill: \"#333\",\n  d: \"M512 64a448 448 0 1 0 448 448A448.5 448.5 0 0 0 512 64zm0 832a384 384 0 1 1 384-384 384.5 384.5 0 0 1-384 384z\"\n}, null, -1)\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"path\", {\n  fill: \"#333\",\n  d: \"M272 400a48 48 0 1 0 96 0 48 48 0 1 0-96 0ZM448 448a48 48 0 1 0-48-48 48 48 0 0 0 48 48zm128-96a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm128 0a48 48 0 1 0 48 48 48 48 0 0 0-48-48zM272 528a48 48 0 1 0 96 0 48 48 0 1 0-96 0ZM448 576a48 48 0 1 0-48-48 48 48 0 0 0 48 48zm128 64H448a48 48 0 0 0 0 96h128a48 48 0 1 0 0-96zm0-160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm128 0a48 48 0 1 0 48 48 48 48 0 0 0-48-48z\"\n}, null, -1)\nconst _hoisted_4 = [\n  _hoisted_2,\n  _hoisted_3\n]\n\nexport function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, _hoisted_4))\n}\nexport default { render: render }","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"64\",\n  height: \"64\",\n  class: \"icon\",\n  viewBox: \"0 0 1024 1024\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"path\", {\n  fill: \"#8a8a8a\",\n  d: \"M491 50c257.917 0 467 209.083 467 467 0 257.917-209.083 467-467 467-257.917 0-467-209.083-467-467C24 259.083 233.083 50 491 50zm0 59.813C266.117 109.813 83.813 292.117 83.813 517S266.117 924.187 491 924.187 898.187 741.883 898.187 517 715.883 109.813 491 109.813zm1.15 94.32c16.281 0 29.523 13.01 29.898 29.2l.009.706v566.043c0 16.517-13.39 29.906-29.907 29.906-16.28 0-29.523-13.01-29.898-29.2l-.008-.706V234.039c0-16.516 13.39-29.906 29.906-29.906zM363.323 323.641c16.28 0 29.523 13.01 29.898 29.2l.008.706v328.97c0 16.518-13.39 29.907-29.906 29.907-16.281 0-29.524-13.01-29.899-29.2l-.008-.706v-328.97c0-16.517 13.39-29.907 29.907-29.907zm259.955 0c16.281 0 29.524 13.01 29.899 29.2l.008.706v328.97c0 16.518-13.39 29.907-29.907 29.907-16.28 0-29.523-13.01-29.898-29.2l-.008-.706v-328.97c0-16.517 13.39-29.907 29.906-29.907zm-388.783 77.184c16.281 0 29.523 13.01 29.898 29.2l.008.707v172.536c0 16.517-13.39 29.907-29.906 29.907-16.28 0-29.523-13.01-29.898-29.2l-.008-.707V430.732c0-16.517 13.39-29.907 29.906-29.907zm519.911 0c16.281 0 29.524 13.01 29.899 29.2l.008.707v172.536c0 16.517-13.39 29.907-29.907 29.907-16.28 0-29.523-13.01-29.898-29.2l-.008-.707V430.732c0-16.517 13.39-29.907 29.906-29.907z\"\n}, null, -1)\nconst _hoisted_3 = [\n  _hoisted_2\n]\n\nexport function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, _hoisted_3))\n}\nexport default { render: render }","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"200\",\n  height: \"200\",\n  class: \"icon\",\n  viewBox: \"0 0 1024 1024\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"path\", {\n  fill: \"#fff\",\n  d: \"M622.9 512 879.09 255.808c19.258-19.264 22.547-47.213 7.347-62.406l-55.859-55.86c-15.2-15.2-43.11-11.865-62.406 7.386L512.006 401.114l-256.185-256.18c-19.264-19.283-47.213-22.592-62.413-7.372l-55.86 55.865c-15.193 15.175-11.903 43.123 7.386 62.387L401.126 512 144.934 768.205c-19.257 19.251-22.592 47.18-7.385 62.38l55.859 55.866c15.2 15.2 43.149 11.904 62.413-7.353l256.198-256.205 256.16 256.166c19.296 19.303 47.207 22.592 62.407 7.392l55.859-55.865c15.193-15.2 11.904-43.13-7.347-62.407L622.899 512zm0 0\"\n}, null, -1)\nconst _hoisted_3 = [\n  _hoisted_2\n]\n\nexport function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, _hoisted_3))\n}\nexport default { render: render }","'use strict';(function(m,p){\"object\"===typeof exports&&\"undefined\"!==typeof module?module.exports=p():\"function\"===typeof define&&define.amd?define(p):(m=m||self,m.AMapLoader=p())})(this,function(){function m(a){var b=[];a.AMapUI&&b.push(p(a.AMapUI));a.Loca&&b.push(r(a.Loca));return Promise.all(b)}function p(a){return new Promise(function(h,c){var f=[];if(a.plugins)for(var e=0;e<a.plugins.length;e+=1)-1==d.AMapUI.plugins.indexOf(a.plugins[e])&&f.push(a.plugins[e]);if(g.AMapUI===b.failed)c(\"\\u524d\\u6b21\\u8bf7\\u6c42 AMapUI \\u5931\\u8d25\");\nelse if(g.AMapUI===b.notload){g.AMapUI=b.loading;d.AMapUI.version=a.version||d.AMapUI.version;e=d.AMapUI.version;var l=document.body||document.head,k=document.createElement(\"script\");k.type=\"text/javascript\";k.src=\"https://webapi.amap.com/ui/\"+e+\"/main.js\";k.onerror=function(a){g.AMapUI=b.failed;c(\"\\u8bf7\\u6c42 AMapUI \\u5931\\u8d25\")};k.onload=function(){g.AMapUI=b.loaded;if(f.length)window.AMapUI.loadUI(f,function(){for(var a=0,b=f.length;a<b;a++){var c=f[a].split(\"/\").slice(-1)[0];window.AMapUI[c]=\narguments[a]}for(h();n.AMapUI.length;)n.AMapUI.splice(0,1)[0]()});else for(h();n.AMapUI.length;)n.AMapUI.splice(0,1)[0]()};l.appendChild(k)}else g.AMapUI===b.loaded?a.version&&a.version!==d.AMapUI.version?c(\"\\u4e0d\\u5141\\u8bb8\\u591a\\u4e2a\\u7248\\u672c AMapUI \\u6df7\\u7528\"):f.length?window.AMapUI.loadUI(f,function(){for(var a=0,b=f.length;a<b;a++){var c=f[a].split(\"/\").slice(-1)[0];window.AMapUI[c]=arguments[a]}h()}):h():a.version&&a.version!==d.AMapUI.version?c(\"\\u4e0d\\u5141\\u8bb8\\u591a\\u4e2a\\u7248\\u672c AMapUI \\u6df7\\u7528\"):\nn.AMapUI.push(function(a){a?c(a):f.length?window.AMapUI.loadUI(f,function(){for(var a=0,b=f.length;a<b;a++){var c=f[a].split(\"/\").slice(-1)[0];window.AMapUI[c]=arguments[a]}h()}):h()})})}function r(a){return new Promise(function(h,c){if(g.Loca===b.failed)c(\"\\u524d\\u6b21\\u8bf7\\u6c42 Loca \\u5931\\u8d25\");else if(g.Loca===b.notload){g.Loca=b.loading;d.Loca.version=a.version||d.Loca.version;var f=d.Loca.version,e=d.AMap.version.startsWith(\"2\"),l=f.startsWith(\"2\");if(e&&!l||!e&&l)c(\"JSAPI \\u4e0e Loca \\u7248\\u672c\\u4e0d\\u5bf9\\u5e94\\uff01\\uff01\");\nelse{e=d.key;l=document.body||document.head;var k=document.createElement(\"script\");k.type=\"text/javascript\";k.src=\"https://webapi.amap.com/loca?v=\"+f+\"&key=\"+e;k.onerror=function(a){g.Loca=b.failed;c(\"\\u8bf7\\u6c42 AMapUI \\u5931\\u8d25\")};k.onload=function(){g.Loca=b.loaded;for(h();n.Loca.length;)n.Loca.splice(0,1)[0]()};l.appendChild(k)}}else g.Loca===b.loaded?a.version&&a.version!==d.Loca.version?c(\"\\u4e0d\\u5141\\u8bb8\\u591a\\u4e2a\\u7248\\u672c Loca \\u6df7\\u7528\"):h():a.version&&a.version!==d.Loca.version?\nc(\"\\u4e0d\\u5141\\u8bb8\\u591a\\u4e2a\\u7248\\u672c Loca \\u6df7\\u7528\"):n.Loca.push(function(a){a?c(a):c()})})}if(!window)throw Error(\"AMap JSAPI can only be used in Browser.\");var b;(function(a){a.notload=\"notload\";a.loading=\"loading\";a.loaded=\"loaded\";a.failed=\"failed\"})(b||(b={}));var d={key:\"\",AMap:{version:\"1.4.15\",plugins:[]},AMapUI:{version:\"1.1\",plugins:[]},Loca:{version:\"1.3.2\"}},g={AMap:b.notload,AMapUI:b.notload,Loca:b.notload},n={AMap:[],AMapUI:[],Loca:[]},q=[],t=function(a){\"function\"==typeof a&&\n(g.AMap===b.loaded?a(window.AMap):q.push(a))};return{load:function(a){return new Promise(function(h,c){if(g.AMap==b.failed)c(\"\");else if(g.AMap==b.notload){var f=a.key,e=a.version,l=a.plugins;f?(window.AMap&&\"lbs.amap.com\"!==location.host&&c(\"\\u7981\\u6b62\\u591a\\u79cdAPI\\u52a0\\u8f7d\\u65b9\\u5f0f\\u6df7\\u7528\"),d.key=f,d.AMap.version=e||d.AMap.version,d.AMap.plugins=l||d.AMap.plugins,g.AMap=b.loading,e=document.body||document.head,window.___onAPILoaded=function(d){delete window.___onAPILoaded;if(d)g.AMap=\nb.failed,c(d);else for(g.AMap=b.loaded,m(a).then(function(){h(window.AMap)})[\"catch\"](c);q.length;)q.splice(0,1)[0]()},l=document.createElement(\"script\"),l.type=\"text/javascript\",l.src=\"https://webapi.amap.com/maps?callback=___onAPILoaded&v=\"+d.AMap.version+\"&key=\"+f+\"&plugin=\"+d.AMap.plugins.join(\",\"),l.onerror=function(a){g.AMap=b.failed;c(a)},e.appendChild(l)):c(\"\\u8bf7\\u586b\\u5199key\")}else if(g.AMap==b.loaded)if(a.key&&a.key!==d.key)c(\"\\u591a\\u4e2a\\u4e0d\\u4e00\\u81f4\\u7684 key\");else if(a.version&&\na.version!==d.AMap.version)c(\"\\u4e0d\\u5141\\u8bb8\\u591a\\u4e2a\\u7248\\u672c JSAPI \\u6df7\\u7528\");else{f=[];if(a.plugins)for(e=0;e<a.plugins.length;e+=1)-1==d.AMap.plugins.indexOf(a.plugins[e])&&f.push(a.plugins[e]);if(f.length)window.AMap.plugin(f,function(){m(a).then(function(){h(window.AMap)})[\"catch\"](c)});else m(a).then(function(){h(window.AMap)})[\"catch\"](c)}else if(a.key&&a.key!==d.key)c(\"\\u591a\\u4e2a\\u4e0d\\u4e00\\u81f4\\u7684 key\");else if(a.version&&a.version!==d.AMap.version)c(\"\\u4e0d\\u5141\\u8bb8\\u591a\\u4e2a\\u7248\\u672c JSAPI \\u6df7\\u7528\");\nelse{var k=[];if(a.plugins)for(e=0;e<a.plugins.length;e+=1)-1==d.AMap.plugins.indexOf(a.plugins[e])&&k.push(a.plugins[e]);t(function(){if(k.length)window.AMap.plugin(k,function(){m(a).then(function(){h(window.AMap)})[\"catch\"](c)});else m(a).then(function(){h(window.AMap)})[\"catch\"](c)})}})},reset:function(){delete window.AMap;delete window.AMapUI;delete window.Loca;d={key:\"\",AMap:{version:\"1.4.15\",plugins:[]},AMapUI:{version:\"1.1\",plugins:[]},Loca:{version:\"1.3.2\"}};g={AMap:b.notload,AMapUI:b.notload,\nLoca:b.notload};n={AMap:[],AMapUI:[],Loca:[]}}}})\n","<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nexport default defineComponent({\n  name: 'McMap',\n})\n</script>\n<template>\r\n    <div class=\"mc-map\">\r\n        <div class=\"mc-map__tools\">\r\n            <van-button class=\"mc-map__tools-btn calcel\" @click=\"clickCancel\">取消</van-button>\r\n            <van-button class=\"mc-map__tools-btn submit\" type=\"success\" @click=\"clickSend\">发送</van-button>\r\n        </div>\r\n        <div id=\"mChatMap\">\r\n\r\n        </div>\r\n        <div class=\"mc-map__panel\">\r\n            <!-- <div class=\"mc-map__panel-item\" v-for=\"(item, index) in state.infos\" :key=\"index\">\r\n                {{ item.address }}\r\n            </div> -->\r\n            <div class=\"mc-map__panel-item\">\r\n                <div class=\"mc-map__address\"> {{ state.location.address }}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup name=\"McMap\">\r\nimport AMapLoader from '@amap/amap-jsapi-loader';\r\nimport { Emitter } from 'mitt';\r\nimport { reactive, PropType, onMounted, inject } from 'vue';\r\nimport { Toast, Button as VanButton } from 'vant'\r\nimport * as eventsConst from '../utils/events.const';\r\n\r\n// const props = defineProps({\r\n\r\n// })\r\nconst state = reactive({\r\n    location: {\r\n        lonlat: [113.86697, 22.567978],\r\n        address: '广东省深圳市宝安区西乡街道宝源路177号华源科技创新园 '\r\n    },\r\n    infos: []\r\n})\r\nconst emitter = inject<Emitter<any>>('emitter');\r\nlet map;\r\nlet geocoder;\r\n\r\n\r\n//解析定位结果\r\nfunction onComplete(data) {\r\n    console.log('定位成功:', data)\r\n    // document.getElementById('status').innerHTML = '定位成功'\r\n    // var str = [];\r\n    // str.push('定位结果：' + data.position);\r\n    // str.push('定位类别：' + data.location_type);\r\n    // if (data.accuracy) {\r\n    //     str.push('精度：' + data.accuracy + ' 米');\r\n    // }//如为IP精确定位结果则没有精度信息\r\n    // str.push('是否经过偏移：' + (data.isConverted ? '是' : '否'));\r\n    // document.getElementById('result').innerHTML = str.join('<br>');\r\n\r\n    state.location.lonlat = [data.position.lng, data.position.lat];\r\n\r\n    geocoder.getAddress(data.position, function (status, result) {\r\n        if (status === 'complete' && result.regeocode) {\r\n            var address = result.regeocode.formattedAddress;\r\n            state.location.address = address;\r\n        } else {\r\n            console.error('根据经纬度查询地址失败')\r\n        }\r\n    });\r\n\r\n}\r\n//解析定位错误信息\r\nfunction onError(data) {\r\n    console.log('定位失败:', data)\r\n    // document.getElementById('status').innerHTML = '定位失败'\r\n    // document.getElementById('result').innerHTML = '失败原因排查信息:' + data.message + '</br>浏览器返回信息：' + data.originMessage;\r\n    Toast.fail('定位失败')\r\n}\r\n\r\nconst clickSend = () => {\r\n    emitter.emit(eventsConst.CLICK_MAP_SEND, state.location)\r\n}\r\nconst clickCancel = () => {\r\n    emitter.emit(eventsConst.CLICK_MAP_CANCEL)\r\n}\r\n\r\nonMounted(async () => {\r\n    const AMap: any = await AMapLoader.load({\r\n        \"key\": \"599dfe6bbe92b35d34d4e3d3f40aac6b\",              // 申请好的Web端开发者Key，首次调用 load 时必填\r\n        \"version\": \"2.0\",   // 指定要加载的 JSAPI 的版本，缺省时默认为 1.4.15\r\n        \"plugins\": [\r\n            'AMap.Geolocation'\r\n        ],           // 需要使用的的插件列表，如比例尺'AMap.Scale'等\r\n        \"AMapUI\": {             // 是否加载 AMapUI，缺省不加载\r\n            \"version\": '1.1',   // AMapUI 版本\r\n            \"plugins\": ['misc/PositionPicker'],       // 需要加载的 AMapUI ui插件\r\n        }\r\n    })\r\n    map = new AMap.Map('mChatMap');\r\n\r\n    AMap.plugin(\"AMap.Geocoder\", function () {\r\n        geocoder = new AMap.Geocoder();\r\n    })\r\n\r\n    const geolocation = new AMap.Geolocation({\r\n        enableHighAccuracy: true,//是否使用高精度定位，默认:true\r\n        timeout: 10000,          //超过10秒后停止定位，默认：5s\r\n        position: 'RB',    //定位按钮的停靠位置\r\n        offset: [10, 20], //定位按钮与设置的停靠位置的偏移量，默认：[10, 20]\r\n        zoomToAccuracy: true,   //定位成功后是否自动调整地图视野到定位点\r\n\r\n    });\r\n    map.addControl(geolocation);\r\n    geolocation.getCurrentPosition(function (status, result) {\r\n        if (status == 'complete') {\r\n            onComplete(result)\r\n        } else {\r\n            onError(result)\r\n        }\r\n    });\r\n\r\n    return;\r\n    AMapUI.loadUI(['misc/PositionPicker'], function (PositionPicker) {\r\n        const positionPicker = new PositionPicker({\r\n            mode: 'dragMap',\r\n            map: map\r\n        });\r\n\r\n        positionPicker.on('success', function (positionResult) {\r\n            // document.getElementById('lnglat').innerHTML = positionResult.position;\r\n            // document.getElementById('address').innerHTML = positionResult.address;\r\n            // document.getElementById('nearestJunction').innerHTML = positionResult.nearestJunction;\r\n            // document.getElementById('nearestRoad').innerHTML = positionResult.nearestRoad;\r\n            // document.getElementById('nearestPOI').innerHTML = positionResult.nearestPOI;\r\n            state.infos = [{\r\n                lnglat: positionResult.position,\r\n                address: positionResult.address,\r\n                nearestJunction: positionResult.nearestJunction,\r\n                nearestRoad: positionResult.nearestRoad,\r\n                nearestPOI: positionResult.nearestPOI\r\n            }]\r\n        });\r\n\r\n        positionPicker.start();\r\n    })\r\n\r\n\r\n})\r\n</script>\r\n<style lang=\"scss\">\r\n.mc-map {\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    z-index: 10;\r\n\r\n\r\n    &__tools {\r\n        position: absolute;\r\n        top: 20px;\r\n        left: 30px;\r\n        right: 30px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        z-index: 11;\r\n\r\n        &-btn {\r\n            width: 80px;\r\n            height: 30px;\r\n        }\r\n    }\r\n\r\n    &__panel {\r\n        height: 20%;\r\n        background-color: #fff;\r\n        padding: 20px;\r\n        box-sizing: border-box;\r\n\r\n        overflow-y: auto;\r\n\r\n        &-item {\r\n            padding: 10px 0px;\r\n            display: flex;\r\n            align-items: center;\r\n            border-bottom: 1px solid #f5f5f5;\r\n        }\r\n    }\r\n\r\n    &__address {\r\n        font-size: 4vw;\r\n    }\r\n}\r\n\r\n#mChatMap {\r\n    height: calc(100% - 20%);\r\n    background-color: #fff;\r\n    z-index: 10;\r\n}\r\n</style>","<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nexport default defineComponent({\n  name: 'MchatComment',\n})\n</script>\n\r\n<template>\r\n    <div class=\"mc-comment\">\r\n        <div class=\"mc-comment__default\">\r\n            <div class=\"mc-comment__left\">\r\n                <svg-icon v-if=\"state.currentType == CurrentTypeEnum.text && isOpenFunc('audio')\"\r\n                    :classes=\"['mc-comment__icon']\" @click=\"clickIcon('record')\">\r\n                    <voiceSvg></voiceSvg>\r\n                </svg-icon>\r\n                <svg-icon v-if=\"state.currentType == CurrentTypeEnum.record && isOpenFunc('text')\"\r\n                    :classes=\"['mc-comment__icon']\" @click=\"clickIcon('text')\">\r\n                    <keyboardSvg></keyboardSvg>\r\n                </svg-icon>\r\n            </div>\r\n\r\n            <div class=\"mc-comment__record\" v-show=\"state.currentType == CurrentTypeEnum.record\" ref=\"mChatRecord\">\r\n                <span v-show=\"state.recordCode == RecordCodeEnum.inactive\">按住开始录音</span>\r\n                <span v-show=\"state.recordCode == RecordCodeEnum.active\">松开 发送</span>\r\n                <span v-show=\"state.recordCode == RecordCodeEnum.cancel\">松开 取消</span>\r\n            </div>\r\n            <form class=\"mc-comment__form\" v-show=\"state.currentType == CurrentTypeEnum.text && isOpenFunc('text')\"\r\n                @submit.prevent=\"onInputSubmit\">\r\n                <input ref=\"mChatInput\" class=\"mc-comment__form-input\" @focus=\"onInputFocus\" @blur=\"onInputBlur\"\r\n                    v-model=\"state.content\" @input=\"onInputChange\" type=\"text\" />\r\n            </form>\r\n            <div class=\"mc-comment__right\">\r\n                <van-icon v-if=\"isOpenFunc('emoji')\" class=\"mc-comment__icon\" name=\"smile-o\"\r\n                    @click=\"clickIcon('emoji')\"></van-icon>\r\n                <button v-if=\"state.currentType == CurrentTypeEnum.text && state.showSubmitBtn\" @click=\"onSubmit\"\r\n                    class=\"mc-comment__submit-btn\">\r\n                    发送\r\n                </button>\r\n                <van-icon v-else-if=\"!disabledPanel\" class=\"mc-comment__icon\" name=\"add-o\"\r\n                    @click=\"clickIcon('panel')\"></van-icon>\r\n                <!-- <transition name=\"move\">\r\n               \r\n                </transition> -->\r\n            </div>\r\n        </div>\r\n        <!-- 扩展面板 -->\r\n        <div class=\"mc-comment__panel panel-background\" v-if=\"state.showPanel && !disabledPanel\">\r\n            <!-- 表情包 -->\r\n            <div class=\"mc-emoji\" v-if=\"state.showEmo\">\r\n                <!--自定义表情面板 -->\r\n                <slot name=\"emoji\" v-if=\"$slots.emoji\"></slot>\r\n                <template v-else>\r\n                    <div class=\"mc-emoji__wrap\">\r\n                        <div class=\"mc-emoji__item\" v-for=\"(item, index) in emojiList\" :key=\"index\"\r\n                            @click=\"clickEmoItem(item)\">\r\n                            {{ item.char }}\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n            </div>\r\n            <template v-else>\r\n                <!--自定义主面板 -->\r\n                <slot name=\"panel\" v-if=\"$slots.panel\"></slot>\r\n                <!-- 主面板 -->\r\n                <div class=\"mc-comment-grid\" v-else>\r\n                    <div class=\"mc-comment-grid__item\" v-for=\"(item, index) in panelItems\" :key=\"index\"\r\n                        @click=\"clickPanelItem(item)\">\r\n                        <div class=\"mc-comment-grid__item-icon\">\r\n                            <van-icon :name=\"item.icon\" />\r\n                        </div>\r\n                        <div class=\"mc-comment-grid__item-text\">\r\n                            {{ item.text }}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </template>\r\n\r\n        </div>\r\n        <!--录音遮罩层 -->\r\n        <div class=\"record-overlay\" v-if=\"state.recordCode != RecordCodeEnum.inactive\">\r\n            <div class=\"record-overlay__item\" v-if=\"state.recordCode == RecordCodeEnum.active\">\r\n                <vue-lottie :options=\"state.recordAnimOptions\" width=\"20vw\" height=\"20vw\"></vue-lottie>\r\n                <div class=\"record-overlay__text\">手指上划,取消发送</div>\r\n            </div>\r\n            <div class=\"record-overlay__item\" v-if=\"state.recordCode == RecordCodeEnum.cancel\">\r\n                <div class=\"record-overlay__icon-wrap\">\r\n                    <SvgIcon :classes=\"['record-overlay__icon']\">\r\n                        <closeSvg></closeSvg>\r\n                    </SvgIcon>\r\n                </div>\r\n                <div class=\"record-overlay__text\">松开取消发送录音</div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 图片上传 -->\r\n        <van-uploader v-if=\"isOpenFunc('image')\" v-bind=\"conf.vanImageUploader\" ref=\"mChatImgUploader\"\r\n            :maxSize=\"conf.imageUploader.maxSize * 1024\" :accept=\"join(conf.imageUploader.accept, ',')\"\r\n            :after-read=\"(file) => afterRead('image', file)\" @oversize=\"(file) => onOversize('image', file)\"\r\n            style=\"display: none\" />\r\n        <!-- 文件上传 -->\r\n        <van-uploader v-if=\"isOpenFunc('file')\" v-bind=\"conf.vanFileUploader\" ref=\"mChatFileUploader\"\r\n            :maxSize=\"conf.fileUploader.maxSize * 1024\" :accept=\"join(conf.fileUploader.accept, ',')\"\r\n            :after-read=\"(file) => afterRead('file', file)\" @oversize=\"(file) => onOversize('file', file)\"\r\n            style=\"display: none\" />\r\n        <!-- 视频上传 -->\r\n        <van-uploader v-if=\"isOpenFunc('video')\" v-bind=\"conf.vanVideoUploader\" ref=\"mChatVideoUploader\"\r\n            :maxSize=\"conf.videoUploader.maxSize * 1024\" :accept=\"join(conf.videoUploader.accept, ',')\"\r\n            :after-read=\"(file) => afterRead('video', file)\" @oversize=\"(file) => onOversize('video', file)\"\r\n            style=\"display: none\" />\r\n        <!-- 地图 -->\r\n        <mc-map v-if=\"state.showMap\"></mc-map>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup name=\"MchatComment\">\r\nimport { Emitter } from 'mitt';\r\nimport { PropType, computed, reactive, ref, useSlots, onMounted, onUnmounted, nextTick, watch, inject } from 'vue';\r\nimport * as eventsConst from '../utils/events.const';\r\nimport SvgIcon from './SvgIcon.vue';\r\nimport keyboardSvg from '../assets/svg/keyboard.svg'\r\nimport voiceSvg from '../assets/svg/voice.svg'\r\nimport closeSvg from '../assets/svg/close.svg'\r\nimport { Icon as VanIcon, Uploader as VanUploader, UploaderInstance, Toast, UploaderFileListItem } from 'vant'\r\nimport { Config } from '../type';\r\nimport VueLottie from \"./VueLottie.vue\";\r\nimport recordingJson from '../assets/json/recording.json'\r\nimport AnyTouch from 'any-touch';\r\nimport { isOutElement, includes, join } from '../utils/common';\r\nimport EventCenter from '../utils/EventCenter'\r\nimport assignIn from \"lodash/assignIn\";\r\nimport merge from \"lodash/merge\";\r\nimport emojiList from '../assets/json/emoji.json'\r\nimport McMap from './Map.vue'\r\n// import { ActionSheet as VanActionSheet } from 'vant'\r\n\r\nenum CurrentTypeEnum {\r\n    text,\r\n    record\r\n}\r\n\r\nenum RecordCodeEnum {\r\n    /**\r\n     * 未录音\r\n     */\r\n    inactive,\r\n    /**\r\n     * 录音中\r\n     */\r\n    active,\r\n    /**\r\n     * 录音取消\r\n     */\r\n    cancel,\r\n}\r\nconst slots = useSlots();\r\n// const props = defineProps({\r\n\r\n// })\r\nconst state = reactive({\r\n    content: '',\r\n    showPanel: false,\r\n    showSubmitBtn: false,\r\n    showEmo: false,\r\n    showMap: false,\r\n    currentType: CurrentTypeEnum.text, // \r\n    recordCode: RecordCodeEnum.inactive, // 0 未录音 1 录音中 2 取消录音中\r\n    recordAnimOptions: {\r\n        animationData: recordingJson,\r\n        autoplay: true,\r\n    },\r\n})\r\nconst emitter = inject<Emitter<any>>('emitter');\r\nconst mChatInput = ref<HTMLElement>();\r\nconst mChatRecord = ref<HTMLElement>();\r\nconst mChatImgUploader = ref<UploaderInstance>();\r\nconst mChatFileUploader = ref<UploaderInstance>();\r\nconst mChatVideoUploader = ref<UploaderInstance>();\r\n\r\nlet eventCenter: EventCenter;\r\nconst defaultPanelItems = ref([\r\n    {\r\n        type: \"image\",\r\n        text: \"图片\",\r\n        icon: \"photo-o\",\r\n        classPrefix: ''\r\n    },\r\n    {\r\n        type: \"video\",\r\n        text: \"视频\",\r\n        icon: \"video-o\",\r\n    },\r\n    {\r\n        type: \"file\",\r\n        text: \"文件\",\r\n        icon: \"description\",\r\n    },\r\n    {\r\n        type: \"location\",\r\n        text: \"定位\",\r\n        icon: \"location-o\"\r\n    },\r\n])\r\n\r\n// 注入配置\r\nconst conf = inject<Config>('config')\r\n\r\nconst panelItems = computed(() => {\r\n    return [...defaultPanelItems.value.filter(it => conf.open.includes(it.type)), ...conf.extPanelItems];\r\n})\r\n\r\nconst disabledPanel = computed(() => {\r\n    return panelItems.value.length == 0\r\n})\r\nconst onInputBlur = () => {\r\n\r\n}\r\nconst onInputFocus = () => {\r\n    state.showSubmitBtn = true;\r\n}\r\nconst onInputChange = (e) => {\r\n\r\n}\r\nconst onInputSubmit = () => {\r\n    if (!state.content) return;\r\n    const result = {\r\n        type: 'text',\r\n        content: state.content\r\n    }\r\n    emitter.emit(eventsConst.COMMENT_SUBMIT, result);\r\n    emitter.emit(eventsConst.COMMENT_PANEL_SWITCH, false)\r\n    console.log(result)\r\n    // 清空输入框\r\n    state.content = '';\r\n}\r\n\r\nconst onSubmit = () => {\r\n    onInputSubmit();\r\n}\r\n\r\n/**\r\n * 检测功能是否开启\r\n * @param type \r\n */\r\nconst isOpenFunc = (type: string) => {\r\n    return conf.open.includes(type);\r\n}\r\n\r\nconst clickIcon = (name: string) => {\r\n    switch (name) {\r\n        case 'panel':\r\n            if (state.showEmo) {\r\n                state.showEmo = false;\r\n            } else {\r\n                state.showPanel = !state.showPanel;\r\n            }\r\n            emitter.emit(eventsConst.COMMENT_PANEL_SWITCH, state.showPanel)\r\n            break;\r\n        case 'record':\r\n            state.currentType = CurrentTypeEnum.record;\r\n            break;\r\n        case 'text':\r\n            state.currentType = CurrentTypeEnum.text;\r\n            break;\r\n        case 'emoji':\r\n\r\n            if (state.showPanel) {\r\n                if (state.showEmo) {\r\n                    state.showEmo = false;\r\n                    state.showPanel = false;\r\n                } else {\r\n                    state.showEmo = true;\r\n                }\r\n            } else {\r\n                state.showPanel = true;\r\n                state.currentType = CurrentTypeEnum.text;\r\n                state.showEmo = true;\r\n            }\r\n            emitter.emit(eventsConst.COMMENT_PANEL_SWITCH, state.showPanel)\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 管理事件\r\n * @param isDestroy \r\n */\r\nconst setEvents = (isDestroy = false) => {\r\n\r\n    const recordTouchStart = (e) => {\r\n        // console.log('触摸开始', e)\r\n        e.preventDefault();\r\n        // return;\r\n        state.recordCode = RecordCodeEnum.active\r\n        emitter.emit(eventsConst.RECORD_START)\r\n    }\r\n    const recordTouchMove = (e) => {\r\n        // console.log('触摸中', e)\r\n        e.preventDefault();\r\n        // return;\r\n        if (isOutElement(e.changedTouches[0], mChatRecord.value)) {\r\n            state.recordCode = RecordCodeEnum.cancel\r\n        } else {\r\n            state.recordCode = RecordCodeEnum.active\r\n        }\r\n    }\r\n    const recordTouchEnd = (e) => {\r\n        // console.log('触摸结束', e)\r\n        e.preventDefault();\r\n        // return;\r\n        // 取消录音\r\n        if (state.recordCode == RecordCodeEnum.cancel) {\r\n            // console.log('录音取消')\r\n            state.recordCode = RecordCodeEnum.inactive;\r\n            emitter.emit(eventsConst.RECORD_CANCEL)\r\n            return;\r\n        }\r\n        // 正常结束录音\r\n        if (state.recordCode == RecordCodeEnum.active) {\r\n            // console.log('录音结束')\r\n            state.recordCode = RecordCodeEnum.inactive;\r\n            emitter.emit(eventsConst.RECORD_STOP)\r\n        }\r\n\r\n    }\r\n\r\n    eventCenter = new EventCenter(mChatRecord.value)\r\n\r\n    eventCenter.on('touchstart', recordTouchStart)\r\n    eventCenter.on('touchmove', recordTouchMove)\r\n    eventCenter.on('touchend', recordTouchEnd)\r\n\r\n}\r\n\r\nconst clickPanelItem = (item) => {\r\n    switch (item.type) {\r\n        case 'image':\r\n            mChatImgUploader.value.chooseFile();\r\n            break;\r\n        case 'video':\r\n            mChatVideoUploader.value.chooseFile();\r\n            break;\r\n        case 'file':\r\n            mChatFileUploader.value.chooseFile();\r\n            break;\r\n        case 'location':\r\n            if (!conf.amap || !conf.amap.key) {\r\n                Toast.fail('缺少高德地图key')\r\n                return;\r\n            }\r\n            state.showMap = true;\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n    emitter.emit(eventsConst.CLICK_PANEL_ITEM, item)\r\n}\r\n\r\nconst clickEmoItem = (item) => {\r\n    state.content += item.char + \" \";\r\n    mChatInput.value.focus();\r\n    state.showSubmitBtn = true;\r\n}\r\n\r\nconst afterRead = (type: string, file) => {\r\n    // 此时可以自行将文件上传至服务器\r\n    console.log('afterRead', file);\r\n    const c = conf\r\n    const result = {\r\n        type: '',\r\n        content: file\r\n    }\r\n    switch (type) {\r\n        case 'image':\r\n            if (\r\n                !((c.imageUploader.accept.includes('image/*') && file.file.type.includes('image/'))) &&\r\n                !(c.imageUploader.accept).includes(file.file.type)\r\n            ) {\r\n                Toast.fail(\"图片格式不支持上传\");\r\n                return;\r\n            }\r\n            result.type = 'image';\r\n\r\n            break;\r\n        case 'file':\r\n            if (\r\n                !c.fileUploader.accept.includes(\"*\") && !c.fileUploader.accept.includes(file.file.type)\r\n            ) {\r\n                Toast.fail(\"文件格式不支持上传\");\r\n                return;\r\n            }\r\n            result.type = 'file';\r\n            break;\r\n        case 'video':\r\n            if (\r\n                !((c.videoUploader.accept.includes('video/*') && file.file.type.includes('video/'))) &&\r\n                !(c.videoUploader.accept).includes(file.file.type)\r\n            ) {\r\n                Toast.fail(\"视频格式不支持上传\");\r\n                return;\r\n            }\r\n            result.type = 'video';\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n    emitter.emit(eventsConst.COMMENT_SUBMIT, result);\r\n    emitter.emit(eventsConst.COMMENT_PANEL_SWITCH, false)\r\n}\r\n\r\nconst onOversize = (type, file) => {\r\n    console.log(file);\r\n    const c = conf;\r\n    switch (type) {\r\n        case 'image':\r\n            Toast.fail(`图片大小不能超过 ${c.imageUploader.maxSize}kb`);\r\n            break;\r\n        case 'file':\r\n            Toast.fail(`文件大小不能超过 ${c.fileUploader.maxSize}kb`);\r\n            break;\r\n        case 'video':\r\n            Toast.fail(`视频大小不能超过 ${c.videoUploader.maxSize}kb`);\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n\r\n}\r\n\r\n\r\nwatch(() => state.content, (val) => {\r\n    state.content ? (state.showSubmitBtn = true) : (state.showSubmitBtn = false)\r\n})\r\n\r\n\r\n\r\nonMounted(() => {\r\n    emitter.on(eventsConst.COMMENT_PANEL_SWITCH, (val) => {\r\n        console.log(`comment ${eventsConst.COMMENT_PANEL_SWITCH}:`, val)\r\n        // 没有传变量自动切换当前的状态\r\n        if (val == undefined) {\r\n            state.showPanel = !state.showPanel;\r\n            return;\r\n        }\r\n        val != state.showPanel && (state.showPanel = val);\r\n    })\r\n    emitter.on(eventsConst.MESSAGES_CLICK, (val) => {\r\n        console.log(`comment ${eventsConst.MESSAGES_CLICK}:`, val);\r\n        // 没有打开控制面板直接终止逻辑\r\n        if (!state.showPanel) {\r\n            return;\r\n        }\r\n        state.showPanel = false;\r\n        state.showEmo = false;\r\n        emitter.emit(eventsConst.COMMENT_PANEL_SWITCH, state.showPanel)\r\n    })\r\n    emitter.on(eventsConst.CLICK_MAP_SEND, (val) => {\r\n        console.log(`comment ${eventsConst.CLICK_MAP_SEND}:`, val);\r\n        state.showMap = false;\r\n        // 提交定位结果\r\n        const result = {\r\n            type: 'location',\r\n            content: val\r\n        }\r\n        emitter.emit(eventsConst.COMMENT_SUBMIT, result);\r\n        emitter.emit(eventsConst.COMMENT_PANEL_SWITCH, false);\r\n    })\r\n    emitter.on(eventsConst.CLICK_MAP_CANCEL, (val) => {\r\n        console.log(`comment ${eventsConst.CLICK_MAP_CANCEL}:`, val);\r\n        state.showMap = false;\r\n    })\r\n\r\n    // 如果没有扩展面板\r\n    // if (conf.open.length == 1 && conf.open.includes('text')) {\r\n    //     state.currentType = CurrentTypeEnum.text;\r\n    //     state.showSubmitBtn = true;\r\n    // }\r\n    nextTick(() => {\r\n        setEvents();\r\n    })\r\n})\r\nonUnmounted(() => {\r\n    // setEvents(true)\r\n    eventCenter.destroy();\r\n})\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.flex {\r\n    display: flex;\r\n}\r\n\r\n.mc-comment {\r\n\r\n    // position: relative;\r\n    // position: fixed;\r\n    // left: 0px;\r\n    // right: 0px;\r\n    // bottom: 0px;\r\n    background-color: #f7f7f7;\r\n    // height: 15vw;\r\n    box-sizing: border-box;\r\n\r\n\r\n    &__right {\r\n        display: flex;\r\n    }\r\n\r\n    .mc-comment__default {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        padding: 3vw 5vw;\r\n        height: 16vw;\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    .mc-comment__icon {\r\n        width: 8vw;\r\n        height: 8vw;\r\n        font-size: 8vw;\r\n        color: #000;\r\n        margin: 0 0.6vw;\r\n    }\r\n\r\n    &__form {\r\n        flex: 1;\r\n        display: flex;\r\n        background-color: #fff;\r\n        margin: 0px 2vw;\r\n\r\n        &-input {\r\n            width: 100%;\r\n            // height: 5vw;\r\n            border: none;\r\n            // -webkit-appearance: none; /*去除阴影边框*/\r\n            //   -webkit-tap-highlight-color: rgba(0, 0, 0, 0); /*点击高亮的颜色*/\r\n            outline: none;\r\n            border-radius: 10px;\r\n            caret-color: #9eea6a;\r\n            background-color: transparent;\r\n            // padding: 15px 0px;\r\n            margin: 0px 2vw;\r\n            font-size: 4vw;\r\n            height: 10vw;\r\n            box-sizing: border-box;\r\n            overflow: hidden;\r\n        }\r\n    }\r\n\r\n    &__submit-btn {\r\n\r\n        display: block;\r\n        font-size: 4vw;\r\n        margin-left: 2vw;\r\n        padding: 0vw 4vw;\r\n        background-color: #0bbe62;\r\n        color: #fff;\r\n        border-radius: 1vw;\r\n        outline: none;\r\n        border: none;\r\n        box-sizing: content-box;\r\n        height: 8vw;\r\n        line-height: 8vw;\r\n\r\n        &:active,\r\n        :hover {\r\n            opacity: 0.6;\r\n        }\r\n    }\r\n\r\n    &__panel {\r\n        height: 53vw;\r\n        // border: 1px solid red;\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    .mc-comment-grid {\r\n        display: flex;\r\n        flex-flow: row wrap;\r\n        padding: 3vw 0vw;\r\n\r\n        &__item {\r\n            box-sizing: content-box;\r\n            // margin: 1vw;\r\n            flex-basis: 25%;\r\n            display: flex;\r\n            flex-flow: column nowrap;\r\n            justify-content: center;\r\n            align-items: center;\r\n\r\n            &-icon {\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: center;\r\n                background-color: #fff;\r\n                color: #000;\r\n                font-size: 10vw;\r\n                width: 16vw;\r\n                height: 16vw;\r\n                border-radius: 10px;\r\n            }\r\n\r\n            &-text {\r\n                font-size: 3.1vw;\r\n                margin: 2vw 0vw;\r\n                color: #000;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    .mc-comment__record {\r\n        flex: 1;\r\n        background-color: #fff;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        user-select: none;\r\n        font-size: 4vw;\r\n        height: 10vw;\r\n        margin: 0px 2vw;\r\n        overflow: hidden;\r\n        box-sizing: border-box;\r\n    }\r\n\r\n}\r\n\r\n.mc-emoji {\r\n\r\n    height: 100%;\r\n    overflow-y: auto;\r\n\r\n    .mc-emoji__wrap {\r\n        display: flex;\r\n        flex-flow: row wrap;\r\n    }\r\n\r\n    .mc-emoji__item {\r\n        flex-basis: 15%;\r\n        margin: 1.5vw 2vw;\r\n        font-size: 6vw;\r\n        user-select: none;\r\n        text-align: center;\r\n        box-sizing: content-box;\r\n    }\r\n}\r\n\r\n\r\n\r\n.record-overlay {\r\n    position: fixed;\r\n    top: 49.5%;\r\n    left: 49.5%;\r\n    padding: 4vw 2vw;\r\n    background-color: rgba(0, 0, 0, 0.9);\r\n    z-index: 99;\r\n    color: #fff;\r\n    text-align: center;\r\n    transform: translate(-50%, -50%);\r\n    width: 40vw;\r\n    height: 25vw;\r\n    font-size: 4vw;\r\n\r\n    display: flex;\r\n    flex-flow: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    .record-overlay__item {\r\n        position: relative;\r\n        display: flex;\r\n        flex-flow: column nowrap;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        // height: 100%;\r\n    }\r\n\r\n    .record-overlay__text {\r\n        // margin-top: 3vw;\r\n    }\r\n\r\n    &__icon-wrap {\r\n        width: 20vw;\r\n        height: 20vw;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n\r\n    &__icon {\r\n        margin-bottom: 3vw;\r\n        width: 10vw;\r\n        height: 10vw;\r\n    }\r\n\r\n\r\n\r\n}\r\n</style>","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","var copyObject = require('./_copyObject'),\n    createAssigner = require('./_createAssigner'),\n    keysIn = require('./keysIn');\n\n/**\n * This method is like `_.assign` except that it iterates over own and\n * inherited source properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extend\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assign\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n */\nvar assignIn = createAssigner(function(object, source) {\n  copyObject(source, keysIn(source), object);\n});\n\nmodule.exports = assignIn;\n","<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nexport default defineComponent({\n  name: 'm-chat',\n})\n</script>\n\r\n<template>\r\n    <div class=\"m-chat\" :class=\"[`theme-${config.theme}`]\" :style=\"{ height }\">\r\n        <Messages :messages=\"messages\" :refresh=\"refresh\" :disabledPull=\"props.disabledPull\">\r\n            <template v-for=\"st in slotsList\" #[st.name]=\"{ item }\">\r\n                <slot :name=\"st.name\" :key=\"st.name\" :item=\"item\"></slot>\r\n            </template>\r\n        </Messages>\r\n        <Comment>\r\n            <template v-if=\"$slots.panel\" #panel>\r\n                <slot name=\"panel\"></slot>\r\n            </template>\r\n            <template v-if=\"$slots.emoji\" #emoji>\r\n                <slot name=\"emoji\"></slot>\r\n            </template>\r\n        </Comment>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup name=\"m-chat\">\r\nimport mitt from 'mitt'\r\nimport { PropType, provide, onMounted, computed, watch, useSlots } from 'vue';\r\nimport { Config, MessageData } from '../type';\r\nimport Messages from './Messages.vue'\r\nimport Comment from './Comment.vue'\r\nimport * as eventsConst from '../utils/events.const';\r\nimport assignIn from \"lodash/assignIn\";\r\n\r\nconst emitter = mitt<any>()\r\nconst slots = useSlots();\r\n\r\nObject.keys(slots).map(k => slots[k])\r\nconsole.log('slots', slots)\r\nconst slotsList = Object.keys(slots).map(k => {\r\n    return { name: k, slot: slots[k] };\r\n})\r\nconsole.log('slotsList', slotsList)\r\nconst emit = defineEmits(['submit', 'recordStart', 'recordCancel', 'recordStop', 'clickAvatar', 'clickPanelItem'])\r\nconst props = defineProps({\r\n    messages: {\r\n        type: Array as PropType<Array<MessageData>>\r\n    },\r\n    height: {\r\n        type: String,\r\n        default: '100vh'\r\n    },\r\n    config: {\r\n        type: Object,\r\n        default() {\r\n            return {}\r\n        }\r\n    },\r\n    refresh: {\r\n        type: Function as PropType<() => any>\r\n    },\r\n    disabledPull: {\r\n        type: Boolean\r\n    }\r\n})\r\n\r\nconst config = computed<Config>(() => {\r\n    const config = props.config\r\n    const baseConf: Config = {\r\n        /**\r\n         * 主题\r\n         */\r\n        theme: 'light',\r\n        /**\r\n        * 图片上传配置(vant) 文件、视频...以此类推\r\n        * @doc vant-uploader  https://vant-contrib.gitee.io/vant/#/zh-CN/uploader#props\r\n        * @warn 如果和imageUploader中的配置存在冲突那么以imageUploader为准\r\n        */\r\n        vanImageUploader: {},\r\n        /**\r\n         * 图片上传\r\n         */\r\n        imageUploader: {\r\n            /**\r\n             * 文件大小限制，单位为 kb\r\n             */\r\n            maxSize: 500,\r\n            /**\r\n             * 允许的文件类型\r\n             */\r\n            accept: [\"image/*\"]\r\n        },\r\n        /**\r\n         * 文件上传\r\n         */\r\n        fileUploader: {\r\n            maxSize: 500,\r\n            accept: ['*'],\r\n        },\r\n        /**\r\n         * 视频上传\r\n         */\r\n        videoUploader: {\r\n            maxSize: 500,\r\n            accept: ['video/*']\r\n        },\r\n        /**\r\n         * 开放的功能\r\n         */\r\n        open: [\"text\", \"emoji\", \"image\", \"audio\", \"file\", \"video\", \"location\"],\r\n        /**\r\n         * 扩展主面板功能\r\n         */\r\n        extPanelItems: []\r\n    };\r\n    const reConf = assignIn(baseConf, config);\r\n    // console.log('reConf', reConf, config)\r\n    return reConf;\r\n})\r\n\r\n\r\nconst switchPanel = (val) => {\r\n    emitter.emit(eventsConst.COMMENT_PANEL_SWITCH, val)\r\n}\r\n\r\nprovide('parentHeight', props.height)\r\nprovide('config', config.value);\r\nprovide('emitter', emitter);\r\n// console.log('config', config.value)\r\n\r\n\r\ndefineExpose({\r\n    switchPanel\r\n})\r\n\r\nonMounted(() => {\r\n    emitter.on(eventsConst.COMMENT_SUBMIT, (val) => {\r\n        // console.log('comment COMMENT_SUBMIT :', val)\r\n        emit('submit', val)\r\n    })\r\n\r\n    emitter.on(eventsConst.RECORD_START, (val) => {\r\n        // console.log('录音开始 RECORD_START :', val)\r\n        emit('recordStart', val)\r\n    })\r\n\r\n    emitter.on(eventsConst.RECORD_CANCEL, (val) => {\r\n        // console.log('录音取消 RECORD_CANCEL :', val)\r\n        emit('recordCancel', val)\r\n    })\r\n\r\n    emitter.on(eventsConst.RECORD_STOP, (val) => {\r\n        // console.log('录音停止 RECORD_STOP :', val)\r\n        emit('recordStop', val)\r\n    })\r\n\r\n    emitter.on(eventsConst.CLICK_AVATAR, (val) => {\r\n        // console.log('点击头像 AVATAR_CLICK :', val)\r\n        emit('clickAvatar', val)\r\n    })\r\n    emitter.on(eventsConst.CLICK_PANEL_ITEM, (val) => {\r\n        // console.log('点击主面板item CLICK_PANEL_ITEM :', val)\r\n        emit('clickPanelItem', val)\r\n    })\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n// @import url('../assets/css/common.css');\r\n@import '../assets/css/theme';\r\n@import '../assets/css/animate';\r\n// @import url('../assets/css/vw/index.scss');\r\n\r\n.m-chat {}\r\n</style>","// https://github.com/youzan/vant/issues/8302\r\n// type EventShim = {\r\n//     new(...args: any[]): {\r\n//         $props: {\r\n//             onClick?: (...args: any[]) => void;\r\n//         };\r\n//     };\r\n// };\r\n\r\nexport type WithInstall<T> = T & {\r\n    install(app: any): void;\r\n};\r\n\r\n// using any here because tsc will generate some weird results when using generics\r\nexport function withInstall<T>(options: any): WithInstall<T> {\r\n    options.install = (app: any, opts) => {\r\n        const { name } = options as any;\r\n        app.component(name, options);\r\n    };\r\n\r\n    return options;\r\n}","import _MChat from './components/MChat.vue'\r\nimport { withInstall } from './with-install';\r\n\r\nexport * from './type';\r\nexport * from './enum';\r\n\r\nexport type { Config } from './type'\r\nexport type { MessageData } from './type'\r\n\r\n\r\n\r\nconst MChat = withInstall<typeof _MChat>(_MChat);\r\n\r\nexport default MChat\r\n\r\n"],"names":["mitt","n","all","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","isDef","val","isFunction","isObject","isPromise","then","catch","isNumeric","test","isIOS","inBrowser","navigator","userAgent","toLowerCase","noop","extend","Object","assign","window","object","path","keys","split","result","forEach","key","_a","pick","obj","ignoreUndefined","reduce","ret","toArray","item","Array","isArray","unknownProp","numericProp","Number","String","truthProp","type","Boolean","default","makeRequiredProp","required","makeArrayProp","makeNumberProp","defaultVal","makeNumericProp","makeStringProp","raf","fn","requestAnimationFrame","doubleRaf","isWindow","makeDOMRect","width2","height2","top","left","right","bottom","width","height","useRect","elementOrRef","element","unref","innerWidth","innerHeight","getBoundingClientRect","useParent","parent","inject","instance","getCurrentInstance","link","unlink","internalChildren","onUnmounted","index","computed","ref2","flattenVNodes","children","traverse","children2","child","isVNode","component","subTree","sortChildren","publicChildren","vnodes","sort","a","b","vnode","orderedPublicChildren","proxy","useChildren","reactive","getCurrentInstance2","linkChildren","value","provide","onMountedOrActivated","hook","mounted","onMounted","nextTick","onActivated2","useEventListener","listener","options","target","passive","capture","attached","add","target2","unref2","addEventListener","remove","removeEventListener","onUnmounted2","onDeactivated2","isRef","watch","oldVal","useWindowSize","ref4","update","overflowScrollReg","defaultRoot","visibility","isElement","node","tagName","nodeType","getScrollParent","el","root","overflowY","getComputedStyle","parentNode","useScrollParent","scrollParent","ref5","onMounted2","usePageVisibility","ref6","document","hidden","CUSTOM_FIELD_INJECTION_KEY","Symbol","useCustomFieldValue","customValue","field","inject2","watch2","resetValidation","validateWithTrigger","getScrollTop","scrollTop","pageYOffset","Math","max","checkIsIOS","stopPropagation","event","preventDefault","isStopPropagation","cancelable","isHidden","elementRef","style","display","parentHidden","offsetParent","position","windowWidth","windowHeight","addUnit","getSizeStyle","originSize","size","getZIndexStyle","zIndex","camelizeRE","camelize","str","replace","_","c","toUpperCase","kebabCase","clamp","num","min","hasOwnProperty","prototype","assignKey","to","from","call","deepAssign","stdin_default","name","tel","save","confirm","cancel","delete","loading","noCoupon","nameEmpty","addContact","telInvalid","vanCalendar","end","start","title","weekdays","monthTitle","year","month","rangePrompt","maxRange","vanCascader","select","vanPagination","prev","next","vanPullRefresh","pulling","loosing","vanSubmitBar","label","vanCoupon","unlimited","discount","condition","vanCouponCell","count","vanCouponList","exchange","close","enable","disabled","placeholder","vanAddressEdit","area","postal","areaEmpty","addressEmpty","postalEmpty","addressDetail","defaultAddress","vanAddressList","lang","ref","messages","defaultMessages","Locale","use","newLang","newMessages","this","createTranslate","prefix","args","locale","message","genBem","mods","createBEM","createNamespace","prefixedName","BORDER","BORDER_SURROUND","HAPTICS_FEEDBACK","callInterceptor","interceptor","done","canceled","returnVal","apply","withInstall","install","app","POPUP_TOGGLE_KEY","onPopupReopen","callback","popupToggleStatus","show","useExpose","apis","routeProps","url","route","$router","router","location","href","useRoute","vm","bem","badgeProps","dot","tag","color","offset","content","showZero","defineComponent","props","setup","slots","hasContent","renderContent","style2","background","x","y","startsWith","marginTop","marginLeft","renderBadge","_createVNode","class","fixed","Badge","_Badge","globalZIndex","useGlobalZIndex","setGlobalZIndex","CONFIG_PROVIDER_KEY","configProviderProps","themeVars","iconPrefix","mapThemeVarsToCSSVars","cssVars","watchEffect","isImage","name2","includes","iconProps","badge","classPrefix","config","isImageIcon","_mergeProps","fontSize","src","Icon","_Icon","SpinIcon","fill","CircularIcon","viewBox","cx","cy","r","loadingProps","vertical","textSize","textColor","spinnerStyle","renderText","Loading","_Loading","buttonProps","text","icon","block","plain","round","square","hairline","nativeType","loadingSize","loadingText","loadingType","iconPosition","emits","renderIcon","getStyle","border","borderColor","onClick","classes","f","Button","_Button","popupSharedProps","overlay","duration","teleport","lockScroll","lazyRender","beforeClose","Function","overlayStyle","overlayClass","transitionAppear","closeOnClickOverlay","getDirection","useTouch","startX","startY","deltaX","deltaY","offsetX","offsetY","direction","reset","move","touch","touches","clientX","clientY","abs","isVertical","isHorizontal","totalLockCount","BODY_LOCK_CLASS","useLockScroll","rootRef","shouldLock","onTouchMove","scrollHeight","offsetHeight","status","parseInt","lock","body","classList","unlock","destroy","onDeactivated","onBeforeUnmount","useLazyRender","inited","immediate","render","overlayProps","className","customStyle","renderOverlay","animationDuration","_withDirectives","_vShow","Transition","appear","Overlay","_Overlay","popupProps","closeIcon","closeable","transition","closeOnPopstate","closeIconPosition","safeAreaInsetTop","safeAreaInsetBottom","inheritAttrs","attrs","opened","shouldReopen","popupRef","open","onClickOverlay","role","tabindex","onClickCloseIcon","renderCloseIcon","onOpened","onClosed","onKeydown","renderPopup","renderTransition","onAfterEnter","onAfterLeave","focus","onActivated","Teleport","_Fragment","Popup","_Popup","usePopupState","state","toggle","mountComponent","RootComponent","createApp","createElement","appendChild","mount","unmount","removeChild","lockCount","lockClick","popupInheritProps","toastProps","iconSize","forbidClick","closeOnClick","timer","clickable","toggleClickable","newValue","updateShow","clearTimer","clearTimeout","renderMessage","innerHTML","setTimeout","defaultOptions","onClose","queue","allowMultiple","currentOptions","defaultOptionsMap","parseOptions","createInstance","filter","VanToast","o","clear","getInstance","length","Toast","toast","parsedOptions","createMethod","setDefaultOptions","success","fail","shift","resetDefaultOptions","globalProperties","$toast","imageProps","alt","fit","radius","lazyLoad","showError","errorIcon","showLoading","loadingIcon","error","imageRef","$Lazyload","overflow","borderRadius","onLoad","onError","slot","renderImage","objectFit","objectPosition","_resolveDirective","onLazyLoaded","check","onLazyLoadError","$on","$off","Image","_Image","swipeProps","loop","autoplay","touchable","initialSwipe","indicatorColor","showIndicators","SWIPE_KEY","track","rect","active","swiping","delta","minOffset","maxCount","ceil","trackSize","activeIndicator","isCorrectDirection","expect","trackStyle","transitionDuration","transform","mainAxis","crossAxis","getTargetOffset","targetActive","currentPosition","targetOffset","pace","emitChange","outRightBound","setOffset","outLeftBound","correctPosition","autoplayTimer","stopAutoplay","initialize","cb","_b","offsetWidth","swipe","resize","touchStartTime","onTouchStart","Date","now","onTouchEnd","speed","renderDot","backgroundColor","swipeTo","targetIndex","visible","onTouchstartPassive","onTouchend","onTouchcancel","indicator","total","Swipe","_Swipe","rendered","process","env","NODE_ENV","console","shouldRender","maxActive","prevActive","nextActive","SwipeItem","_SwipeItem","getDistance","sqrt","minZoom","maxZoom","rootWidth","rootHeight","scale","moveX","moveY","moving","zooming","imageRatio","displayWidth","displayHeight","swipeItem","rootRatio","imageStyle","maxMoveX","maxMoveY","setScale","resetScale","fingerNum","startMoveX","startMoveY","startScale","startDistance","doubleTapTimer","checkTap","deltaTime","toggleScale","naturalWidth","naturalHeight","distance","$el","imageSlots","imagePreviewProps","images","showIndex","swipeDuration","startPosition","swipeRef","emitScale","emitClose","setActive","renderIndex","renderCover","cover","renderClose","onChange","image","ImagePreviewItem","onScale","defaultConfig","initInstance","VanImagePreview","ImagePreview","Component","DEFAULT_HEAD_HEIGHT","TEXT_STATUS","pullRefreshProps","modelValue","headHeight","successText","pullingText","loosingText","pullDistance","successDuration","reachTop","getHeadStyle","isTouchable","setStatus","isLoading","getStatusText","renderStatus","nodes","checkPosition","PullRefresh","_PullRefresh","readFileContent","file","resultType","Promise","resolve","reader","FileReader","onload","readAsDataURL","readAsText","isOversize","items","maxSize","some","filterFiles","valid","invalid","IMAGE_REGEXP","isImageUrl","isImageFile","imageFit","deletable","previewSize","beforeDelete","renderMask","MaskIcon","showMessage","onDelete","onPreview","renderDeleteIcon","shadow","renderPreview","uploaderProps","accept","multiple","readonly","Infinity","uploadIcon","uploadText","afterRead","showUpload","beforeRead","previewImage","previewOptions","previewFullImage","inputRef","urls","getDetail","resetInput","onAfterRead","readFile","files","remainCount","contents","fileList","response","data","imagePreview","onClosePreview","renderPreviewItem","needPickData","previewData","UploaderPreviewItem","imageFiles","item2","URL","createObjectURL","renderPreviewList","onClickUpload","renderUpload","Input","revokeObjectURL","chooseFile","click","closeImagePreview","Uploader","_Uploader","factory","svgNS","locationHref","_useWebWorker","initialDefaultFrame","setWebWorker","flag","getWebWorker","setLocationHref","getLocationHref","createTag","extendPrototype","sources","destination","sourcePrototype","len","attr","getDescriptor","prop","getOwnPropertyDescriptor","createProxyFunction","ProxyFunction","audioControllerFactory","AudioController","audioFactory","audios","_volume","_isMuted","addAudio","audio","pause","resume","setRate","rateValue","createAudio","assetPath","Howl","isPlaying","play","seek","playing","rate","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","createTypedArray","createRegularArray","arr","Uint8ClampedArray","Float32Array","Int16Array","createSizedArray","_typeof$6","iterator","constructor","subframeEnabled","expressionsPlugin","idPrefix$1","isSafari","bmPow","pow","bmSqrt","bmFloor","floor","bmMax","bmMin","BMMath","propertyNames","random","absArr","defaultCurveSegments","degToRads","PI","roundCorner","styleDiv","transformOrigin","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","BMEnterFrameEvent","currentTime","totalTime","frameMultiplier","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","createElementID","_count","HSVtoRGB","h","s","v","g","p","q","RGBtoHSV","d","addSaturationToRGB","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","hex","colorMap","toString","setSubframeEnabled","getSubframeEnabled","setExpressionsPlugin","getExpressionsPlugin","setDefaultCurveSegments","getDefaultCurveSegments","setIdPrefix","createNS","createElementNS","_typeof$5","dataManager","workerFn","workerInstance","_counterId","processes","workerProxy","onmessage","postMessage","_workerSelf","setupWorker","Worker","Blob","blob","completeLayers","layers","comps","layerData","j","jLen","k","kLen","completed","tt","td","hasMask","maskProps","masksProperties","pt","convertPathsToAbsoluteValues","ty","findCompLayers","refId","completeShapes","shapes","completeText","id","comp","__used","JSON","parse","stringify","ks","it","checkVersion","minimum","animVersionString","animVersion","minimumVersion","checkText","iterateLayers","textLayer","documentData","animationData","assets","checkChars","chars","charData","ip","op","st","sr","sk","sa","checkPathProperties","pathData","checkColors","iterateShapes","checkShapes","completeClosingShapes","closed","cl","moduleOb","__complete","dataFunctionManager","assetLoader","formatResponse","xhr","contentTypeHeader","getResponseHeader","responseType","responseText","load","fullPath","errorCallback","XMLHttpRequest","onreadystatechange","readyState","err","send","completeData","payload","animation","onComplete","createProcess","loadAnimation","processId","origin","pathname","loadData","completeAnimation","anim","ImagePreloader","proxyImage","canvas","ctx","getContext","fillStyle","fillRect","imageLoaded","loadedAssets","totalImages","loadedFootagesCount","totalFootages","imagesLoadedCb","footageLoaded","getAssetsPath","assetData","assetsPath","originalPath","imagePath","u","testImageLoaded","img","intervalId","setInterval","getBBox","_imageLoaded","clearInterval","bind","createFootageData","ob","footageData","_footageLoaded","ImagePreloaderFactory","loadAssets","_createImageData","setAssetsPath","setPath","loadedImages","loadedFootages","getAsset","createImgData","crossOrigin","createImageData","setAttributeNS","_elementHelper","append","setCacheType","elementHelper","BaseEvent","triggerEvent","eventName","_cbs","callbacks","markerParser","parsePayloadLines","line","lines","keysCount","trim","Error","_markers","markers","_marker","markerData","time","tm","dr","cm","ProjectInterface","registerComposition","compositions","_thisProjectFunction","nm","prepareFrame","xt","currentFrame","compInterface","renderers","registerRenderer","getRenderer","_typeof$4","AnimationItem","isLoaded","currentRawFrame","frameRate","frameMult","playSpeed","playDirection","playCount","isPaused","renderer","animationID","timeCompleted","segmentPos","isSubframeEnabled","segments","_idle","_completedLoop","projectInterface","imagePreloader","audioController","configAnimation","onSetupError","onSegmentComplete","drawnFrameEvent","setParams","params","wrapper","container","animType","RendererClass","rendererSettings","globalData","defs","setProjectInterface","autoloadSegments","initialSegment","setupAnimation","lastIndexOf","substr","fileName","trigger","setData","wrapperAttributes","attributes","getNamedItem","prerender","includeLayers","newLayers","fonts","fontManager","addChars","addFonts","initExpressions","loadNextSegment","segment","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","animData","fr","searchExtraCompositions","updaFrameModifier","waitForFontsLoaded","triggerConfigError","rendererType","initItems","gotoFrame","updateContainerSize","setSubframe","renderFrame","triggerRenderFrameError","togglePause","stop","setCurrentRawFrameValue","getMarkerData","markerName","marker","goToAndStop","isFrame","numValue","isNaN","frameModifier","goToAndPlay","playSegments","advanceTime","nextValue","_isComplete","checkSegments","adjustSegment","setSpeed","setDirection","setSegment","init","pendingFrame","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onSegmentStart","onDestroy","getPath","getAssetData","hide","getDuration","updateDocumentData","getElementByPath","animationManager","registeredAnimations","initTime","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","subtractPlayingCount","registerAnimation","elem","addPlayingCount","activate","nowTime","elapsedTime","first","searchAnimations","standalone","animElements","concat","getElementsByClassName","lenAnims","setAttribute","getElementsByTagName","innerText","div","freeze","unfreeze","getRegisteredAnimations","animations","BezierFactory","beziers","bezEasing","BezierEasing","kSampleStepSize","float32ArraySupported","A","aA1","aA2","B","C","calcBezier","aT","getSlope","points","_p","_mSampleValues","_precomputed","mX1","mY1","mX2","mY2","_precompute","_getTForX","_calcSampleValues","aX","mSampleValues","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","aA","aB","currentX","currentT","pooling","double","poolFactory","initialLength","_create","_release","_length","_maxLength","pool","newElement","release","bezierLengthPool","addedLength","percents","lengths","segmentsLengthPool","totalLength","bezFunction","math","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","getBezierLength","pt1","pt2","pt3","pt4","ptCoord","perc","ptDistance","curveSegments","point","lastPoint","lengthData","BezierData","segmentLength","PointData","partial","partialLength","storedData","buildBezierData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","dir","bezierSegmentPoints","getSegmentsLength","shapeData","segmentsLength","pathV","pathO","pathI","getNewSegment","startPerc","endPerc","t0","t1","u0","u1","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","getPointInSegment","percent","pointOnLine3D","z1","z2","z3","diffDist","dist1","dist2","dist3","bez","PropertyFactory","initFrame","mathAbs","interpolateValue","frameNum","caching","offsetTime","propType","pv","keyData","nextKeyData","keyframeMetadata","fnc","iterationIndex","lastIndex","keyframes","keyframesMetadata","endValue","out","quat","qx","qy","qz","qw","heading","attitude","bank","nextKeyTime","keyTime","ti","ind","__fnct","getBezierEasing","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quatStart","createQuaternion","quatEnd","omega","cosom","sinom","scale0","scale1","ax","ay","az","aw","bx","by","bz","bw","acos","sin","atan2","asin","undefined","values","c1","cos","c2","c3","s1","s2","s3","getValueAtCurrentTime","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","_mdf","processEffectsSequence","frameId","effectsSequence","_isFirstFrame","finalValue","kf","addEffect","effectFunction","addDynamicProperty","ValueProperty","vel","getValue","MultiDimensionalProperty","KeyframedValueProperty","KeyframedMultidimensionalProperty","arrLen","getProp","DynamicPropertyContainer","dynamicProperties","_isAnimated","iterateDynamicProperties","initDynamicPropertyContainer","pointPool","ShapePath","setPathData","setLength","doubleArrayLength","setXYAt","pos","setTripleAt","vX","vY","oX","oY","iX","iY","reverse","newPath","vertices","outPoints","inPoints","cnt","shapePool","shapePath","clone","shape","cloned","ShapeCollection","addShape","releaseShapes","shapeCollectionPool","newShapeCollection","shapeCollection","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","paths","localShapeCollection","shape1","shape2","ShapeProperty","KeyframedShapeProperty","EllShapeProperty","cPoint","EllShapePropertyFactory","convertEllToPath","p0","p1","s0","_cw","_v","StarShapeProperty","StarShapePropertyFactory","sy","ir","is","convertToPath","convertStarToPath","convertPolygonToPath","or","os","rad","roundness","perimSegment","numPts","angle","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","currentAng","ox","oy","RectShapeProperty","RectShapePropertyFactory","convertRectToPath","v0","v1","Matrix","_cos","_sin","_tan","tan","_rnd","rotate","mCos","mSin","_t","rotateX","rotateY","rotateZ","shear","sx","skew","skewFromAxis","sz","setTransform","l","m","translate","tx","tz","a2","b2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_identityCalculated","a1","b1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","isIdentity","_identity","equals","matr","cloneFromProps","applyToPoint","z","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","_typeof$3","lottie","setLocation","setSubframeRendering","setPrefix","setQuality","installPlugin","plugin","getFactory","checkReady","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","decodeURIComponent","useWebWorker","setIDPrefix","__getFactory","version","scripts","myScript","exports","bodymovin","ShapeModifiers","modifiers","registerModifier","getModifier","ShapeModifier","TrimModifier","PuckerAndBloatModifier","initModifierProperties","addShapeToModifier","setAsAnimated","processKeys","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","segmentOb","shapeSegments","shapeS","shapeE","releasePathsData","processShapes","shapePaths","_s","totalShapeLength","edges","newShapesData","addShapes","lastShape","pop","addPaths","newPaths","addSegment","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","amount","processPath","centerPoint","pathLength","clonedPath","TransformPropertyFactory","defaultVector","TransformProperty","pre","appliedTransformations","px","py","pz","rx","ry","rz","_isDirty","applyToMatrix","mat","forceRender","precalculateMatrix","autoOriented","v2","getValueAtTime","autoOrient","_addDynamicProperty","getTransformProperty","RepeaterModifier","RoundCornersModifier","getFontProperties","fontData","styles","fStyle","fWeight","weight","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","matrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","unshift","resetElements","elements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","itemsTransform","cont","hasReloaded","copies","group","ix","reloadShapes","elems","transformData","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","rd","currentV","currentI","currentO","closerV","newPosPerc","FontManager","emptyChar","w","combinedCharacters","surrogateModifiers","zeroWidthJoiner","setUpNode","font","family","fontFamily","fontVariant","fontStyle","fontWeight","letterSpacing","familyArray","enabledFamilies","join","createHelper","def","helper","engine","fontProps","tHelper","fFamily","textContent","fClass","tCanvasHelper","OffscreenCanvas","measureText","getComputedTextLength","Font","typekitLoaded","_warned","setIsLoadedBinded","setIsLoaded","checkLoadedFontsBinded","checkLoadedFonts","isModifier","firstCharCode","secondCharCode","sum","isZeroWidthJoiner","isCombinedCharacter","_char3","fontPrototype","found","ch","list","cache","fontArr","_pendingFonts","loadedSelector","shouldLoadFont","loaded","monoCase","sansCase","fPath","fOrigin","querySelectorAll","rel","sc","getCharData","_char","charCodeAt","warn","getFontByName","fName","_char2","fontName","doubleSize","singleSize","loadedCount","RenderableElement","initRenderable","isInRange","isTransparent","renderableComponents","addRenderableComponent","removeRenderableComponent","prepareRenderableFrame","checkLayerLimits","checkTransparency","finalTransform","mProp","renderConfig","hideOnTransparent","renderRenderable","sourceRectAtTime","getLayerSize","textData","MaskManagerInterface","MaskInterface","mask","_mask","_data","defineProperty","maskManager","_masksInterfaces","viewData","ExpressionPropertyInterface","defaultUnidimensionalValue","defaultMultidimensionalValue","completeProperty","expressionValue","property","getVelocityAtTime","numKeys","valueProp","valueAtTime","speedAtTime","getSpeedAtTime","velocityAtTime","propertyGroup","defaultGetter","arrValue","TransformExpressionInterface","_thisFunction","rotation","xRotation","yRotation","xPosition","yPosition","zPosition","anchorPoint","opacity","_px","_py","_pz","_transformFactory","LayerExpressionInterface","getMatrix","toWorldMat","_elem","toWorldVec","applyPoint","toWorld","fromWorldVec","invertPoint","fromWorld","hierarchy","fromComp","sampleImage","transformInterface","_thisLayerFunction","shapeInterface","effect","textInterface","toComp","anchorPointDescriptor","defineProperties","hasParent","layerInterface","anchor_point","startTime","source","inPoint","outPoint","_name","registerMaskInterface","registerEffectsInterface","effects","propertyGroupFactory","interfaceFunction","parentPropertyGroup","PropertyInterface","propertyName","EffectsExpressionInterface","createEffectsInterface","effectsManager","effectElements","effectsData","ef","createGroupInterface","groupInterface","mn","_propertyGroup","createValueInterface","numProperties","np","enabled","en","expressionProperty","setGroupProperty","CompExpressionInterface","layer","pixelAspect","compSize","frameDuration","displayStartTime","numLayers","ShapePathInterface","view","propertyIndex","ShapeExpressionInterface","iterateElements","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","gradientFillInterfaceFactory","interfaces","transformInterfaceFactory","cix","startPoint","endPoint","_dashPropertyGroup","dashOb","addPropertyToDashOb","dataProps","strokeWidth","dash","skewAxis","outerRadius","outerRoundness","innerRoundness","innerRadius","_interfaceFunction","TextExpressionInterface","_prevValue","_sourceText","sourceText","textProperty","stringValue","currentData","getBlendMode","blendModeEnums","mode","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","EffectsManager","effectItem","GroupEffect","BaseElement","FrameElement","_typeof$2","eff","checkMasks","effectsInterface","shapesData","itemsData","setBlendMode","blendModeValue","bm","baseElement","layerElement","initBaseData","layerId","getType","prepareProperties","isVisible","_isParent","FootageInterface","dataInterfaceFactory","outlineInterface","currentPropertyName","currentProperty","getFootageData","searchProperty","propertyNameIndex","dataInterface","FootageElement","imageLoader","AudioElement","_isPlaying","_canPlay","_currentTime","_volumeMultiplier","_previousVolume","_placeholder","lv","au","BaseRenderer","TransformElement","MaskElement","maskElement","solidPath","expansor","feMorph","properties","currentMasks","maskType","maskRef","getShapeProp","lastPath","filterID","expan","lastOperator","filterId","lastRadius","createLayerSolidPath","invRect","drawPath","maskedElement","getBaseElement","timeRemapped","totalVolume","volumeValue","checkLayers","buildItem","checkPendingElements","createItem","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","createFootage","buildAllItems","pInterface","progressiveLoad","buildElementParenting","parentName","setAsParent","setHierarchy","addPendingElement","pendingElements","pathValue","setupGlobalData","fontsContainer","animationItem","initTransform","_matMdf","_opMdf","ao","renderTransform","finalMat","globalToLocal","transforms","ptNew","mHelper","getMaskProperty","isFirstFrame","getMaskelement","pathNodes","pathString","pathShapeValue","filtersFactory","filId","skipCoordinates","fil","feColorMatrix","featureSupport","registeredEffects","idPrefix","SVGEffects","filterManager","createFilter","filters","countsAsEffect","registerEffect","SVGBaseElement","HierarchyElement","RenderableDOMElement","IImageElement","initElement","sourceRect","ProcessedElement","IShapeElement","initRendererElement","createContainerElements","matteElement","transformedElement","_sizeChanged","gg","layerElementParent","masker","createAlphaToLuminanceFilter","maskGroup","maskGrouper","feCTr","feFunc","alphaRect","ln","hd","cp","clipId","cpGroup","renderElement","destroyBaseElement","createRenderableComponents","renderableEffectsManager","setMatte","initHierarchy","checkParenting","createContent","renderInnerContent","innerElem","pr","imagePreserveAspectRatio","addShapeToModifiers","shapeModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","searchProcessedElement","processedElements","addProcessedElement","lineCapEnum","lineJoinEnum","SVGShapeData","transformers","level","caches","lStr","lvl","SVGStyleData","pElem","msElem","DashProperty","dashStr","dashArray","dashoffset","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGNoStyleData","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","SVGGradientFillStyleData","initGradientData","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","SVGTransformData","comparePoints","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","gf","cst","opacityId","maskId","opFill","lc","lj","ml","of","ms","ost","buildShapeString","_o","_i","shapeString","SVGElementsRenderer","_identityMatrix","_matrixHelper","renderContentTransform","styleData","itemData","renderNoop","renderPath","pathStringTransformed","redraw","iterations","lLen","renderFill","styleElem","renderGradientStroke","renderGradient","renderStroke","hasOpacity","attr1","attr2","cValues","oValues","ang","dist","createRenderFunction","SVGShapeElement","stylesList","animatedContents","LetterProps","sw","fc","TextProperty","_frameId","keysIndex","canResize","minimumFontSize","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ls","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","completeTextData","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","setElementStyles","currentTransform","modifier","processedPos","ownStyles","ownModifiers","renderShape","animatedContent","updated","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","buildFinalText","charCode","charactersArray","shouldCombine","charAt","newLineFlag","letters","anchorGrouping","currentSize","currentPos","currentLine","lineWidth","maxLineWidth","trackingOffset","currentHeight","boxHeight","lastSpaceIndex","currentChar","uncollapsedSpaces","an","anIndexes","animatorJustifyOffset","extra","animatorData","letterData","based","animators","indexes","fh","fs","fb","rn","totalChars","newInd","currentInd","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","TextSelectorProp","TextSelectorPropFactory","_currentTextLength","finalS","finalE","xe","ne","sm","getMult","easer","tot","smoothness","threshold","newCharsFlag","divisor","getTextSelectorProp","TextAnimatorDataProperty","animatorProps","defaultData","textAnimatorAnimatables","TextAnimatorProperty","renderType","_hasMaskedPath","_textData","_renderType","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","ITextElement","searchProperties","getMeasures","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","prevPoint","tanAngle","matrixHelper","renderedLettersCount","tLength","pi","letterValue","yOff","firstLine","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterO","initPathPos","initSegmentInd","initPointInd","letterM","letterP","defaultPropsArray","animatorFirstCharOffset","justifyOffsetMult","isNewLine","animatorOffset","rot","atan","textAnimator","buildNewText","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","emptyShapeData","SVGTextLottieElement","textSpans","ISolidElement","NullElement","SVGRendererBase","ICompElement","SVGCompElement","supports3d","SVGRenderer","svgElement","ariaLabel","titleElement","titleId","description","descElement","descId","preserveAspectRatio","contentVisibility","viewBoxOnly","viewBoxSize","focusable","filterSize","destroyed","CVContextData","saved","cArrPos","cTr","cO","savedOp","ShapeTransformManager","sequences","sequenceList","transform_key_count","CVEffects","CVMaskElement","hasMasks","CVBaseElement","CVShapeData","transformsManager","styledShapes","styledShape","addTransformSequence","trNodes","CVShapeElement","CVTextElement","stroke","currentRender","sWidth","fValue","CVImageElement","CVSolidElement","CanvasRendererBase","clearCanvas","context","dpr","devicePixelRatio","currentGlobalAlpha","contextData","transformMat","CVCompElement","CanvasRenderer","HBaseElement","HSolidElement","HShapeElement","shapesContainer","currentBBox","HTextElement","textPaths","isMasked","HCameraElement","pe","_prevMat","HImageElement","HybridRendererBase","threeDElements","camera","HCompElement","HybridRenderer","singleShape","textContainer","buildTextContents","textArray","textContents","currentTextContent","fromCharCode","buildShapeData","shapeItem","tSpan","usesGlyphs","cachedSpansLength","span","childSpan","glyph","glyphElement","_debug","tElement","justify","textBox","bbox","renderedLetter","textSpan","appendElementInPos","nextElement","insertBefore","setElements","getElements","destroyElements","duplicate","newLength","currentSavedOp","sequence","processSequence","processSequences","getNewKey","canvasContext","beginPath","moveTo","lineTo","bezierCurveTo","clip","createElements","blendMode","globalCompositeOperation","hideElement","showElement","forceRealStack","ctxTransform","ctxOpacity","restore","transformHelper","dashResetter","preTransforms","co","wi","da","addTransformToStyleList","removeTransformFromStyleList","closeStyles","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","drawLayer","currentStyle","coOp","strokeStyle","grd","lineCap","lineJoin","miterLimit","setLineDash","lineDashOffset","closePath","isMain","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","createLinearGradient","createRadialGradient","addColorStop","hasFill","hasStroke","commands","pathArr","commandsCounter","lastFill","lastStroke","lastStrokeW","widthCrop","heightCrop","imgW","imgH","imgRel","canvasRel","par","drawImage","cProps","trProps","globalAlpha","actionFlag","popped","containerStyle","mozTransformOrigin","transformCanvas","isDashed","elementWidth","elementHeight","elementRel","animationRel","fillType","clearRect","checkBlendMode","tg","transformedElementStyle","matrixValue","webkitTransform","addEffects","_renderShapeFrame","shapeCont","getTransformedPoint","calculateShapeBoundingBox","boundingBox","vPoint","oPoint","nextIPoint","nextVPoint","checkBounds","getBoundsOfCurve","bounds","shapeBoundingBox","xMax","yMax","tempBoundingBox","p3","b2ac","t2","calculateF","calculateBoundingBox","expandStrokeBoundingBox","widthProperty","kfw","currentBoxContains","box","changed","shapeStyle","shapeTransform","compW","compH","innerElemStyle","lineHeight","tParent","tCont","tContStyle","tContTranslation","tStyle","tSpanTranslation","svgStyle","translation","textPath","margin","svgTransform","perspectiveStyle","perspectiveElem","perspective","webkitPerspective","mTransf","diffVector","mag","lookDir","lookLengthOnXZ","mRotationX","mRotationY","hasMatrixChanged","matValue","imageElem","newDOMElement","ddd","addTo3dContainer","nextDOMElement","nextLayer","getThreeDContainerByPos","startPos","endPos","createThreeDContainer","center","threeDContainerData","build3dContainers","lastThreeDContainerData","currentContainer","resizerElem","svg","cWidth","cHeight","floatingContainer","_createBaseContainerElements","Expressions","stackCount","registers","pushExpression","popExpression","releaseInstances","registerExpressionProperty","expression","_typeof$1","seedRandom","global","startdenom","significance","ARC4","keylen","me","S","copy","flatten","depth","typ","mixkey","seed","smear","stringseed","tostring","shortseed","entropy","Uint8Array","crypto","msCrypto","getRandomValues","browser","plugins","screen","autoseed","arc4","prng","int32","quick","pass","is_math_call","initialize$2","propTypes","SHAPE","_typeof","ExpressionManager","fetch","frames","$bm_isInstanceOfArray","isNumerable","tOfV","$bm_neg","tOfA","lenA","retArr","easeInBez","easeOutBez","easeInOutBez","tOfB","lenB","sub","mul","mod","$bm_sum","$bm_sub","$bm_mul","$bm_div","$bm_mod","mm","radiansToDegrees","radians_to_degrees","degreesToRadians","degrees_to_radians","helperLengthArray","arr1","arr2","normalize","vec","rgbToHsl","hue2rgb","hslToRgb","linear","tMin","tMax","value1","value2","_tMin","rnd","createPath","inTangents","outTangents","inVertexPoint","outVertexPoint","arrPlaceholder","initiateExpression","needsVelocity","_needsRandom","elemType","$bm_transform","thisProperty","loopIn","loop_in","loopOut","loop_out","smooth","fromCompToSurface","thisLayer","thisComp","scoped_bm_rt","expression_function","eval","wiggle","freq","amp","iWiggle","lenWiggle","addedAmps","periods","loopInDuration","loopOutDuration","velocity","textIndex","textTotal","selectorValue","lookAt","elem1","elem2","fVec","pitch","easeOut","val1","val2","applyEase","easeIn","ease","iKey","lenKey","nearestKey","obKey","framesToTime","fps","timeToFrames","seedrandom","randSeed","substring","posterizeTime","framesPerSecond","executeExpression","_value","frameExpressionId","__preventDeadCodeRemoval","expressionHelpers","searchExpressions","_cachingAtTime","getStaticValueAtTime","addPropertyDecorator","durationFlag","cycleDuration","firstKeyFrame","lastKeyFrame","initV","endV","current","repeats","lastValue","nextLastValue","firstValue","nextFirstValue","samples","sampleValue","sampleFrequency","getTransformValueAtTime","_transformCachingAtTime","anchor","rotationZ","rotationY","rotationX","orientation","positionX","positionY","positionZ","getTransformStaticValueAtTime","propertyGetProp","ShapePropertyConstructorFunction","getConstructorFunction","KeyframedShapePropertyConstructorFunction","getKeyframedConstructorFunction","ShapeExpressions","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","tangentOnPath","normalOnPath","shapeValue","lastTime","propertyGetShapeProp","trims","initialize$1","addDecorator","getExpressionValue","calculateExpression","isKeyframed","hasExpressions","SVGComposableEffect","SVGTintFilter","matrixFilter","feMerge","createMergeNode","SVGFillFilter","SVGStrokeEffect","initialized","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","SVGDropShadowEffect","globalFilterSize","feGaussianBlur","feOffset","feFlood","feComposite","resultId","ins","feMergeNode","colorBlack","colorWhite","groupPath","elemChildren","childNodes","removeAttribute","pathMasker","dasharrayValue","getTotalLength","lineLength","units","color1","color2","color3","tableR","tableG","tableB","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","colorValue","table","outputDelta","inputDelta","col","_svgMatteSymbols","SVGMatte3Effect","filterElem","SVGGaussianBlurEffect","findSymbol","replaceInParent","symbolId","nextChild","useElem","setElementAsMask","symbol","sigma","dimensions","sigmaX","sigmaY","edgeMode","module","_sfc_main","components","created","$refs","lotContainer","$emit","beforeDestroy","methods","_createElementBlock","_normalizeClass","$props","_normalizeStyle","$options","_hoisted_1","xmlns","_hoisted_2","_createStaticVNode","_hoisted_13","_ctx","_cache","_openBlock","videoImage","COMMENT_PANEL_SWITCH","MESSAGES_CLICK","COMMENT_SUBMIT","RECORD_START","RECORD_CANCEL","RECORD_STOP","CLICK_AVATAR","CLICK_PANEL_ITEM","CLICK_MAP_SEND","CLICK_MAP_CANCEL","EventCenter","customEvents","acticeEvents","func","log","findIndex","isOutElement","separator","isWeixin","match","urlEncode","encodeURIComponent","dowanload","download","MessageType","__default__","_createElementVNode","_hoisted_3","locationSvg","showVideo","audioAnimOptions","wifiJSON","playAudio","emitter","audioEc","currentItem","mchatScoller","mChatVideo","mChatAudio","animMap","animMapKeyPrefix","currentAudioAnim","clickImagePreview","initScoller","clickItem","lastItem","acticeItem","conf","imageUrl","vanImagePreview","videoUrl","audioUrl","audioEndListener","locationLonLat","clickCloseVideo","onRefresh","async","refresh","isRowWrap","eventsConst.COMMENT_PANEL_SWITCH","isDestroy","mChatScollerClick","eventsConst.MESSAGES_CLICK","eventsConst.CLICK_AVATAR","leadPage","fileUrl","_hoisted_4","keyboardSvg","voiceSvg","closeSvg","AMapUI","Loca","failed","notload","head","onerror","loadUI","arguments","AMap","host","___onAPILoaded","lonlat","address","infos","geocoder","clickSend","eventsConst.CLICK_MAP_SEND","clickCancel","eventsConst.CLICK_MAP_CANCEL","AMapLoader","Geocoder","geolocation","Geolocation","enableHighAccuracy","timeout","zoomToAccuracy","addControl","getCurrentPosition","lng","lat","getAddress","regeocode","formattedAddress","useSlots","showPanel","showSubmitBtn","showEmo","showMap","currentType","recordCode","recordAnimOptions","recordingJson","mChatInput","mChatRecord","mChatImgUploader","mChatFileUploader","mChatVideoUploader","eventCenter","defaultPanelItems","panelItems","extPanelItems","disabledPanel","onInputBlur","onInputFocus","onInputChange","onInputSubmit","eventsConst.COMMENT_SUBMIT","onSubmit","isOpenFunc","clickIcon","imageUploader","fileUploader","videoUploader","onOversize","eventsConst.RECORD_START","changedTouches","eventsConst.RECORD_CANCEL","eventsConst.RECORD_STOP","char","amap","eventsConst.CLICK_PANEL_ITEM","freeGlobal","_freeGlobal","require$$0","freeSelf","self","_root","_Symbol","objectProto","nativeObjectToString","symToStringTag","toStringTag","getRawTag","isOwn","unmasked","_getRawTag","objectToString","_objectToString","require$$1","require$$2","nullTag","undefinedTag","baseGetTag","_baseGetTag","isObject_1","asyncTag","funcTag","genTag","proxyTag","isFunction_1","coreJsData","_coreJsData","maskSrcKey","uid","exec","IE_PROTO","_isMasked","funcProto","funcToString","toSource","_toSource","require$$3","reRegExpChar","reIsHostCtor","reIsNative","RegExp","baseIsNative","_baseIsNative","_getValue","getNative","_getNative","_defineProperty","baseAssignValue","configurable","enumerable","writable","_baseAssignValue","eq","other","eq_1","assignValue","objValue","_assignValue","copyObject","customizer","isNew","_copyObject","identity","identity_1","thisArg","_apply","nativeMax","overRest","array","otherArgs","_overRest","constant","constant_1","baseSetToString","string","_baseSetToString","HOT_COUNT","HOT_SPAN","nativeNow","shortOut","lastCalled","stamp","remaining","_shortOut","setToString","_setToString","baseRest","_baseRest","MAX_SAFE_INTEGER","isLength","isLength_1","isArrayLike","isArrayLike_1","reIsUint","isIndex","_isIndex","isIterateeCall","_isIterateeCall","createAssigner","assigner","guard","_createAssigner","baseTimes","iteratee","_baseTimes","isObjectLike","isObjectLike_1","argsTag","baseIsArguments","_baseIsArguments","propertyIsEnumerable","isArguments","isArguments_1","isArray_1","stubFalse","stubFalse_1","freeExports","freeModule","Buffer","isBuffer","arrayTag","boolTag","dateTag","errorTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","_baseIsTypedArray","baseUnary","_baseUnary","freeProcess","nodeUtil","types","require","binding","nodeIsTypedArray","isTypedArray","isTypedArray_1","require$$4","require$$5","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","_arrayLikeKeys","isPrototype","Ctor","_isPrototype","nativeKeysIn","_nativeKeysIn","baseKeysIn","isProto","_baseKeysIn","keysIn","keysIn_1","assignIn","assignIn_1","slotsList","theme","vanImageUploader","expose","switchPanel","opts","MChat","_MChat"],"mappings":"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"}